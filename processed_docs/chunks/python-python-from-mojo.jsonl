{"chunk_id": "python-python-from-mojo-000", "document_id": "python-python-from-mojo", "content": "The Python ecosystem is full of useful libraries, so you shouldn't have to\nrewrite them in Mojo. Instead, you can simply import Python packages and call\nPython APIs from Mojo. The Python code runs in a standard Python interpreter\n(CPython), so your existing Python code doesn't need to change.\n\n## Specify your Python version\n\nMojo doesn't include a CPython interpreterâ€”it uses the CPython interpreter\nprovided by your environment's default Python version. So be sure you know\nwhich Python version you're using in each environment where your Mojo code will\nrun.\n\nTo ensure you get consistent results, we recommend you [use Pixi](/pixi) to\nmanage your package dependency and virtual environment. In a Pixi project,\nyou can specify the Python version like this:\n\n```sh\npixi add \"python==3.11\"\n```\n\nNow, even if your operating system's default Python version is something else,\nyour Pixi project (and the Mojo code inside) always uses Python 3.11.\n\n```sh\npixi run python --version\n```\n\n```output\nPython 3.11.0\n```", "position": 0, "token_count": 246, "has_code": true, "section_hierarchy": ["Specify your Python version"], "metadata": {"chunk_id": "python-python-from-mojo-000", "document_id": "python-python-from-mojo", "position": 0, "token_count": 246, "has_code": true, "overlap_with_previous": false, "section_hierarchy": ["Specify your Python version"], "file_path": "python/python-from-mojo.mdx", "url": "https://docs.modular.com/mojo/manual/python/python-from-mojo", "title": "Calling Python from Mojo", "category": null, "tags": [], "section_url": "https://docs.modular.com/mojo/manual/python/python-from-mojo#specify-your-python-version"}}
{"chunk_id": "python-python-from-mojo-001", "document_id": "python-python-from-mojo", "content": "## Import a Python module in Mojo\n\nTo import a Python module in Mojo, just call\n[`Python.import_module()`](/mojo/stdlib/python/python/Python#import_module)\nwith the module name. The following shows an example of importing the standard\nPython [NumPy](https://numpy.org/) package:\n\n```mojo\nfrom python import Python\n\ndef main():\n # This is equivalent to Python's `import numpy as np`\n np = Python.import_module(\"numpy\")\n\n # Now use numpy as if writing in Python\n array = np.array(Python.list(1, 2, 3))\n print(array)\n```\n\nRunning this program produces the following output:\n\n```output\n[1 2 3]", "position": 1, "token_count": 179, "has_code": true, "section_hierarchy": ["Import a Python module in Mojo"], "metadata": {"chunk_id": "python-python-from-mojo-001", "document_id": "python-python-from-mojo", "position": 1, "token_count": 179, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Import a Python module in Mojo"], "file_path": "python/python-from-mojo.mdx", "url": "https://docs.modular.com/mojo/manual/python/python-from-mojo", "title": "Calling Python from Mojo", "category": null, "tags": [], "section_url": "https://docs.modular.com/mojo/manual/python/python-from-mojo#import-a-python-module-in-mojo"}}
{"chunk_id": "python-python-from-mojo-002", "document_id": "python-python-from-mojo", "content": "```\n\nRunning this program produces the following output:\n\n```output\n[1 2 3]\n```\n\nAssuming that you have the NumPy package installed in your environment, this\nimports NumPy and you can use any of its features.\n\nIf you want to use Python builtin APIs, you just need to import the `builtins`\nmodule the same way. For example:\n\n```mojo\nfrom python import Python\n\ndef main():\n np = Python.import_module(\"numpy\")\n array = np.array(Python.list(1, 2, 3))\n\n builtins = Python.import_module(\"builtins\")\n print(builtins.type(array))\n```\n\n```output\n<class 'numpy.ndarray'>", "position": 2, "token_count": 169, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "python-python-from-mojo-002", "document_id": "python-python-from-mojo", "position": 2, "token_count": 169, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "python/python-from-mojo.mdx", "url": "https://docs.modular.com/mojo/manual/python/python-from-mojo", "title": "Calling Python from Mojo", "category": null, "tags": [], "section_url": "https://docs.modular.com/mojo/manual/python/python-from-mojo"}}
{"chunk_id": "python-python-from-mojo-003", "document_id": "python-python-from-mojo", "content": "```\n\nA few things to note:\n\n* The `import_module()` method returns a reference to the module in the form of\n a [`PythonObject`](/mojo/stdlib/python/python_object/PythonObject)\n wrapper. You must store the reference in a variable and then use it as shown\n in the example above to access functions, classes, and other objects defined\n by the module. See [Mojo wrapper objects](/mojo/manual/python/types#mojo-wrapper-objects)\n for more information about the `PythonObject` type.\n\n* Currently, you cannot import individual members (such as a single Python class\n or function). You must import the whole Python module and then access members\n through the module name.", "position": 3, "token_count": 163, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "python-python-from-mojo-003", "document_id": "python-python-from-mojo", "position": 3, "token_count": 163, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "python/python-from-mojo.mdx", "url": "https://docs.modular.com/mojo/manual/python/python-from-mojo", "title": "Calling Python from Mojo", "category": null, "tags": [], "section_url": "https://docs.modular.com/mojo/manual/python/python-from-mojo"}}
{"chunk_id": "python-python-from-mojo-004", "document_id": "python-python-from-mojo", "content": "* Currently, you cannot import individual members (such as a single Python class\n or function). You must import the whole Python module and then access members\n through the module name.\n\n* Mojo doesn't yet support top-level code, so the `import_module()` call must\n be inside another method. This means you may need to import a module multiple\n times or pass around a reference to the module. This works the same way as\n Python: importing the module multiple times won't run the initialization\n logic more than once, so you don't pay any performance penalty.", "position": 4, "token_count": 121, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "python-python-from-mojo-004", "document_id": "python-python-from-mojo", "position": 4, "token_count": 121, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "python/python-from-mojo.mdx", "url": "https://docs.modular.com/mojo/manual/python/python-from-mojo", "title": "Calling Python from Mojo", "category": null, "tags": [], "section_url": "https://docs.modular.com/mojo/manual/python/python-from-mojo"}}
{"chunk_id": "python-python-from-mojo-005", "document_id": "python-python-from-mojo", "content": "* `import_module()` may raise an exception (for example, if the module isn't\n installed). If you're using it inside an `fn` function, you need to either\n handle errors (using a `try/except` clause), or add the `raises` keyword to\n the function signature. You'll also see this when calling Python functions\n that may raise exceptions. (Raising exceptions is much more common in Python\n code than in the Mojo standard library, which\n [limits their use for performance reasons](/mojo/roadmap#the-standard-library-has-limited-exceptions-use).)\n\n* We recommend using a package manager such as pixi, uv, or conda to manage your\n environment. For instructions on setting up a Mojo project with pixi, see\n [Create a Mojo project](/mojo/manual/get-started#1-create-a-mojo-project) in\n the Get started with Mojo tutorial.", "position": 5, "token_count": 206, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "python-python-from-mojo-005", "document_id": "python-python-from-mojo", "position": 5, "token_count": 206, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "python/python-from-mojo.mdx", "url": "https://docs.modular.com/mojo/manual/python/python-from-mojo", "title": "Calling Python from Mojo", "category": null, "tags": [], "section_url": "https://docs.modular.com/mojo/manual/python/python-from-mojo"}}
{"chunk_id": "python-python-from-mojo-006", "document_id": "python-python-from-mojo", "content": "[caution]\n[`mojo build`](/mojo/cli/build) doesn't include the Python packages used by\nyour Mojo project. Instead, Mojo loads the Python interpreter and Python\npackages at runtime, so they must be provided in the environment where you run\nthe Mojo program (such as inside the pixi environment where you built the\nexecutable).", "position": 6, "token_count": 78, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "python-python-from-mojo-006", "document_id": "python-python-from-mojo", "position": 6, "token_count": 78, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "python/python-from-mojo.mdx", "url": "https://docs.modular.com/mojo/manual/python/python-from-mojo", "title": "Calling Python from Mojo", "category": null, "tags": [], "section_url": "https://docs.modular.com/mojo/manual/python/python-from-mojo"}}
{"chunk_id": "python-python-from-mojo-007", "document_id": "python-python-from-mojo", "content": "### Import a local Python module\n\nIf you have some local Python code you want to use in Mojo, just add\nthe directory to the Python path and then import the module.\n\nFor example, suppose you have a Python file named `mypython.py`:\n\n```python title=\"mypython.py\"\nimport numpy as np\n\ndef gen_random_values(size, base):\n # generate a size x size array of random numbers between base and base+1\n random_array = np.random.rand(size, size)\n return random_array + base\n```\n\nHere's how you can import it and use it in a Mojo file:\n\n```mojo title=\"main.mojo\"\nfrom python import Python\n\ndef main():\n Python.add_to_path(\"path/to/module\")\n mypython = Python.import_module(\"mypython\")\n\n values = mypython.gen_random_values(2, 3)\n print(values)", "position": 7, "token_count": 221, "has_code": true, "section_hierarchy": ["Import a local Python module"], "metadata": {"chunk_id": "python-python-from-mojo-007", "document_id": "python-python-from-mojo", "position": 7, "token_count": 221, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Import a local Python module"], "file_path": "python/python-from-mojo.mdx", "url": "https://docs.modular.com/mojo/manual/python/python-from-mojo", "title": "Calling Python from Mojo", "category": null, "tags": [], "section_url": "https://docs.modular.com/mojo/manual/python/python-from-mojo#import-a-local-python-module"}}
{"chunk_id": "python-python-from-mojo-008", "document_id": "python-python-from-mojo", "content": "```\n\nBoth absolute and relative paths work with\n[`add_to_path()`](/mojo/stdlib/python/python/Python#add_to_path). For example,\nyou can import from the local directory like this:\n\n```mojo\nPython.add_to_path(\".\")\n```", "position": 8, "token_count": 76, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "python-python-from-mojo-008", "document_id": "python-python-from-mojo", "position": 8, "token_count": 76, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "python/python-from-mojo.mdx", "url": "https://docs.modular.com/mojo/manual/python/python-from-mojo", "title": "Calling Python from Mojo", "category": null, "tags": [], "section_url": "https://docs.modular.com/mojo/manual/python/python-from-mojo"}}

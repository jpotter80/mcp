{"chunk_id": "decorators-always-inline-000", "document_id": "decorators-always-inline", "content": "You can add the `@always_inline` decorator on any function to make the Mojo\ncompiler \"inline\" the body of the function (copy it) directly into the body of\nthe calling function.\n\nThis eliminates potential performance costs associated with function calls\njumping to a new point in code. Normally, the compiler will do this\nautomatically where it can improve performance, but this decorator forces it to\ndo so. The downside is that it can increase the binary size by duplicating the\nfunction at every call site.\n\nFor example:\n\n```mojo\n@always_inline\nfn add(a: Int, b: Int) -> Int:\n return a + b\n\nprint(add(1, 2))\n```\n\nBecause `add()` is decorated with `@always_inline`, Mojo compiles this program\nwithout adding the `add()` function to the call stack, and it instead performs\nthe addition directly at the `print()` call site, as if it were written like\nthis:\n\n```mojo\nprint(1 + 2)\n```", "position": 0, "token_count": 225, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "decorators-always-inline-000", "document_id": "decorators-always-inline", "position": 0, "token_count": 225, "has_code": true, "overlap_with_previous": false, "section_hierarchy": [], "file_path": "decorators/always-inline.mdx", "url": "https://docs.modular.com/mojo/manual/decorators/always-inline", "title": "@always_inline", "category": null, "tags": [], "section_url": "https://docs.modular.com/mojo/manual/decorators/always-inline"}}
{"chunk_id": "decorators-always-inline-001", "document_id": "decorators-always-inline", "content": "## `@always_inline(\"nodebug\")`\n\nYou can also use the decorator with the `\"nodebug\"` argument, which has the\nsame effect to inline the function, but without debug information. This means\nthat you can't step into the function when debugging.\n\nThis decorator is intended to be used on the low-level functions in a\nlibrary, which may wrap primitive functions, MLIR operations, or inline\nassembly. Marking these functions as \"nodebug\" prevents users from accidentally\nstepping into low-level non-Mojo code when debugging.", "position": 1, "token_count": 127, "has_code": false, "section_hierarchy": ["`@always_inline(\"nodebug\")`"], "metadata": {"chunk_id": "decorators-always-inline-001", "document_id": "decorators-always-inline", "position": 1, "token_count": 127, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`@always_inline(\"nodebug\")`"], "file_path": "decorators/always-inline.mdx", "url": "https://docs.modular.com/mojo/manual/decorators/always-inline", "title": "@always_inline", "category": null, "tags": [], "section_url": "https://docs.modular.com/mojo/manual/decorators/always-inline#alwaysinlinenodebug"}}
{"chunk_id": "decorators-always-inline-002", "document_id": "decorators-always-inline", "content": "## `@always_inline(\"builtin\")`\n\nThe `\"builtin\"` argument is like `\"nodebug\"`, but even stricter. The `\"builtin\"`\nversion of the decorator should only be used on functions that wrap a single\nMLIR operation that the compiler has special compile-time handling for. It\nallows the compiler to inline the function when it's used in a parameter\ncontext. This simplifies the generated IR and allows for further optimizations.\n\nThis version of the decorator does everything that `\"nodebug\"` does, plus two\nother behaviors:\n\n- It checks the body of the function to validate that it doesn’t use\n anything that `@always_inline(\"builtin\")` can’t handle-this checks that there\n is no control flow, no function calls to functions that are not themselves\n `@always_inline(\"builtin\")`, no use of unsupported MLIR operations, etc.\n\n- When the function is used in a parameter context, it is unconditionally\n inlined.", "position": 2, "token_count": 231, "has_code": false, "section_hierarchy": ["`@always_inline(\"builtin\")`"], "metadata": {"chunk_id": "decorators-always-inline-002", "document_id": "decorators-always-inline", "position": 2, "token_count": 231, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`@always_inline(\"builtin\")`"], "file_path": "decorators/always-inline.mdx", "url": "https://docs.modular.com/mojo/manual/decorators/always-inline", "title": "@always_inline", "category": null, "tags": [], "section_url": "https://docs.modular.com/mojo/manual/decorators/always-inline#alwaysinlinebuiltin"}}
{"chunk_id": "decorators-always-inline-003", "document_id": "decorators-always-inline", "content": "- When the function is used in a parameter context, it is unconditionally\n inlined.\n\nFor more details and background, see\n[the `@always_inline(\"builtin\") proposal](https://github.com/modularml/modular/blob/main/open-source/max/mojo/proposals/always_inline_builtin.md).", "position": 3, "token_count": 86, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "decorators-always-inline-003", "document_id": "decorators-always-inline", "position": 3, "token_count": 86, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "decorators/always-inline.mdx", "url": "https://docs.modular.com/mojo/manual/decorators/always-inline", "title": "@always_inline", "category": null, "tags": [], "section_url": "https://docs.modular.com/mojo/manual/decorators/always-inline"}}

{"chunk_id": "sql-statements-checkpoint-000", "document_id": "sql-statements-checkpoint", "content": "The `CHECKPOINT` statement synchronizes data in the write-ahead log (WAL) to the database data file.\n\n## Examples\n\nSynchronize data in the default database:\n\n```sql\nCHECKPOINT;\n```\n\nSynchronize data in the specified database:\n\n```sql\nCHECKPOINT file_db;\n```\n\nAbort any in-progress transactions to synchronize the data:\n\n```sql\nFORCE CHECKPOINT;\n```\n\n## Checkpointing In-Memory Tables\n\nStarting with v1.4.0, in-memory tables support checkpointing. This has two key benefits:\n\n* In-memory tables also support compression. This is disabled by default â€“ you can turn it on using:\n\n ```sql\n ATTACH ':memory:' AS memory_compressed (COMPRESS);\n USE memory_compressed;\n ```\n\n* Checkpointing triggers vacuuming deleted rows, allowing space to be reclaimed after deletes/truncation.\n\n## Syntax\n\nCheckpoint operations happen automatically based on the WAL size (see [Configuration]({% link docs/stable/configuration/overview.md %})). This\nstatement is for manual checkpoint actions.", "position": 0, "token_count": 243, "has_code": true, "section_hierarchy": ["Syntax"], "metadata": {"chunk_id": "sql-statements-checkpoint-000", "document_id": "sql-statements-checkpoint", "position": 0, "token_count": 243, "has_code": true, "overlap_with_previous": false, "section_hierarchy": ["Syntax"], "file_path": "sql/statements/checkpoint.md", "url": "/sql/statements/checkpoint", "title": "CHECKPOINT Statement", "category": null, "tags": [], "section_url": "/sql/statements/checkpoint#syntax"}}
{"chunk_id": "sql-statements-checkpoint-001", "document_id": "sql-statements-checkpoint", "content": "## Behavior\n\nThe default `CHECKPOINT` command will fail if there are any running transactions. Including `FORCE` will abort any\ntransactions and execute the checkpoint operation.\n\nAlso see the related [`PRAGMA` option]({% link docs/stable/configuration/pragmas.md %}#force-checkpoint) for further behavior modification.\n\n### Reclaiming Space\n\nWhen performing a checkpoint (automatic or otherwise), the space occupied by deleted rows is partially reclaimed. Note that this does not remove all deleted rows, but rather merges row groups that have a significant amount of deletes together. In the current implementation this requires ~25% of rows to be deleted in adjacent row groups.\n\nWhen running in in-memory mode, checkpointing has no effect, hence it does not reclaim space after deletes in in-memory databases.\n\n> Warning The [`VACUUM` statement]({% link docs/stable/sql/statements/vacuum.md %}) does _not_ trigger vacuuming deletes and hence does not reclaim space.", "position": 1, "token_count": 222, "has_code": false, "section_hierarchy": ["Reclaiming Space"], "metadata": {"chunk_id": "sql-statements-checkpoint-001", "document_id": "sql-statements-checkpoint", "position": 1, "token_count": 222, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Reclaiming Space"], "file_path": "sql/statements/checkpoint.md", "url": "/sql/statements/checkpoint", "title": "CHECKPOINT Statement", "category": null, "tags": [], "section_url": "/sql/statements/checkpoint#reclaiming-space"}}

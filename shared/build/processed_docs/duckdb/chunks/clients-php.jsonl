{"chunk_id": "clients-php-000", "document_id": "clients-php", "content": "> The DuckDB PHP client is a [tertiary client]({% link docs/stable/clients/overview.md %}) and is maintained by a third-party.\n\nClient API for PHP.\n\nFocused on performance, it uses the official C API internally through [FFI](https://www.php.net/manual/en/book.ffi.php), achieving good benchmarks.\nThis library is more than just a wrapper for the C API; it introduces custom, PHP-friendly methods to simplify working with DuckDB. It is compatible with Linux, Windows, and macOS, requiring PHP version 8.3 or higher.\n\nFull documentation is available at [https://duckdb-php.readthedocs.io/](https://duckdb-php.readthedocs.io/).", "position": 0, "token_count": 182, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "clients-php-000", "document_id": "clients-php", "position": 0, "token_count": 182, "has_code": false, "overlap_with_previous": false, "section_hierarchy": [], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php"}}
{"chunk_id": "clients-php-001", "document_id": "clients-php", "content": "## Automatic Install (Recommended for Newcomers)\n\n```batch\ncomposer require satur.io/duckdb-auto\n```\n\nYou will need to allow `satur.io/duckdb-auto` to execute code to use this installation method,\ncheck [installation](https://duckdb-php.readthedocs.io/en/latest/installation) for more details.", "position": 1, "token_count": 85, "has_code": true, "section_hierarchy": ["Automatic Install (Recommended for Newcomers)"], "metadata": {"chunk_id": "clients-php-001", "document_id": "clients-php", "position": 1, "token_count": 85, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Automatic Install (Recommended for Newcomers)"], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php#automatic-install-recommended-for-newcomers"}}
{"chunk_id": "clients-php-002", "document_id": "clients-php", "content": "## Quick Start\n\n```php\nDuckDB::sql(\"SELECT 'quack' as my_column\")->print();\n```\n\n```text\n-------------------\n| my_column |\n-------------------\n| quack |\n-------------------\n```\n\nThe function we used here, `DuckDB::sql()`, performs the query in a new\nin-memory database which is destroyed after retrieving the result.\n\nThis is not the most common use case, let's see how to get a persistent connection.", "position": 2, "token_count": 166, "has_code": true, "section_hierarchy": ["Quick Start"], "metadata": {"chunk_id": "clients-php-002", "document_id": "clients-php", "position": 2, "token_count": 166, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Quick Start"], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php#quick-start"}}
{"chunk_id": "clients-php-003", "document_id": "clients-php", "content": "### Connection\n\n```php\n$duckDB = DuckDB::create('duck.db'); // or DuckDB::create() for in-memory database\n\n$duckDB->query('CREATE TABLE test (i INTEGER, b BOOL, f FLOAT);');\n$duckDB->query('INSERT INTO test VALUES (3, true, 1.1), (5, true, 1.2), (3, false, 1.1), (3, null, 1.2);');\n\n$duckDB->query('SELECT * FROM test')->print();", "position": 3, "token_count": 143, "has_code": true, "section_hierarchy": ["Connection"], "metadata": {"chunk_id": "clients-php-003", "document_id": "clients-php", "position": 3, "token_count": 143, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Connection"], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php#connection"}}
{"chunk_id": "clients-php-004", "document_id": "clients-php", "content": "```\n\nAs you probably guessed, `DuckDB::create()` creates a new connection to the specified database,\nor create a new one if it doesn't exist yet and then establishes the connection.\n\nAfter that, we can use the function `query` to perform the requests.\n\n> Notice the difference between the static method `sql` and the non-static method `query`.\n> While the first one always creates and destroys a new in-memory database, the second one\n> uses a previously established connection and should be the preferred option in most cases.\n\nIn addition, the library also provides prepared statements for binding parameters to our query.", "position": 4, "token_count": 134, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "clients-php-004", "document_id": "clients-php", "position": 4, "token_count": 134, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php"}}
{"chunk_id": "clients-php-005", "document_id": "clients-php", "content": "### Prepared Statements\n\n```php\n$duckDB = DuckDB::create();\n\n$duckDB->query('CREATE TABLE test (i INTEGER, b BOOL, f FLOAT);');\n$duckDB->query('INSERT INTO test VALUES (3, true, 1.1), (5, true, 1.2), (3, false, 1.1), (3, null, 1.2);');\n\n$boolPreparedStatement = $duckDB->preparedStatement('SELECT * FROM test WHERE b = $1');\n$boolPreparedStatement->bindParam(1, true);\n$result = $boolPreparedStatement->execute();\n$result->print();", "position": 5, "token_count": 183, "has_code": true, "section_hierarchy": ["Prepared Statements"], "metadata": {"chunk_id": "clients-php-005", "document_id": "clients-php", "position": 5, "token_count": 183, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Prepared Statements"], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php#prepared-statements"}}
{"chunk_id": "clients-php-006", "document_id": "clients-php", "content": "$intPreparedStatement = $duckDB->preparedStatement('SELECT * FROM test WHERE i = ?');\n$intPreparedStatement->bindParam(1, 3);\n$result = $intPreparedStatement->execute();\n$result->print();", "position": 6, "token_count": 77, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "clients-php-006", "document_id": "clients-php", "position": 6, "token_count": 77, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php"}}
{"chunk_id": "clients-php-007", "document_id": "clients-php", "content": "```", "position": 7, "token_count": 5, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "clients-php-007", "document_id": "clients-php", "position": 7, "token_count": 5, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php"}}
{"chunk_id": "clients-php-008", "document_id": "clients-php", "content": "### Appenders\n\nAppenders are the preferred method to load data in DuckDB. See [Appender page]({% link docs/stable/clients/c/appender.md %})\nfor more information.\n\n```php\n$duckDB = DuckDB::create();\n$result = $duckDB->query('CREATE TABLE people (id INTEGER, name VARCHAR);');\n\n$appender = $duckDB->appender('people');\n\nfor ($i = 0; $i append(rand(1, 100000));\n $appender->append('string-'.rand(1, 100));\n $appender->endRow();\n}\n\n$appender->flush();\n```", "position": 8, "token_count": 184, "has_code": true, "section_hierarchy": ["Appenders"], "metadata": {"chunk_id": "clients-php-008", "document_id": "clients-php", "position": 8, "token_count": 184, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Appenders"], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php#appenders"}}
{"chunk_id": "clients-php-009", "document_id": "clients-php", "content": "### DuckDB-Powerful\n\nDuckDB provides some amazing features. For example,\nyou can query remote files directly.\n\nLet's use an aggregate function to calculate the average of a column\nfor a Parquet remote file:\n\n```php\nDuckDB::sql(\n 'SELECT \"Reporting Year\", avg(\"Gas Produced, MCF\") as \"AVG Gas Produced\"\n FROM \"https://github.com/plotly/datasets/raw/refs/heads/master/oil-and-gas.parquet\"\n WHERE \"Reporting Year\" BETWEEN 1985 AND 1990\n GROUP BY \"Reporting Year\";'\n)->print();", "position": 9, "token_count": 143, "has_code": true, "section_hierarchy": ["DuckDB-Powerful"], "metadata": {"chunk_id": "clients-php-009", "document_id": "clients-php", "position": 9, "token_count": 143, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["DuckDB-Powerful"], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php#duckdb-powerful"}}
{"chunk_id": "clients-php-010", "document_id": "clients-php", "content": "```\n\n```text\n--------------------------------------\n| Reporting Year | AVG Gas Produce |\n--------------------------------------\n| 1985 | 2461.4047344111 |\n| 1986 | 6060.8575605681 |\n| 1987 | 5047.5813074014 |\n| 1988 | 4763.4090541633 |\n| 1989 | 4175.2989758837 |\n| 1990 | 3706.9404742437 |\n--------------------------------------", "position": 10, "token_count": 209, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "clients-php-010", "document_id": "clients-php", "position": 10, "token_count": 209, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php"}}
{"chunk_id": "clients-php-011", "document_id": "clients-php", "content": "```\n\nOr summarize a remote csv:\n\n```php\nDuckDB::sql('SUMMARIZE TABLE \"https://blobs.duckdb.org/data/Star_Trek-Season_1.csv\";')->print();", "position": 11, "token_count": 65, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "clients-php-011", "document_id": "clients-php", "position": 11, "token_count": 65, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php"}}
{"chunk_id": "clients-php-012", "document_id": "clients-php", "content": "```", "position": 12, "token_count": 5, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "clients-php-012", "document_id": "clients-php", "position": 12, "token_count": 5, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php"}}
{"chunk_id": "clients-php-013", "document_id": "clients-php", "content": "```text\n------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------", "position": 13, "token_count": 234, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "clients-php-013", "document_id": "clients-php", "position": 13, "token_count": 234, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php"}}
{"chunk_id": "clients-php-014", "document_id": "clients-php", "content": "| column_name | column_type | min | max | approx_unique | avg | std | q25 | q50 | q75 | count | null_percentage |", "position": 14, "token_count": 40, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "clients-php-014", "document_id": "clients-php", "position": 14, "token_count": 40, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php"}}
{"chunk_id": "clients-php-015", "document_id": "clients-php", "content": "------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------", "position": 15, "token_count": 230, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "clients-php-015", "document_id": "clients-php", "position": 15, "token_count": 230, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php"}}
{"chunk_id": "clients-php-016", "document_id": "clients-php", "content": "| season_num | BIGINT | 1 | 1 | 1 | 1.0 | 0.0 | 1 | 1 | 1 | 30 | 0 |\n| episode_num | BIGINT | 0 | 29 | 29 | 14.5 | 8.8034084308295 | 7 | 14 | 22 | 30 | 0 |\n| aired_date | DATE | 1965-02-28 | 1967-04-13 | 35 | | | 1966-10-20 | 1966-12-22 | 1967-02-16 | 30 | 0 |\n| cnt_kirk_hookup | BIGINT | 0 | 2 | 3 | 0.3333333333333 | 0.6064784348631 | 0 | 0 | 1 | 30 | 0 |\n...", "position": 16, "token_count": 172, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "clients-php-016", "document_id": "clients-php", "position": 16, "token_count": 172, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php"}}
{"chunk_id": "clients-php-017", "document_id": "clients-php", "content": "```", "position": 17, "token_count": 5, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "clients-php-017", "document_id": "clients-php", "position": 17, "token_count": 5, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php"}}
{"chunk_id": "clients-php-018", "document_id": "clients-php", "content": "## Requirements\n\n- Linux, macOS, or Windows\n- x64 platform\n- PHP >= 8.3\n- ext-ffi\n\n### Recommended\n\n- ext-bcmath - Needed for big integers (> PHP_INT_MAX)\n- ext-zend-opcache - For better performance", "position": 18, "token_count": 68, "has_code": false, "section_hierarchy": ["Recommended"], "metadata": {"chunk_id": "clients-php-018", "document_id": "clients-php", "position": 18, "token_count": 68, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Recommended"], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php#recommended"}}
{"chunk_id": "clients-php-019", "document_id": "clients-php", "content": "## Type Support\n\nFrom version 1.2.0 on the library supports all DuckDB file types.", "position": 19, "token_count": 23, "has_code": false, "section_hierarchy": ["Type Support"], "metadata": {"chunk_id": "clients-php-019", "document_id": "clients-php", "position": 19, "token_count": 23, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Type Support"], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php#type-support"}}
{"chunk_id": "clients-php-020", "document_id": "clients-php", "content": "| DuckDB Type | SQL Type | PHP Type |\n|--------------------------|--------------|--------------------------------------|\n| DUCKDB_TYPE_BOOLEAN | BOOLEAN | bool |\n| DUCKDB_TYPE_TINYINT | TINYINT | int |\n| DUCKDB_TYPE_SMALLINT | SMALLINT | int |\n| DUCKDB_TYPE_INTEGER | INTEGER | int |\n| DUCKDB_TYPE_BIGINT | BIGINT | int |\n| DUCKDB_TYPE_UTINYINT | UTINYINT | int |\n| DUCKDB_TYPE_USMALLINT | USMALLINT | int |\n| DUCKDB_TYPE_UINTEGER | UINTEGER | int |", "position": 20, "token_count": 214, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "clients-php-020", "document_id": "clients-php", "position": 20, "token_count": 214, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php"}}
{"chunk_id": "clients-php-021", "document_id": "clients-php", "content": "| DUCKDB_TYPE_USMALLINT | USMALLINT | int |\n| DUCKDB_TYPE_UINTEGER | UINTEGER | int |\n| DUCKDB_TYPE_UBIGINT | UBIGINT | Saturio\\DuckDB\\Type\\Math\\LongInteger |\n| DUCKDB_TYPE_FLOAT | FLOAT | float |\n| DUCKDB_TYPE_DOUBLE | DOUBLE | float |\n| DUCKDB_TYPE_TIMESTAMP | TIMESTAMP | Saturio\\DuckDB\\Type\\Timestamp |\n| DUCKDB_TYPE_DATE | DATE | Saturio\\DuckDB\\Type\\Date |\n| DUCKDB_TYPE_TIME | TIME | Saturio\\DuckDB\\Type\\Time |\n| DUCKDB_TYPE_INTERVAL | INTERVAL | Saturio\\DuckDB\\Type\\Interval |\n| DUCKDB_TYPE_HUGEINT | HUGEINT | Saturio\\DuckDB\\Type\\Math\\LongInteger |", "position": 21, "token_count": 208, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "clients-php-021", "document_id": "clients-php", "position": 21, "token_count": 208, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php"}}
{"chunk_id": "clients-php-022", "document_id": "clients-php", "content": "| DUCKDB_TYPE_HUGEINT | HUGEINT | Saturio\\DuckDB\\Type\\Math\\LongInteger |\n| DUCKDB_TYPE_UHUGEINT | UHUGEINT | Saturio\\DuckDB\\Type\\Math\\LongInteger |\n| DUCKDB_TYPE_VARCHAR | VARCHAR | string |\n| DUCKDB_TYPE_BLOB | BLOB | Saturio\\DuckDB\\Type\\Blob |\n| DUCKDB_TYPE_TIMESTAMP_S | TIMESTAMP_S | Saturio\\DuckDB\\Type\\Timestamp |\n| DUCKDB_TYPE_TIMESTAMP_MS | TIMESTAMP_MS | Saturio\\DuckDB\\Type\\Timestamp |\n| DUCKDB_TYPE_TIMESTAMP_NS | TIMESTAMP_NS | Saturio\\DuckDB\\Type\\Timestamp |\n| DUCKDB_TYPE_UUID | UUID | Saturio\\DuckDB\\Type\\UUID |", "position": 22, "token_count": 218, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "clients-php-022", "document_id": "clients-php", "position": 22, "token_count": 218, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php"}}
{"chunk_id": "clients-php-023", "document_id": "clients-php", "content": "| DUCKDB_TYPE_UUID | UUID | Saturio\\DuckDB\\Type\\UUID |\n| DUCKDB_TYPE_TIME_TZ | TIMETZ | Saturio\\DuckDB\\Type\\Time |\n| DUCKDB_TYPE_TIMESTAMP_TZ | TIMESTAMPTZ | Saturio\\DuckDB\\Type\\Timestamp |\n| DUCKDB_TYPE_DECIMAL | DECIMAL | float |\n| DUCKDB_TYPE_ENUM | ENUM | string |\n| DUCKDB_TYPE_LIST | LIST | array |\n| DUCKDB_TYPE_STRUCT | STRUCT | array |\n| DUCKDB_TYPE_ARRAY | ARRAY | array |\n| DUCKDB_TYPE_MAP | MAP | array |\n| DUCKDB_TYPE_UNION | UNION | mixed |\n| DUCKDB_TYPE_BIT | BIT | string |\n| DUCKDB_TYPE_BIGNUM | BIGNUM | string |", "position": 23, "token_count": 198, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "clients-php-023", "document_id": "clients-php", "position": 23, "token_count": 198, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php"}}
{"chunk_id": "clients-php-024", "document_id": "clients-php", "content": "| DUCKDB_TYPE_UNION | UNION | mixed |\n| DUCKDB_TYPE_BIT | BIT | string |\n| DUCKDB_TYPE_BIGNUM | BIGNUM | string |\n| DUCKDB_TYPE_SQLNULL | NULL | null |", "position": 24, "token_count": 54, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "clients-php-024", "document_id": "clients-php", "position": 24, "token_count": 54, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "clients/php.md", "url": "/clients/php", "title": "PHP Client", "category": null, "tags": [], "section_url": "/clients/php"}}

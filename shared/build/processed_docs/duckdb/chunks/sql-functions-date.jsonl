{"chunk_id": "sql-functions-date-000", "document_id": "sql-functions-date", "content": "This section describes functions and operators for examining and manipulating [`DATE`]({% link docs/stable/sql/data_types/date.md %}) values.", "position": 0, "token_count": 40, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-date-000", "document_id": "sql-functions-date", "position": 0, "token_count": 40, "has_code": false, "overlap_with_previous": false, "section_hierarchy": [], "file_path": "sql/functions/date.md", "url": "/sql/functions/date", "title": "Date Functions", "category": null, "tags": [], "section_url": "/sql/functions/date"}}
{"chunk_id": "sql-functions-date-001", "document_id": "sql-functions-date", "content": "## Date Operators\n\nThe table below shows the available mathematical operators for `DATE` types.", "position": 1, "token_count": 20, "has_code": false, "section_hierarchy": ["Date Operators"], "metadata": {"chunk_id": "sql-functions-date-001", "document_id": "sql-functions-date", "position": 1, "token_count": 20, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Date Operators"], "file_path": "sql/functions/date.md", "url": "/sql/functions/date", "title": "Date Functions", "category": null, "tags": [], "section_url": "/sql/functions/date#date-operators"}}
{"chunk_id": "sql-functions-date-002", "document_id": "sql-functions-date", "content": "| Operator | Description | Example | Result |\n|:-|:--|:---|:--|\n| `+` | addition of days (integers) | `DATE '1992-03-22' + 5` | `1992-03-27` |\n| `+` | addition of an `INTERVAL` | `DATE '1992-03-22' + INTERVAL 5 DAY` | `1992-03-27 00:00:00` |\n| `+` | addition of a variable `INTERVAL` | `SELECT DATE '1992-03-22' + INTERVAL (d.days) DAY FROM (VALUES (5), (11)) d(days)` | `1992-03-27 00:00:00` and `1992-04-02 00:00:00` |\n| `-` | subtraction of `DATE`s | `DATE '1992-03-27' - DATE '1992-03-22'` | `5` |", "position": 2, "token_count": 213, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-date-002", "document_id": "sql-functions-date", "position": 2, "token_count": 213, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/date.md", "url": "/sql/functions/date", "title": "Date Functions", "category": null, "tags": [], "section_url": "/sql/functions/date"}}
{"chunk_id": "sql-functions-date-003", "document_id": "sql-functions-date", "content": "| `-` | subtraction of `DATE`s | `DATE '1992-03-27' - DATE '1992-03-22'` | `5` |\n| `-` | subtraction of an `INTERVAL` | `DATE '1992-03-27' - INTERVAL 5 DAY` | `1992-03-22 00:00:00` |\n| `-` | subtraction of a variable `INTERVAL` | `SELECT DATE '1992-03-27' - INTERVAL (d.days) DAY FROM (VALUES (5), (11)) d(days)` | `1992-03-22 00:00:00` and `1992-03-16 00:00:00` |", "position": 3, "token_count": 158, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-date-003", "document_id": "sql-functions-date", "position": 3, "token_count": 158, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/date.md", "url": "/sql/functions/date", "title": "Date Functions", "category": null, "tags": [], "section_url": "/sql/functions/date"}}
{"chunk_id": "sql-functions-date-004", "document_id": "sql-functions-date", "content": "Adding to or subtracting from [infinite values]({% link docs/stable/sql/data_types/date.md %}#special-values) produces the same infinite value.", "position": 4, "token_count": 44, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-date-004", "document_id": "sql-functions-date", "position": 4, "token_count": 44, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/date.md", "url": "/sql/functions/date", "title": "Date Functions", "category": null, "tags": [], "section_url": "/sql/functions/date"}}
{"chunk_id": "sql-functions-date-005", "document_id": "sql-functions-date", "content": "## Date Functions\n\nThe table below shows the available functions for `DATE` types.\nDates can also be manipulated with the [timestamp functions]({% link docs/stable/sql/functions/timestamp.md %}) through type promotion.", "position": 5, "token_count": 57, "has_code": false, "section_hierarchy": ["Date Functions"], "metadata": {"chunk_id": "sql-functions-date-005", "document_id": "sql-functions-date", "position": 5, "token_count": 57, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Date Functions"], "file_path": "sql/functions/date.md", "url": "/sql/functions/date", "title": "Date Functions", "category": null, "tags": [], "section_url": "/sql/functions/date#date-functions"}}
{"chunk_id": "sql-functions-date-006", "document_id": "sql-functions-date", "content": "| Name | Description |\n|:--|:-------|\n| [`date_add(date, interval)`](#date_adddate-interval) | Add the interval to the date and return a `DATETIME` value. |\n| [`date_diff(part, startdate, startdate)`](#date_diffpart-startdate-enddate) | The number of [`part`]({% link docs/stable/sql/functions/datepart.md %}) boundaries between `startdate` and `enddate`, inclusive of the larger date and exclusive of the smaller date. |\n| [`date_part(part, date)`](#date_partpart-date) | Get [subfield]({% link docs/stable/sql/functions/datepart.md %}) (equivalent to `extract`). |", "position": 6, "token_count": 207, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-date-006", "document_id": "sql-functions-date", "position": 6, "token_count": 207, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/date.md", "url": "/sql/functions/date", "title": "Date Functions", "category": null, "tags": [], "section_url": "/sql/functions/date"}}
{"chunk_id": "sql-functions-date-007", "document_id": "sql-functions-date", "content": "| [`date_sub(part, startdate, enddate)`](#date_subpart-startdate-enddate) | The signed length of the interval between `startdate` and `enddate`, truncated to whole multiples of [`part`]({% link docs/stable/sql/functions/datepart.md %}). |\n| [`date_trunc(part, date)`](#date_truncpart-date) | Truncate to specified [precision]({% link docs/stable/sql/functions/datepart.md %}). |\n| [`dayname(date)`](#daynamedate) | The (English) name of the weekday. |\n| [`extract(part from date)`](#extractpart-from-date) | Get [subfield]({% link docs/stable/sql/functions/datepart.md %}) from a date. |", "position": 7, "token_count": 223, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-date-007", "document_id": "sql-functions-date", "position": 7, "token_count": 223, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/date.md", "url": "/sql/functions/date", "title": "Date Functions", "category": null, "tags": [], "section_url": "/sql/functions/date"}}
{"chunk_id": "sql-functions-date-008", "document_id": "sql-functions-date", "content": "| [`greatest(date, date)`](#greatestdate-date) | The later of two dates. |\n| [`isfinite(date)`](#isfinitedate) | Returns true if the date is finite, false otherwise. |\n| [`isinf(date)`](#isinfdate) | Returns true if the date is infinite, false otherwise. |\n| [`julian(date)`](#juliandate) | Extract the Julian Day number from a date. |\n| [`last_day(date)`](#last_daydate) | The last day of the corresponding month in the date. |\n| [`least(date, date)`](#leastdate-date) | The earlier of two dates. |\n| [`make_date(year, month, day)`](#make_dateyear-month-day) | The date for the given parts. |", "position": 8, "token_count": 207, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-date-008", "document_id": "sql-functions-date", "position": 8, "token_count": 207, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/date.md", "url": "/sql/functions/date", "title": "Date Functions", "category": null, "tags": [], "section_url": "/sql/functions/date"}}
{"chunk_id": "sql-functions-date-009", "document_id": "sql-functions-date", "content": "| [`make_date(year, month, day)`](#make_dateyear-month-day) | The date for the given parts. |\n| [`monthname(date)`](#monthnamedate) | The (English) name of the month. |\n| [`strftime(date, format)`](#strftimedate-format) | Converts a date to a string according to the [format string]({% link docs/stable/sql/functions/dateformat.md %}). |\n| [`time_bucket(bucket_width, date[, offset])`](#time_bucketbucket_width-date-offset) | Truncate `date` to a grid of width `bucket_width`. The grid is anchored at `2000-01-01[ + offset]` when `bucket_width` is a number of months or coarser units, else `2000-01-03[ + offset]`. Note that `2000-01-03` is a Monday. |", "position": 9, "token_count": 233, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-date-009", "document_id": "sql-functions-date", "position": 9, "token_count": 233, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/date.md", "url": "/sql/functions/date", "title": "Date Functions", "category": null, "tags": [], "section_url": "/sql/functions/date"}}
{"chunk_id": "sql-functions-date-010", "document_id": "sql-functions-date", "content": "| [`time_bucket(bucket_width, date[, origin])`](#time_bucketbucket_width-date-origin) | Truncate `timestamptz` to a grid of width `bucket_width`. The grid is anchored at the `origin` timestamp, which defaults to `2000-01-01` when `bucket_width` is a number of months or coarser units, else `2000-01-03`. Note that `2000-01-03` is a Monday. |\n| [`today()`](#today) | Current date (start of current transaction) in the local time zone. |", "position": 10, "token_count": 147, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-date-010", "document_id": "sql-functions-date", "position": 10, "token_count": 147, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/date.md", "url": "/sql/functions/date", "title": "Date Functions", "category": null, "tags": [], "section_url": "/sql/functions/date"}}
{"chunk_id": "sql-functions-date-011", "document_id": "sql-functions-date", "content": "#### `date_add(date, interval)`\n\n| **Description** | Add the interval to the date and return a `DATETIME` value. |\n| **Example** | `date_add(DATE '1992-09-15', INTERVAL 2 MONTH)` |\n| **Result** | `1992-11-15 00:00:00` |\n\n#### `date_diff(part, startdate, enddate)`\n\n| **Description** | The number of [`part`]({% link docs/stable/sql/functions/datepart.md %}) boundaries between `startdate` and `enddate`, inclusive of the larger date and exclusive of the smaller date. |\n| **Example** | `date_diff('month', DATE '1992-09-15', DATE '1992-11-14')` |\n| **Result** | `2` |\n| **Alias** | `datediff` |", "position": 11, "token_count": 226, "has_code": false, "section_hierarchy": ["`date_diff(part, startdate, enddate)`"], "metadata": {"chunk_id": "sql-functions-date-011", "document_id": "sql-functions-date", "position": 11, "token_count": 226, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`date_diff(part, startdate, enddate)`"], "file_path": "sql/functions/date.md", "url": "/sql/functions/date", "title": "Date Functions", "category": null, "tags": [], "section_url": "/sql/functions/date#datediffpart-startdate-enddate"}}
{"chunk_id": "sql-functions-date-012", "document_id": "sql-functions-date", "content": "#### `date_part(part, date)`\n\n| **Description** | Get the [subfield]({% link docs/stable/sql/functions/datepart.md %}) (equivalent to `extract`). |\n| **Example** | `date_part('year', DATE '1992-09-20')` |\n| **Result** | `1992` |\n| **Alias** | `datepart` |\n\n#### `date_sub(part, startdate, enddate)`\n\n| **Description** | The signed length of the interval between `startdate` and `enddate`, truncated to whole multiples of [`part`]({% link docs/stable/sql/functions/datepart.md %}). |\n| **Example** | `date_sub('month', DATE '1992-09-15', DATE '1992-11-14')` |\n| **Result** | `1` |\n| **Alias** | `datesub` |", "position": 12, "token_count": 245, "has_code": false, "section_hierarchy": ["`date_sub(part, startdate, enddate)`"], "metadata": {"chunk_id": "sql-functions-date-012", "document_id": "sql-functions-date", "position": 12, "token_count": 245, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`date_sub(part, startdate, enddate)`"], "file_path": "sql/functions/date.md", "url": "/sql/functions/date", "title": "Date Functions", "category": null, "tags": [], "section_url": "/sql/functions/date#datesubpart-startdate-enddate"}}
{"chunk_id": "sql-functions-date-013", "document_id": "sql-functions-date", "content": "#### `date_trunc(part, date)`\n\n| **Description** | Truncate to specified [precision]({% link docs/stable/sql/functions/datepart.md %}). |\n| **Example** | `date_trunc('month', DATE '1992-03-07')` |\n| **Result** | `1992-03-01` |\n| **Alias** | `datetrunc` |\n\n#### `dayname(date)`\n\n| **Description** | The (English) name of the weekday. |\n| **Example** | `dayname(DATE '1992-09-20')` |\n| **Result** | `Sunday` |", "position": 13, "token_count": 175, "has_code": false, "section_hierarchy": ["`dayname(date)`"], "metadata": {"chunk_id": "sql-functions-date-013", "document_id": "sql-functions-date", "position": 13, "token_count": 175, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`dayname(date)`"], "file_path": "sql/functions/date.md", "url": "/sql/functions/date", "title": "Date Functions", "category": null, "tags": [], "section_url": "/sql/functions/date#daynamedate"}}
{"chunk_id": "sql-functions-date-014", "document_id": "sql-functions-date", "content": "#### `extract(part from date)`\n\n| **Description** | Get [subfield]({% link docs/stable/sql/functions/datepart.md %}) from a date. |\n| **Example** | `extract('year' FROM DATE '1992-09-20')` |\n| **Result** | `1992` |\n\n#### `greatest(date, date)`\n\n| **Description** | The later of two dates. |\n| **Example** | `greatest(DATE '1992-09-20', DATE '1992-03-07')` |\n| **Result** | `1992-09-20` |\n\n#### `isfinite(date)`\n\n| **Description** | Returns `true` if the date is finite, false otherwise. |\n| **Example** | `isfinite(DATE '1992-03-07')` |\n| **Result** | `true` |", "position": 14, "token_count": 226, "has_code": false, "section_hierarchy": ["`isfinite(date)`"], "metadata": {"chunk_id": "sql-functions-date-014", "document_id": "sql-functions-date", "position": 14, "token_count": 226, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`isfinite(date)`"], "file_path": "sql/functions/date.md", "url": "/sql/functions/date", "title": "Date Functions", "category": null, "tags": [], "section_url": "/sql/functions/date#isfinitedate"}}
{"chunk_id": "sql-functions-date-015", "document_id": "sql-functions-date", "content": "#### `isinf(date)`\n\n| **Description** | Returns `true` if the date is infinite, false otherwise. |\n| **Example** | `isinf(DATE '-infinity')` |\n| **Result** | `true` |\n\n#### `julian(date)`\n\n| **Description** | Extract the Julian Day number from a date. |\n| **Example** | `julian(DATE '1992-09-20')` |\n| **Result** | `2448886.0` |\n\n#### `last_day(date)`\n\n| **Description** | The last day of the corresponding month in the date. |\n| **Example** | `last_day(DATE '1992-09-20')` |\n| **Result** | `1992-09-30` |", "position": 15, "token_count": 199, "has_code": false, "section_hierarchy": ["`last_day(date)`"], "metadata": {"chunk_id": "sql-functions-date-015", "document_id": "sql-functions-date", "position": 15, "token_count": 199, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`last_day(date)`"], "file_path": "sql/functions/date.md", "url": "/sql/functions/date", "title": "Date Functions", "category": null, "tags": [], "section_url": "/sql/functions/date#lastdaydate"}}
{"chunk_id": "sql-functions-date-016", "document_id": "sql-functions-date", "content": "#### `least(date, date)`\n\n| **Description** | The earlier of two dates. |\n| **Example** | `least(DATE '1992-09-20', DATE '1992-03-07')` |\n| **Result** | `1992-03-07` |\n\n#### `make_date(year, month, day)`\n\n| **Description** | The date for the given parts. |\n| **Example** | `make_date(1992, 9, 20)` |\n| **Result** | `1992-09-20` |\n\n#### `monthname(date)`\n\n| **Description** | The (English) name of the month. |\n| **Example** | `monthname(DATE '1992-09-20')` |\n| **Result** | `September` |", "position": 16, "token_count": 200, "has_code": false, "section_hierarchy": ["`monthname(date)`"], "metadata": {"chunk_id": "sql-functions-date-016", "document_id": "sql-functions-date", "position": 16, "token_count": 200, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`monthname(date)`"], "file_path": "sql/functions/date.md", "url": "/sql/functions/date", "title": "Date Functions", "category": null, "tags": [], "section_url": "/sql/functions/date#monthnamedate"}}
{"chunk_id": "sql-functions-date-017", "document_id": "sql-functions-date", "content": "#### `strftime(date, format)`\n\n| **Description** | Converts a date to a string according to the [format string]({% link docs/stable/sql/functions/dateformat.md %}). |\n| **Example** | `strftime(DATE '1992-01-01', '%a, %-d %B %Y')` |\n| **Result** | `Wed, 1 January 1992` |", "position": 17, "token_count": 110, "has_code": false, "section_hierarchy": ["`strftime(date, format)`"], "metadata": {"chunk_id": "sql-functions-date-017", "document_id": "sql-functions-date", "position": 17, "token_count": 110, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`strftime(date, format)`"], "file_path": "sql/functions/date.md", "url": "/sql/functions/date", "title": "Date Functions", "category": null, "tags": [], "section_url": "/sql/functions/date#strftimedate-format"}}
{"chunk_id": "sql-functions-date-018", "document_id": "sql-functions-date", "content": "#### `time_bucket(bucket_width, date[, offset])`\n\n| **Description** | Truncate `date` to a grid of width `bucket_width`. The grid is anchored at `2000-01-01[ + offset]` when `bucket_width` is a number of months or coarser units, else `2000-01-03[ + offset]`. Note that `2000-01-03` is a Monday. |\n| **Example** | `time_bucket(INTERVAL '2 months', DATE '1992-04-20', INTERVAL '1 month')` |\n| **Result** | `1992-04-01` |", "position": 18, "token_count": 155, "has_code": false, "section_hierarchy": ["`time_bucket(bucket_width, date[, offset])`"], "metadata": {"chunk_id": "sql-functions-date-018", "document_id": "sql-functions-date", "position": 18, "token_count": 155, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`time_bucket(bucket_width, date[, offset])`"], "file_path": "sql/functions/date.md", "url": "/sql/functions/date", "title": "Date Functions", "category": null, "tags": [], "section_url": "/sql/functions/date#timebucketbucketwidth-date-offset"}}
{"chunk_id": "sql-functions-date-019", "document_id": "sql-functions-date", "content": "#### `time_bucket(bucket_width, date[, origin])`\n\n| **Description** | Truncate `timestamptz` to a grid of width `bucket_width`. The grid is anchored at the `origin` timestamp, which defaults to `2000-01-01` when `bucket_width` is a number of months or coarser units, else `2000-01-03`. Note that `2000-01-03` is a Monday. |\n| **Example** | `time_bucket(INTERVAL '2 weeks', DATE '1992-04-20', DATE '1992-04-01')` |\n| **Result** | `1992-04-15` |\n\n#### `today()`\n\n| **Description** | Current date (start of current transaction) in the local time zone. |\n| **Example** | `today()` |\n| **Result** | `2022-10-08` |\n| **Alias** | `current_date` (no parentheses necessary) |", "position": 19, "token_count": 243, "has_code": false, "section_hierarchy": ["`today()`"], "metadata": {"chunk_id": "sql-functions-date-019", "document_id": "sql-functions-date", "position": 19, "token_count": 243, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`today()`"], "file_path": "sql/functions/date.md", "url": "/sql/functions/date", "title": "Date Functions", "category": null, "tags": [], "section_url": "/sql/functions/date#today"}}
{"chunk_id": "sql-functions-date-020", "document_id": "sql-functions-date", "content": "## Date Part Extraction Functions\n\nThere are also dedicated extraction functions to get the [subfields]({% link docs/stable/sql/functions/datepart.md %}#part-functions).\nA few examples include extracting the day from a date, or the day of the week from a date.\n\nFunctions applied to infinite dates will either return the same infinite dates\n(e.g., `greatest`) or `NULL` (e.g., `date_part`) depending on what “makes sense”.\nIn general, if the function needs to examine the parts of the infinite date, the result will be `NULL`.", "position": 20, "token_count": 139, "has_code": false, "section_hierarchy": ["Date Part Extraction Functions"], "metadata": {"chunk_id": "sql-functions-date-020", "document_id": "sql-functions-date", "position": 20, "token_count": 139, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Date Part Extraction Functions"], "file_path": "sql/functions/date.md", "url": "/sql/functions/date", "title": "Date Functions", "category": null, "tags": [], "section_url": "/sql/functions/date#date-part-extraction-functions"}}

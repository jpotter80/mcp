{"chunk_id": "guides-file_formats-read_file-000", "document_id": "guides-file_formats-read_file", "content": "DuckDB allows directly reading files via the [`read_text`](#read_text) and [`read_blob`](#read_blob) functions.\nThese functions accept a filename, a list of filenames or a glob pattern, and output the content of each file as a `VARCHAR` or `BLOB`, respectively, as well as additional metadata such as the file size and last modified time.", "position": 0, "token_count": 101, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "guides-file_formats-read_file-000", "document_id": "guides-file_formats-read_file", "position": 0, "token_count": 101, "has_code": false, "overlap_with_previous": false, "section_hierarchy": [], "file_path": "guides/file_formats/read_file.md", "url": "/guides/file_formats/read_file", "title": "Directly Reading Files", "category": null, "tags": [], "section_url": "/guides/file_formats/read_file"}}
{"chunk_id": "guides-file_formats-read_file-001", "document_id": "guides-file_formats-read_file", "content": "## `read_text`\n\nThe `read_text` table function reads from the selected source(s) to a `VARCHAR`. Each file results in a single row with the `content` field holding the entire content of the respective file.\n\n```sql\nSELECT size, parse_path(filename), content\nFROM read_text('test/sql/table_function/files/*.txt');", "position": 1, "token_count": 95, "has_code": true, "section_hierarchy": ["`read_text`"], "metadata": {"chunk_id": "guides-file_formats-read_file-001", "document_id": "guides-file_formats-read_file", "position": 1, "token_count": 95, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["`read_text`"], "file_path": "guides/file_formats/read_file.md", "url": "/guides/file_formats/read_file", "title": "Directly Reading Files", "category": null, "tags": [], "section_url": "/guides/file_formats/read_file#readtext"}}
{"chunk_id": "guides-file_formats-read_file-002", "document_id": "guides-file_formats-read_file", "content": "```\n\n| size | parse_path(filename) | content |\n|-----:|-----------------------------------------------|------------------|\n| 12 | [test, sql, table_function, files, one.txt] | Hello World! |\n| 2 | [test, sql, table_function, files, three.txt] | 42 |\n| 10 | [test, sql, table_function, files, two.txt] | Foo Bar\\nFöö Bär |\n\nThe file content is first validated to be valid UTF-8. If `read_text` attempts to read a file with invalid UTF-8, an error is thrown suggesting to use [`read_blob`](#read_blob) instead.", "position": 2, "token_count": 227, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "guides-file_formats-read_file-002", "document_id": "guides-file_formats-read_file", "position": 2, "token_count": 227, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/file_formats/read_file.md", "url": "/guides/file_formats/read_file", "title": "Directly Reading Files", "category": null, "tags": [], "section_url": "/guides/file_formats/read_file"}}
{"chunk_id": "guides-file_formats-read_file-003", "document_id": "guides-file_formats-read_file", "content": "## `read_blob`\n\nThe `read_blob` table function reads from the selected source(s) to a `BLOB`:\n\n```sql\nSELECT size, content, filename\nFROM read_blob('test/sql/table_function/files/*');", "position": 3, "token_count": 70, "has_code": true, "section_hierarchy": ["`read_blob`"], "metadata": {"chunk_id": "guides-file_formats-read_file-003", "document_id": "guides-file_formats-read_file", "position": 3, "token_count": 70, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["`read_blob`"], "file_path": "guides/file_formats/read_file.md", "url": "/guides/file_formats/read_file", "title": "Directly Reading Files", "category": null, "tags": [], "section_url": "/guides/file_formats/read_file#readblob"}}
{"chunk_id": "guides-file_formats-read_file-004", "document_id": "guides-file_formats-read_file", "content": "```", "position": 4, "token_count": 5, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "guides-file_formats-read_file-004", "document_id": "guides-file_formats-read_file", "position": 4, "token_count": 5, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/file_formats/read_file.md", "url": "/guides/file_formats/read_file", "title": "Directly Reading Files", "category": null, "tags": [], "section_url": "/guides/file_formats/read_file"}}
{"chunk_id": "guides-file_formats-read_file-005", "document_id": "guides-file_formats-read_file", "content": "| size | content | filename |\n|-----:|--------------------------------------------------------------|-----------------------------------------|\n| 178 | PK\\x03\\x04\\x0A\\x00\\x00\\x00\\x00\\x00\\xACi=X\\x14t\\xCE\\xC7\\x0A… | test/sql/table_function/files/four.blob |\n| 12 | Hello World! | test/sql/table_function/files/one.txt |\n| 2 | 42 | test/sql/table_function/files/three.txt |", "position": 5, "token_count": 236, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "guides-file_formats-read_file-005", "document_id": "guides-file_formats-read_file", "position": 5, "token_count": 236, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/file_formats/read_file.md", "url": "/guides/file_formats/read_file", "title": "Directly Reading Files", "category": null, "tags": [], "section_url": "/guides/file_formats/read_file"}}
{"chunk_id": "guides-file_formats-read_file-006", "document_id": "guides-file_formats-read_file", "content": "| 12 | Hello World! | test/sql/table_function/files/one.txt |\n| 2 | 42 | test/sql/table_function/files/three.txt |\n| 10 | F\\xC3\\xB6\\xC3\\xB6 B\\xC3\\xA4r | test/sql/table_function/files/two.txt |", "position": 6, "token_count": 90, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "guides-file_formats-read_file-006", "document_id": "guides-file_formats-read_file", "position": 6, "token_count": 90, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/file_formats/read_file.md", "url": "/guides/file_formats/read_file", "title": "Directly Reading Files", "category": null, "tags": [], "section_url": "/guides/file_formats/read_file"}}
{"chunk_id": "guides-file_formats-read_file-007", "document_id": "guides-file_formats-read_file", "content": "## Schema\n\nThe schemas of the tables returned by `read_text` and `read_blob` are identical:\n\n```sql\nDESCRIBE FROM read_text('README.md');\n```\n\n| column_name | column_type | null | key | default | extra |\n|---------------|-------------|------|------|---------|-------|\n| filename | VARCHAR | YES | NULL | NULL | NULL |\n| content | VARCHAR | YES | NULL | NULL | NULL |\n| size | BIGINT | YES | NULL | NULL | NULL |\n| last_modified | TIMESTAMP | YES | NULL | NULL | NULL |", "position": 7, "token_count": 194, "has_code": true, "section_hierarchy": ["Schema"], "metadata": {"chunk_id": "guides-file_formats-read_file-007", "document_id": "guides-file_formats-read_file", "position": 7, "token_count": 194, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Schema"], "file_path": "guides/file_formats/read_file.md", "url": "/guides/file_formats/read_file", "title": "Directly Reading Files", "category": null, "tags": [], "section_url": "/guides/file_formats/read_file#schema"}}
{"chunk_id": "guides-file_formats-read_file-008", "document_id": "guides-file_formats-read_file", "content": "## Hive Partitioning\n\nData can be read from [Hive partitioned]({% link docs/stable/data/partitioning/hive_partitioning.md %}) datasets.\n\n```sql\nSELECT *\nFROM read_blob('data/parquet-testing/hive-partitioning/simple/**/*.parquet')\nWHERE part IN ('a', 'b') AND date >= '2012-01-01';", "position": 8, "token_count": 105, "has_code": true, "section_hierarchy": ["Hive Partitioning"], "metadata": {"chunk_id": "guides-file_formats-read_file-008", "document_id": "guides-file_formats-read_file", "position": 8, "token_count": 105, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Hive Partitioning"], "file_path": "guides/file_formats/read_file.md", "url": "/guides/file_formats/read_file", "title": "Directly Reading Files", "category": null, "tags": [], "section_url": "/guides/file_formats/read_file#hive-partitioning"}}
{"chunk_id": "guides-file_formats-read_file-009", "document_id": "guides-file_formats-read_file", "content": "```", "position": 9, "token_count": 5, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "guides-file_formats-read_file-009", "document_id": "guides-file_formats-read_file", "position": 9, "token_count": 5, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/file_formats/read_file.md", "url": "/guides/file_formats/read_file", "title": "Directly Reading Files", "category": null, "tags": [], "section_url": "/guides/file_formats/read_file"}}
{"chunk_id": "guides-file_formats-read_file-010", "document_id": "guides-file_formats-read_file", "content": "| filename | content | size | last_modified | date | part |\n|---------------------------------------|-------------------------------|------|------------------------|------------|---------|\n| …/part=a/date=2012-01-01/test.parquet | PAR1\\x15\\x00\\x15\\x14\\x15\\x18… | 266 | 2024-11-12 02:23:20+00 | 2012-01-01 | a |", "position": 10, "token_count": 212, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "guides-file_formats-read_file-010", "document_id": "guides-file_formats-read_file", "position": 10, "token_count": 212, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/file_formats/read_file.md", "url": "/guides/file_formats/read_file", "title": "Directly Reading Files", "category": null, "tags": [], "section_url": "/guides/file_formats/read_file"}}
{"chunk_id": "guides-file_formats-read_file-011", "document_id": "guides-file_formats-read_file", "content": "| …/part=b/date=2013-01-01/test.parquet | PAR1\\x15\\x00\\x15\\x14\\x15\\x18… | 266 | 2024-11-12 02:23:20+00 | 2013-01-01 | b |", "position": 11, "token_count": 68, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "guides-file_formats-read_file-011", "document_id": "guides-file_formats-read_file", "position": 11, "token_count": 68, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/file_formats/read_file.md", "url": "/guides/file_formats/read_file", "title": "Directly Reading Files", "category": null, "tags": [], "section_url": "/guides/file_formats/read_file"}}
{"chunk_id": "guides-file_formats-read_file-012", "document_id": "guides-file_formats-read_file", "content": "## Handling Missing Metadata\n\nIn cases where the underlying filesystem is unable to provide some of this data due (e.g., because HTTPFS can't always return a valid timestamp), the cell is set to `NULL` instead.\n\n## Support for Projection Pushdown\n\nThe table functions also utilize projection pushdown to avoid computing properties unnecessarily. So you could e.g., use this to glob a directory full of huge files to get the file size in the size column, as long as you omit the content column the data won't be read into DuckDB.", "position": 12, "token_count": 130, "has_code": false, "section_hierarchy": ["Support for Projection Pushdown"], "metadata": {"chunk_id": "guides-file_formats-read_file-012", "document_id": "guides-file_formats-read_file", "position": 12, "token_count": 130, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Support for Projection Pushdown"], "file_path": "guides/file_formats/read_file.md", "url": "/guides/file_formats/read_file", "title": "Directly Reading Files", "category": null, "tags": [], "section_url": "/guides/file_formats/read_file#support-for-projection-pushdown"}}

{"chunk_id": "data-json-overview-000", "document_id": "data-json-overview", "content": "DuckDB supports SQL functions that are useful for reading values from existing JSON and creating new JSON data.\nJSON is supported with the `json` extension which is shipped with most DuckDB distributions and is auto-loaded on first use.\nIf you would like to install or load it manually, please consult the [“Installing and Loading” page]({% link docs/stable/data/json/installing_and_loading.md %}).\n\n## About JSON\n\nJSON is an open standard file format and data interchange format that uses human-readable text to store and transmit data objects consisting of attribute–value pairs and arrays (or other serializable values).\nWhile it is not a very efficient format for tabular data, it is very commonly used, especially as a data interchange format.", "position": 0, "token_count": 172, "has_code": false, "section_hierarchy": ["About JSON"], "metadata": {"chunk_id": "data-json-overview-000", "document_id": "data-json-overview", "position": 0, "token_count": 172, "has_code": false, "overlap_with_previous": false, "section_hierarchy": ["About JSON"], "file_path": "data/json/overview.md", "url": "/data/json/overview", "title": "JSON Overview", "category": null, "tags": [], "section_url": "/data/json/overview#about-json"}}
{"chunk_id": "data-json-overview-001", "document_id": "data-json-overview", "content": "## JSONPath and JSON Pointer Syntax\n\nDuckDB implements multiple interfaces for JSON extraction: [JSONPath](https://goessner.net/articles/JsonPath/) and [JSON Pointer](https://datatracker.ietf.org/doc/html/rfc6901). Both of them work with the arrow operator (`->`) and the `json_extract` function call.\n\nNote that DuckDB only supports lookups in JSONPath, i.e., extracting fields with `.` or array elements with `[]`.\nArrays can be indexed from the back and both approaches support the wildcard `*`.\nDuckDB _not_ support the full JSONPath syntax because SQL is readily available for any further transformations.\n\n> It's best to pick either the JSONPath or the JSON Pointer syntax and use it in your entire application.", "position": 1, "token_count": 199, "has_code": false, "section_hierarchy": ["JSONPath and JSON Pointer Syntax"], "metadata": {"chunk_id": "data-json-overview-001", "document_id": "data-json-overview", "position": 1, "token_count": 199, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["JSONPath and JSON Pointer Syntax"], "file_path": "data/json/overview.md", "url": "/data/json/overview", "title": "JSON Overview", "category": null, "tags": [], "section_url": "/data/json/overview#jsonpath-and-json-pointer-syntax"}}
{"chunk_id": "data-json-overview-002", "document_id": "data-json-overview", "content": "## Indexing\n\n> Warning Following [PostgreSQL's conventions]({% link docs/stable/sql/dialect/postgresql_compatibility.md %}), DuckDB uses 1-based indexing for its [`ARRAY`]({% link docs/stable/sql/data_types/array.md %}) and [`LIST`]({% link docs/stable/sql/data_types/list.md %}) data types but [0-based indexing for the JSON data type](https://www.postgresql.org/docs/17/functions-json.html#FUNCTIONS-JSON-PROCESSING).", "position": 2, "token_count": 159, "has_code": false, "section_hierarchy": ["Indexing"], "metadata": {"chunk_id": "data-json-overview-002", "document_id": "data-json-overview", "position": 2, "token_count": 159, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Indexing"], "file_path": "data/json/overview.md", "url": "/data/json/overview", "title": "JSON Overview", "category": null, "tags": [], "section_url": "/data/json/overview#indexing"}}
{"chunk_id": "data-json-overview-003", "document_id": "data-json-overview", "content": "## Examples", "position": 3, "token_count": 5, "has_code": false, "section_hierarchy": ["Examples"], "metadata": {"chunk_id": "data-json-overview-003", "document_id": "data-json-overview", "position": 3, "token_count": 5, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Examples"], "file_path": "data/json/overview.md", "url": "/data/json/overview", "title": "JSON Overview", "category": null, "tags": [], "section_url": "/data/json/overview#examples"}}
{"chunk_id": "data-json-overview-004", "document_id": "data-json-overview", "content": "### Loading JSON\n\nRead a JSON file from disk, auto-infer options:\n\n```sql\nSELECT * FROM 'todos.json';\n```\n\nUse the `read_json` function with custom options:\n\n```sql\nSELECT *\nFROM read_json('todos.json',\n format = 'array',\n columns = {userId: 'UBIGINT',\n id: 'UBIGINT',\n title: 'VARCHAR',\n completed: 'BOOLEAN'});\n```\n\nRead a JSON file from stdin, auto-infer options:\n\n```batch\ncat data/json/todos.json | duckdb -c \"SELECT * FROM read_json('/dev/stdin')\"\n```\n\nRead a JSON file into a table:\n\n```sql\nCREATE TABLE todos (userId UBIGINT, id UBIGINT, title VARCHAR, completed BOOLEAN);\nCOPY todos FROM 'todos.json' (AUTO_DETECT true);", "position": 4, "token_count": 236, "has_code": true, "section_hierarchy": ["Loading JSON"], "metadata": {"chunk_id": "data-json-overview-004", "document_id": "data-json-overview", "position": 4, "token_count": 236, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Loading JSON"], "file_path": "data/json/overview.md", "url": "/data/json/overview", "title": "JSON Overview", "category": null, "tags": [], "section_url": "/data/json/overview#loading-json"}}
{"chunk_id": "data-json-overview-005", "document_id": "data-json-overview", "content": "```\n\nAlternatively, create a table without specifying the schema manually with a [`CREATE TABLE ... AS SELECT` clause]({% link docs/stable/sql/statements/create_table.md %}#create-table--as-select-ctas):\n\n```sql\nCREATE TABLE todos AS\n SELECT * FROM 'todos.json';\n```\n\nSince DuckDB v1.3.0, the JSON reader returns the `filename` virtual column:\n\n```sql\nSELECT filename, *\nFROM 'todos-*.json';\n```", "position": 5, "token_count": 134, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "data-json-overview-005", "document_id": "data-json-overview", "position": 5, "token_count": 134, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "data/json/overview.md", "url": "/data/json/overview", "title": "JSON Overview", "category": null, "tags": [], "section_url": "/data/json/overview"}}
{"chunk_id": "data-json-overview-006", "document_id": "data-json-overview", "content": "### Writing JSON\n\nWrite the result of a query to a JSON file:\n\n```sql\nCOPY (SELECT * FROM todos) TO 'todos.json';\n```\n\n### JSON Data Type\n\nCreate a table with a column for storing JSON data and insert data into it:\n\n```sql\nCREATE TABLE example (j JSON);\nINSERT INTO example VALUES\n ('{ \"family\": \"anatidae\", \"species\": [ \"duck\", \"goose\", \"swan\", null ] }');\n```", "position": 6, "token_count": 123, "has_code": true, "section_hierarchy": ["JSON Data Type"], "metadata": {"chunk_id": "data-json-overview-006", "document_id": "data-json-overview", "position": 6, "token_count": 123, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["JSON Data Type"], "file_path": "data/json/overview.md", "url": "/data/json/overview", "title": "JSON Overview", "category": null, "tags": [], "section_url": "/data/json/overview#json-data-type"}}
{"chunk_id": "data-json-overview-007", "document_id": "data-json-overview", "content": "### Retrieving JSON Data\n\nRetrieve the family key's value:\n\n```sql\nSELECT j.family FROM example;\n```\n\n```text\n\"anatidae\"\n```\n\nExtract the family key's value with a [JSONPath](https://goessner.net/articles/JsonPath/) expression as `JSON`:\n\n```sql\nSELECT j->'$.family' FROM example;\n```\n\n```text\n\"anatidae\"\n```\n\nExtract the family key's value with a [JSONPath](https://goessner.net/articles/JsonPath/) expression as a `VARCHAR`:\n\n```sql\nSELECT j->>'$.family' FROM example;\n```\n\n```text\nanatidae\n```", "position": 7, "token_count": 181, "has_code": true, "section_hierarchy": ["Retrieving JSON Data"], "metadata": {"chunk_id": "data-json-overview-007", "document_id": "data-json-overview", "position": 7, "token_count": 181, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Retrieving JSON Data"], "file_path": "data/json/overview.md", "url": "/data/json/overview", "title": "JSON Overview", "category": null, "tags": [], "section_url": "/data/json/overview#retrieving-json-data"}}
{"chunk_id": "data-json-overview-008", "document_id": "data-json-overview", "content": "### Using Quotes for Special Characters\n\nJSON object keys that contain the special `[` and `.` characters can be used by surrounding them with double quotes (`\"`):\n\n```sql\nSELECT '{\"d[u]._\\\"ck\":42}'->'$.\"d[u]._\\\"ck\"' AS v;\n```\n\n```text\n42\n```", "position": 8, "token_count": 94, "has_code": true, "section_hierarchy": ["Using Quotes for Special Characters"], "metadata": {"chunk_id": "data-json-overview-008", "document_id": "data-json-overview", "position": 8, "token_count": 94, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Using Quotes for Special Characters"], "file_path": "data/json/overview.md", "url": "/data/json/overview", "title": "JSON Overview", "category": null, "tags": [], "section_url": "/data/json/overview#using-quotes-for-special-characters"}}

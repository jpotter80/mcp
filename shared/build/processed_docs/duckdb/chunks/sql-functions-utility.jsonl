{"chunk_id": "sql-functions-utility-000", "document_id": "sql-functions-utility", "content": "## Scalar Utility Functions\n\nThe functions below are difficult to categorize into specific function types and are broadly useful.", "position": 0, "token_count": 26, "has_code": false, "section_hierarchy": ["Scalar Utility Functions"], "metadata": {"chunk_id": "sql-functions-utility-000", "document_id": "sql-functions-utility", "position": 0, "token_count": 26, "has_code": false, "overlap_with_previous": false, "section_hierarchy": ["Scalar Utility Functions"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#scalar-utility-functions"}}
{"chunk_id": "sql-functions-utility-001", "document_id": "sql-functions-utility", "content": "| Name | Description |\n|:--|:-------|\n| [`alias(column)`](#aliascolumn) | Return the name of the column. |\n| [`can_cast_implicitly(source_value, target_value)`](#can_cast_implicitlysource_value-target_value) | Whether or not we can implicitly cast from the types of the source value to the target value. |\n| [`checkpoint(database)`](#checkpointdatabase) | Synchronize WAL with file for (optional) database without interrupting transactions. |\n| [`coalesce(expr, ...)`](#coalesceexpr-) | Return the first expression that evaluates to a non-`NULL` value. Accepts 1 or more parameters. Each expression can be a column, literal value, function result, or many others. |", "position": 1, "token_count": 206, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-utility-001", "document_id": "sql-functions-utility", "position": 1, "token_count": 206, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility"}}
{"chunk_id": "sql-functions-utility-002", "document_id": "sql-functions-utility", "content": "| [`constant_or_null(arg1, arg2)`](#constant_or_nullarg1-arg2) | If `arg2` is `NULL`, return `NULL`. Otherwise, return `arg1`. |\n| [`count_if(x)`](#count_ifx) | Aggregate function; rows contribute 1 if `x` is `true` or a non-zero number, else 0. |\n| [`create_sort_key(parameters...)`](#create_sort_keyparameters) | Constructs a binary-comparable sort key based on a set of input parameters and sort qualifiers. |\n| [`current_catalog()`](#current_catalog) | Return the name of the currently active catalog. Default is memory. |\n| [`current_database()`](#current_database) | Return the name of the currently active database. |", "position": 2, "token_count": 213, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-utility-002", "document_id": "sql-functions-utility", "position": 2, "token_count": 213, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility"}}
{"chunk_id": "sql-functions-utility-003", "document_id": "sql-functions-utility", "content": "| [`current_database()`](#current_database) | Return the name of the currently active database. |\n| [`current_query()`](#current_query) | Return the current query as a string. |\n| [`current_schema()`](#current_schema) | Return the name of the currently active schema. Default is main. |\n| [`current_schemas(boolean)`](#current_schemasboolean) | Return list of schemas. Pass a parameter of `true` to include implicit schemas. |\n| [`current_setting('setting_name')`](#current_settingsetting_name) | Return the current value of the configuration setting. |\n| [`currval('sequence_name')`](#currvalsequence_name) | Return the current value of the sequence. Note that `nextval` must be called at least once prior to calling `currval`. |", "position": 3, "token_count": 229, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-utility-003", "document_id": "sql-functions-utility", "position": 3, "token_count": 229, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility"}}
{"chunk_id": "sql-functions-utility-004", "document_id": "sql-functions-utility", "content": "| [`error(message)`](#errormessage) | Throws the given error `message`. |\n| [`equi_width_bins(min, max, bincount, nice := false)`](#equi_width_binsmin-max-bincount-nice--false) | Returns the upper boundaries of a partition of the interval `[min, max]` into `bin_count` equal-sized subintervals (for use with, e.g., [`histogram`]({% link docs/stable/sql/functions/aggregates.md %}#histogramargboundaries)). If `nice = true`, then `min`, `max`, and `bincount` may be adjusted to produce more aesthetically pleasing results. |\n| [`force_checkpoint(database)`](#force_checkpointdatabase) | Synchronize WAL with file for (optional) database interrupting transactions. |", "position": 4, "token_count": 226, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-utility-004", "document_id": "sql-functions-utility", "position": 4, "token_count": 226, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility"}}
{"chunk_id": "sql-functions-utility-005", "document_id": "sql-functions-utility", "content": "| [`force_checkpoint(database)`](#force_checkpointdatabase) | Synchronize WAL with file for (optional) database interrupting transactions. |\n| [`gen_random_uuid()`](#gen_random_uuid) | Return a random UUID similar to this: `eeccb8c5-9943-b2bb-bb5e-222f4e14b687`. |\n| [`getenv(var)`](#getenvvar) | Returns the value of the environment variable `var`. Only available in the [command line client]({% link docs/stable/clients/cli/overview.md %}). |\n| [`hash(value)`](#hashvalue) | Returns a `UBIGINT` with a hash of `value`. The used hash function may change across DuckDB versions.|", "position": 5, "token_count": 207, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-utility-005", "document_id": "sql-functions-utility", "position": 5, "token_count": 207, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility"}}
{"chunk_id": "sql-functions-utility-006", "document_id": "sql-functions-utility", "content": "| [`hash(value)`](#hashvalue) | Returns a `UBIGINT` with a hash of `value`. The used hash function may change across DuckDB versions.|\n| [`icu_sort_key(string, collator)`](#icu_sort_keystring-collator) | Surrogate [sort key](https://unicode-org.github.io/icu/userguide/collation/architecture.html#sort-keys) used to sort special characters according to the specific locale. Collator parameter is optional. Only available when the ICU extension is installed. |\n| [`if(a, b, c)`](#ifa-b-c) | Ternary conditional operator. |\n| [`ifnull(expr, other)`](#ifnullexpr-other) | A two-argument version of coalesce. |", "position": 6, "token_count": 213, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-utility-006", "document_id": "sql-functions-utility", "position": 6, "token_count": 213, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility"}}
{"chunk_id": "sql-functions-utility-007", "document_id": "sql-functions-utility", "content": "| [`ifnull(expr, other)`](#ifnullexpr-other) | A two-argument version of coalesce. |\n| [`is_histogram_other_bin(arg)`](#is_histogram_other_binarg) | Returns `true` when `arg` is the \"catch-all element\" of its datatype for the purpose of the [`histogram_exact`]({% link docs/stable/sql/functions/aggregates.md %}#histogram_exactargelements) function, which is equal to the \"right-most boundary\" of its datatype for the purpose of the [`histogram`]({% link docs/stable/sql/functions/aggregates.md %}#histogramargboundaries) function. |\n| [`md5(string)`](#md5string) | Returns the MD5 hash of the `string` as a `VARCHAR`. |", "position": 7, "token_count": 233, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-utility-007", "document_id": "sql-functions-utility", "position": 7, "token_count": 233, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility"}}
{"chunk_id": "sql-functions-utility-008", "document_id": "sql-functions-utility", "content": "| [`md5(string)`](#md5string) | Returns the MD5 hash of the `string` as a `VARCHAR`. |\n| [`md5_number(string)`](#md5_numberstring) | Returns the MD5 hash of the `string` as a `UHUGEINT`. |\n| [`md5_number_lower(string)`](#md5_number_lowerstring) | Returns the lower 64-bit segment of the MD5 hash of the `string` as a `UBIGINT`. |\n| [`md5_number_upper(string)`](#md5_number_upperstring) | Returns the upper 64-bit segment of the MD5 hash of the `string` as a `UBIGINT`. |\n| [`nextval('sequence_name')`](#nextvalsequence_name) | Return the following value of the sequence. |", "position": 8, "token_count": 220, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-utility-008", "document_id": "sql-functions-utility", "position": 8, "token_count": 220, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility"}}
{"chunk_id": "sql-functions-utility-009", "document_id": "sql-functions-utility", "content": "| [`nextval('sequence_name')`](#nextvalsequence_name) | Return the following value of the sequence. |\n| [`nullif(a, b)`](#nullifa-b) | Return `NULL` if `a = b`, else return `a`. Equivalent to `CASE WHEN a = b THEN NULL ELSE a END`. |\n| [`pg_typeof(expression)`](#pg_typeofexpression) | Returns the lower case name of the data type of the result of the expression. For PostgreSQL compatibility. |\n| [`query(`*`query_string`*`)`](#queryquery_string) | Table function that parses and executes the query defined in *`query_string`*. Only constant strings are allowed. Warning: this function allows invoking arbitrary queries, potentially altering the database state. |", "position": 9, "token_count": 208, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-utility-009", "document_id": "sql-functions-utility", "position": 9, "token_count": 208, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility"}}
{"chunk_id": "sql-functions-utility-010", "document_id": "sql-functions-utility", "content": "| [`query_table(`*`tbl_name`*`)`](#query_tabletbl_name) | Table function that returns the table given in *`tbl_name`*. |\n| [`query_table(`*`tbl_names`*`, [`*`by_name`*`])`](#query_tabletbl_names-by_name) | Table function that returns the union of tables given in *`tbl_names`*. If the optional *`by_name`* parameter is set to `true`, it uses [`UNION ALL BY NAME`]({% link docs/stable/sql/query_syntax/setops.md %}#union-all-by-name) semantics. |", "position": 10, "token_count": 176, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-utility-010", "document_id": "sql-functions-utility", "position": 10, "token_count": 176, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility"}}
{"chunk_id": "sql-functions-utility-011", "document_id": "sql-functions-utility", "content": "| [`read_blob(source)`](#read_blobsource) | Returns the content from `source` (a filename, a list of filenames, or a glob pattern) as a `BLOB`. See the [`read_blob` guide]({% link docs/stable/guides/file_formats/read_file.md %}#read_blob) for more details. |\n| [`read_text(source)`](#read_textsource) | Returns the content from `source` (a filename, a list of filenames, or a glob pattern) as a `VARCHAR`. The file content is first validated to be valid UTF-8. If `read_text` attempts to read a file with invalid UTF-8 an error is thrown suggesting to use `read_blob` instead. See the [`read_text` guide]({% link docs/stable/guides/file_formats/read_file.md %}#read_text) for more details. |", "position": 11, "token_count": 250, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-utility-011", "document_id": "sql-functions-utility", "position": 11, "token_count": 250, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility"}}
{"chunk_id": "sql-functions-utility-012", "document_id": "sql-functions-utility", "content": "| [`sha1(string)`](#sha1string) | Returns a `VARCHAR` with the SHA-1 hash of the `string`. |\n| [`sha256(string)`](#sha256string) | Returns a `VARCHAR` with the SHA-256 hash of the `string`. |\n| [`stats(expression)`](#statsexpression) | Returns a string with statistics about the expression. Expression can be a column, constant, or SQL expression. |\n| [`txid_current()`](#txid_current) | Returns the current transaction's identifier, a `BIGINT` value. It will assign a new one if the current transaction does not have one already. |\n| [`typeof(expression)`](#typeofexpression) | Returns the name of the data type of the result of the expression. |", "position": 12, "token_count": 206, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-utility-012", "document_id": "sql-functions-utility", "position": 12, "token_count": 206, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility"}}
{"chunk_id": "sql-functions-utility-013", "document_id": "sql-functions-utility", "content": "| [`typeof(expression)`](#typeofexpression) | Returns the name of the data type of the result of the expression. |\n| [`uuid()`](#uuid) | Return a random UUID (UUIDv4) similar to this: `eeccb8c5-9943-b2bb-bb5e-222f4e14b687`. |\n| [`uuidv4()`](#uuidv4) | Return a random UUID (UUIDv4) similar to this: `eeccb8c5-9943-b2bb-bb5e-222f4e14b687`. |\n| [`uuidv7()`](#uuidv7) | Return a random UUIDv7 similar to this: `81964ebe-00b1-7e1d-b0f9-43c29b6fb8f5`. |", "position": 13, "token_count": 225, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-utility-013", "document_id": "sql-functions-utility", "position": 13, "token_count": 225, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility"}}
{"chunk_id": "sql-functions-utility-014", "document_id": "sql-functions-utility", "content": "| [`uuid_extract_timestamp(uuidv7)`](#uuid_extract_timestampuuidv7) | Extracts `TIMESTAMP WITH TIME ZONE` from a UUIDv7 value. |\n| [`uuid_extract_version(uuid)`](#uuid_extract_versionuuid) | Extracts UUID version (`4` or `7`). |\n| [`version()`](#version) | Return the currently active version of DuckDB in this format. |", "position": 14, "token_count": 122, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-utility-014", "document_id": "sql-functions-utility", "position": 14, "token_count": 122, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility"}}
{"chunk_id": "sql-functions-utility-015", "document_id": "sql-functions-utility", "content": "#### `alias(column)`\n\n| **Description** | Return the name of the column. |\n| **Example** | `alias(column1)` |\n| **Result** | `column1` |\n\n#### `can_cast_implicitly(source_value, target_value)`\n\n| **Description** | Whether or not we can implicitly cast from the types of the source value to the target value. |\n| **Example** | `can_cast_implicitly(1::BIGINT, 1::SMALLINT)` |\n| **Result** | `false` |\n\n#### `checkpoint(database)`\n\n| **Description** | Synchronize WAL with file for (optional) database without interrupting transactions. |\n| **Example** | `checkpoint(my_db)` |\n| **Result** | success Boolean |", "position": 15, "token_count": 204, "has_code": false, "section_hierarchy": ["`checkpoint(database)`"], "metadata": {"chunk_id": "sql-functions-utility-015", "document_id": "sql-functions-utility", "position": 15, "token_count": 204, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`checkpoint(database)`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#checkpointdatabase"}}
{"chunk_id": "sql-functions-utility-016", "document_id": "sql-functions-utility", "content": "#### `coalesce(expr, ...)`\n\n| **Description** | Return the first expression that evaluates to a non-`NULL` value. Accepts 1 or more parameters. Each expression can be a column, literal value, function result, or many others. |\n| **Example** | `coalesce(NULL, NULL, 'default_string')` |\n| **Result** | `default_string` |\n\n#### `constant_or_null(arg1, arg2)`\n\n| **Description** | If `arg2` is `NULL`, return `NULL`. Otherwise, return `arg1`. |\n| **Example** | `constant_or_null(42, NULL)` |\n| **Result** | `NULL` |", "position": 16, "token_count": 187, "has_code": false, "section_hierarchy": ["`constant_or_null(arg1, arg2)`"], "metadata": {"chunk_id": "sql-functions-utility-016", "document_id": "sql-functions-utility", "position": 16, "token_count": 187, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`constant_or_null(arg1, arg2)`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#constantornullarg1-arg2"}}
{"chunk_id": "sql-functions-utility-017", "document_id": "sql-functions-utility", "content": "#### `count_if(x)`\n\n| **Description** | Aggregate function; rows contribute 1 if `x` is `true` or a non-zero number, else 0. |\n| **Example** | `count_if(42)` |\n| **Result** | 1 |\n\n#### `create_sort_key(parameters...)`\n\n| **Description** | Constructs a binary-comparable sort key based on a set of input parameters and sort qualifiers. |\n| **Example** | `create_sort_key('abc', 'ASC NULLS FIRST');` |\n| **Result** | `\\x02bcd\\x00` |\n\n#### `current_catalog()`\n\n| **Description** | Return the name of the currently active catalog. Default is memory. |\n| **Example** | `current_catalog()` |\n| **Result** | `memory` |", "position": 17, "token_count": 221, "has_code": false, "section_hierarchy": ["`current_catalog()`"], "metadata": {"chunk_id": "sql-functions-utility-017", "document_id": "sql-functions-utility", "position": 17, "token_count": 221, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`current_catalog()`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#currentcatalog"}}
{"chunk_id": "sql-functions-utility-018", "document_id": "sql-functions-utility", "content": "#### `current_database()`\n\n| **Description** | Return the name of the currently active database. |\n| **Example** | `current_database()` |\n| **Result** | `memory` |\n\n#### `current_query()`\n\n| **Description** | Return the current query as a string. |\n| **Example** | `current_query()` |\n| **Result** | `SELECT current_query();` |\n\n#### `current_schema()`\n\n| **Description** | Return the name of the currently active schema. Default is main. |\n| **Example** | `current_schema()` |\n| **Result** | `main` |", "position": 18, "token_count": 176, "has_code": false, "section_hierarchy": ["`current_schema()`"], "metadata": {"chunk_id": "sql-functions-utility-018", "document_id": "sql-functions-utility", "position": 18, "token_count": 176, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`current_schema()`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#currentschema"}}
{"chunk_id": "sql-functions-utility-019", "document_id": "sql-functions-utility", "content": "#### `current_schemas(boolean)`\n\n| **Description** | Return list of schemas. Pass a parameter of `true` to include implicit schemas. |\n| **Example** | `current_schemas(true)` |\n| **Result** | `['temp', 'main', 'pg_catalog']` |\n\n#### `current_setting('setting_name')`\n\n| **Description** | Return the current value of the configuration setting. |\n| **Example** | `current_setting('access_mode')` |\n| **Result** | `automatic` |\n\n#### `currval('sequence_name')`\n\n| **Description** | Return the current value of the sequence. Note that `nextval` must be called at least once prior to calling `currval`. |\n| **Example** | `currval('my_sequence_name')` |\n| **Result** | `1` |", "position": 19, "token_count": 240, "has_code": false, "section_hierarchy": ["`currval('sequence_name')`"], "metadata": {"chunk_id": "sql-functions-utility-019", "document_id": "sql-functions-utility", "position": 19, "token_count": 240, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`currval('sequence_name')`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#currvalsequencename"}}
{"chunk_id": "sql-functions-utility-020", "document_id": "sql-functions-utility", "content": "#### `error(message)`\n\n| **Description** | Throws the given error `message`. |\n| **Example** | `error('access_mode')` |", "position": 20, "token_count": 46, "has_code": false, "section_hierarchy": ["`error(message)`"], "metadata": {"chunk_id": "sql-functions-utility-020", "document_id": "sql-functions-utility", "position": 20, "token_count": 46, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`error(message)`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#errormessage"}}
{"chunk_id": "sql-functions-utility-021", "document_id": "sql-functions-utility", "content": "#### `equi_width_bins(min, max, bincount, nice := false)`\n\n| **Description** | Returns the upper boundaries of a partition of the interval `[min, max]` into `bin_count` equal-sized subintervals (for use with, e.g., [`histogram`]({% link docs/stable/sql/functions/aggregates.md %}#histogramargboundaries)). If `nice = true`, then `min`, `max`, and `bincount` may be adjusted to produce more aesthetically pleasing results. |\n| **Example** | `equi_width_bins(0.1, 2.7, 4, true)` |\n| **Result** | `[0.5, 1.0, 1.5, 2.0, 2.5, 3.0]` |", "position": 21, "token_count": 213, "has_code": false, "section_hierarchy": ["`equi_width_bins(min, max, bincount, nice := false)`"], "metadata": {"chunk_id": "sql-functions-utility-021", "document_id": "sql-functions-utility", "position": 21, "token_count": 213, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`equi_width_bins(min, max, bincount, nice := false)`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#equiwidthbinsmin-max-bincount-nice--false"}}
{"chunk_id": "sql-functions-utility-022", "document_id": "sql-functions-utility", "content": "#### `force_checkpoint(database)`\n\n| **Description** | Synchronize WAL with file for (optional) database interrupting transactions. |\n| **Example** | `force_checkpoint(my_db)` |\n| **Result** | success Boolean |\n\n#### `gen_random_uuid()`\n\n| **Description** | Return a random UUID (UUIDv4) similar to this: `eeccb8c5-9943-b2bb-bb5e-222f4e14b687`. |\n| **Example** | `gen_random_uuid()` |\n| **Result** | various |", "position": 22, "token_count": 160, "has_code": false, "section_hierarchy": ["`gen_random_uuid()`"], "metadata": {"chunk_id": "sql-functions-utility-022", "document_id": "sql-functions-utility", "position": 22, "token_count": 160, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`gen_random_uuid()`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#genrandomuuid"}}
{"chunk_id": "sql-functions-utility-023", "document_id": "sql-functions-utility", "content": "#### `getenv(var)`\n\n| **Description** | Returns the value of the environment variable `var`. Only available in the [command line client]({% link docs/stable/clients/cli/overview.md %}). |\n| **Example** | `getenv('HOME')` |\n| **Result** | `/path/to/user/home` |\n\n#### `hash(value)`\n\n| **Description** | Returns a `UBIGINT` with the hash of the `value`. The used hash function may change across DuckDB versions. |\n| **Example** | `hash('ðŸ¦†')` |\n| **Result** | `2595805878642663834` |", "position": 23, "token_count": 181, "has_code": false, "section_hierarchy": ["`hash(value)`"], "metadata": {"chunk_id": "sql-functions-utility-023", "document_id": "sql-functions-utility", "position": 23, "token_count": 181, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`hash(value)`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#hashvalue"}}
{"chunk_id": "sql-functions-utility-024", "document_id": "sql-functions-utility", "content": "#### `icu_sort_key(string, collator)`\n\n| **Description** | Surrogate [sort key](https://unicode-org.github.io/icu/userguide/collation/architecture.html#sort-keys) used to sort special characters according to the specific locale. Collator parameter is optional. Only available when the ICU extension is installed. |\n| **Example** | `icu_sort_key('Ã¶', 'DE')` |\n| **Result** | `460145960106` |\n\n#### `if(a, b, c)`\n\n| **Description** | Ternary conditional operator; returns b if a, else returns c. Equivalent to `CASE WHEN a THEN b ELSE c END`. |\n| **Example** | `if(2 > 1, 3, 4)` |\n| **Result** | `3` |", "position": 24, "token_count": 217, "has_code": false, "section_hierarchy": ["`if(a, b, c)`"], "metadata": {"chunk_id": "sql-functions-utility-024", "document_id": "sql-functions-utility", "position": 24, "token_count": 217, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`if(a, b, c)`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#ifa-b-c"}}
{"chunk_id": "sql-functions-utility-025", "document_id": "sql-functions-utility", "content": "#### `ifnull(expr, other)`\n\n| **Description** | A two-argument version of coalesce. |\n| **Example** | `ifnull(NULL, 'default_string')` |\n| **Result** | `default_string` |", "position": 25, "token_count": 70, "has_code": false, "section_hierarchy": ["`ifnull(expr, other)`"], "metadata": {"chunk_id": "sql-functions-utility-025", "document_id": "sql-functions-utility", "position": 25, "token_count": 70, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`ifnull(expr, other)`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#ifnullexpr-other"}}
{"chunk_id": "sql-functions-utility-026", "document_id": "sql-functions-utility", "content": "#### `is_histogram_other_bin(arg)`\n\n| **Description** | Returns `true` when `arg` is the \"catch-all element\" of its datatype for the purpose of the [`histogram_exact`]({% link docs/stable/sql/functions/aggregates.md %}#histogram_exactargelements) function, which is equal to the \"right-most boundary\" of its datatype for the purpose of the [`histogram`]({% link docs/stable/sql/functions/aggregates.md %}#histogramargboundaries) function. |\n| **Example** | `is_histogram_other_bin('')` |\n| **Result** | `true` |", "position": 26, "token_count": 187, "has_code": false, "section_hierarchy": ["`is_histogram_other_bin(arg)`"], "metadata": {"chunk_id": "sql-functions-utility-026", "document_id": "sql-functions-utility", "position": 26, "token_count": 187, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`is_histogram_other_bin(arg)`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#ishistogramotherbinarg"}}
{"chunk_id": "sql-functions-utility-027", "document_id": "sql-functions-utility", "content": "#### `md5(string)`\n\n| **Description** | Returns the MD5 hash of the `string` as a `VARCHAR`. |\n| **Example** | `md5('abc')` |\n| **Result** | `900150983cd24fb0d6963f7d28e17f72` |\n\n#### `md5_number(string)`\n\n| **Description** | Returns the MD5 hash of the `string` as a `UHUGEINT`. |\n| **Example** | `md5_number('abc')` |\n| **Result** | `152195979970564155685860391459828531600` |", "position": 27, "token_count": 180, "has_code": false, "section_hierarchy": ["`md5_number(string)`"], "metadata": {"chunk_id": "sql-functions-utility-027", "document_id": "sql-functions-utility", "position": 27, "token_count": 180, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`md5_number(string)`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#md5numberstring"}}
{"chunk_id": "sql-functions-utility-028", "document_id": "sql-functions-utility", "content": "#### `md5_number_lower(string)`\n\n| **Description** | Returns the lower 8 bytes of the MD5 hash of `string` as a `UBIGINT`. |\n| **Example** | `md5_number_lower('abc')` |\n| **Result** | `8250560606382298838` |\n\n#### `md5_number_upper(string)`\n\n| **Description** | Returns the upper 8 bytes of the MD5 hash of `string` as a `UBIGINT`. |\n| **Example** | `md5_number_upper('abc')` |\n| **Result** | `12704604231530709392` |\n\n#### `nextval('sequence_name')`\n\n| **Description** | Return the following value of the sequence. |\n| **Example** | `nextval('my_sequence_name')` |\n| **Result** | `2` |", "position": 28, "token_count": 243, "has_code": false, "section_hierarchy": ["`nextval('sequence_name')`"], "metadata": {"chunk_id": "sql-functions-utility-028", "document_id": "sql-functions-utility", "position": 28, "token_count": 243, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`nextval('sequence_name')`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#nextvalsequencename"}}
{"chunk_id": "sql-functions-utility-029", "document_id": "sql-functions-utility", "content": "#### `nullif(a, b)`\n\n| **Description** | Return `NULL` if a = b, else return a. Equivalent to `CASE WHEN a = b THEN NULL ELSE a END`. |\n| **Example** | `nullif(1+1, 2)` |\n| **Result** | `NULL` |\n\n#### `pg_typeof(expression)`\n\n| **Description** | Returns the lower case name of the data type of the result of the expression. For PostgreSQL compatibility. |\n| **Example** | `pg_typeof('abc')` |\n| **Result** | `varchar` |", "position": 29, "token_count": 158, "has_code": false, "section_hierarchy": ["`pg_typeof(expression)`"], "metadata": {"chunk_id": "sql-functions-utility-029", "document_id": "sql-functions-utility", "position": 29, "token_count": 158, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`pg_typeof(expression)`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#pgtypeofexpression"}}
{"chunk_id": "sql-functions-utility-030", "document_id": "sql-functions-utility", "content": "#### `query(query_string)`\n\n| **Description** | Table function that parses and executes the query defined in `query_string`. Only constant strings are allowed. Warning: this function allows invoking arbitrary queries, potentially altering the database state. |\n| **Example** | `query('SELECT 42 AS x')` |\n| **Result** | `42` |\n\n#### `query_table(tbl_name)`\n\n| **Description** | Table function that returns the table given in `tbl_name`. |\n| **Example** | `query_table('t1')` |\n| **Result** | (the rows of `t1`) |", "position": 30, "token_count": 167, "has_code": false, "section_hierarchy": ["`query_table(tbl_name)`"], "metadata": {"chunk_id": "sql-functions-utility-030", "document_id": "sql-functions-utility", "position": 30, "token_count": 167, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`query_table(tbl_name)`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#querytabletblname"}}
{"chunk_id": "sql-functions-utility-031", "document_id": "sql-functions-utility", "content": "#### `query_table(tbl_names, [by_name])`\n\n| **Description** | Table function that returns the union of tables given in `tbl_names`. If the optional `by_name` parameter is set to `true`, it uses [`UNION ALL BY NAME`]({% link docs/stable/sql/query_syntax/setops.md %}#union-all-by-name) semantics. |\n| **Example** | `query_table(['t1', 't2'])` |\n| **Result** | (the union of the two tables) |", "position": 31, "token_count": 148, "has_code": false, "section_hierarchy": ["`query_table(tbl_names, [by_name])`"], "metadata": {"chunk_id": "sql-functions-utility-031", "document_id": "sql-functions-utility", "position": 31, "token_count": 148, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`query_table(tbl_names, [by_name])`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#querytabletblnames-byname"}}
{"chunk_id": "sql-functions-utility-032", "document_id": "sql-functions-utility", "content": "#### `read_blob(source)`\n\n| **Description** | Returns the content from `source` (a filename, a list of filenames, or a glob pattern) as a `BLOB`. See the [`read_blob` guide]({% link docs/stable/guides/file_formats/read_file.md %}#read_blob) for more details. |\n| **Example** | `read_blob('hello.bin')` |\n| **Result** | `hello\\x0A` |", "position": 32, "token_count": 140, "has_code": false, "section_hierarchy": ["`read_blob(source)`"], "metadata": {"chunk_id": "sql-functions-utility-032", "document_id": "sql-functions-utility", "position": 32, "token_count": 140, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`read_blob(source)`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#readblobsource"}}
{"chunk_id": "sql-functions-utility-033", "document_id": "sql-functions-utility", "content": "#### `read_text(source)`\n\n| **Description** | Returns the content from `source` (a filename, a list of filenames, or a glob pattern) as a `VARCHAR`. The file content is first validated to be valid UTF-8. If `read_text` attempts to read a file with invalid UTF-8 an error is thrown suggesting to use `read_blob` instead. See the [`read_text` guide]({% link docs/stable/guides/file_formats/read_file.md %}#read_text) for more details. |\n| **Example** | `read_text('hello.txt')` |\n| **Result** | `hello\\n` |", "position": 33, "token_count": 179, "has_code": false, "section_hierarchy": ["`read_text(source)`"], "metadata": {"chunk_id": "sql-functions-utility-033", "document_id": "sql-functions-utility", "position": 33, "token_count": 179, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`read_text(source)`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#readtextsource"}}
{"chunk_id": "sql-functions-utility-034", "document_id": "sql-functions-utility", "content": "#### `sha1(string)`\n\n| **Description** | Returns a `VARCHAR` with the SHA-1 hash of the `string`. |\n| **Example** | `sha1('ðŸ¦†')` |\n| **Result** | `949bf843dc338be348fb9525d1eb535d31241d76` |\n\n#### `sha256(string)`\n\n| **Description** | Returns a `VARCHAR` with the SHA-256 hash of the `string`. |\n| **Example** | `sha256('ðŸ¦†')` |\n| **Result** | `d7a5c5e0d1d94c32218539e7e47d4ba9c3c7b77d61332fb60d633dde89e473fb` |", "position": 34, "token_count": 211, "has_code": false, "section_hierarchy": ["`sha256(string)`"], "metadata": {"chunk_id": "sql-functions-utility-034", "document_id": "sql-functions-utility", "position": 34, "token_count": 211, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`sha256(string)`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#sha256string"}}
{"chunk_id": "sql-functions-utility-035", "document_id": "sql-functions-utility", "content": "#### `stats(expression)`\n\n| **Description** | Returns a string with statistics about the expression. Expression can be a column, constant, or SQL expression. |\n| **Example** | `stats(5)` |\n| **Result** | `'[Min: 5, Max: 5][Has Null: false]'` |\n\n#### `txid_current()`\n\n| **Description** | Returns the current transaction's identifier, a `BIGINT` value. It will assign a new one if the current transaction does not have one already. |\n| **Example** | `txid_current()` |\n| **Result** | various |\n\n#### `typeof(expression)`\n\n| **Description** | Returns the name of the data type of the result of the expression. |\n| **Example** | `typeof('abc')` |\n| **Result** | `VARCHAR` |", "position": 35, "token_count": 223, "has_code": false, "section_hierarchy": ["`typeof(expression)`"], "metadata": {"chunk_id": "sql-functions-utility-035", "document_id": "sql-functions-utility", "position": 35, "token_count": 223, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`typeof(expression)`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#typeofexpression"}}
{"chunk_id": "sql-functions-utility-036", "document_id": "sql-functions-utility", "content": "#### `uuid()`\n\n| **Description** | Return a random UUID (UUIDv4) similar to this: `eeccb8c5-9943-b2bb-bb5e-222f4e14b687`. |\n| **Example** | `uuid()` |\n| **Result** | various |\n\n#### `uuidv4()`\n\n| **Description** | Return a random UUID (UUIDv4) similar to this: `eeccb8c5-9943-b2bb-bb5e-222f4e14b687`. |\n| **Example** | `uuidv4()` |\n| **Result** | various |", "position": 36, "token_count": 178, "has_code": false, "section_hierarchy": ["`uuidv4()`"], "metadata": {"chunk_id": "sql-functions-utility-036", "document_id": "sql-functions-utility", "position": 36, "token_count": 178, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`uuidv4()`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#uuidv4"}}
{"chunk_id": "sql-functions-utility-037", "document_id": "sql-functions-utility", "content": "#### `uuidv7()`\n\n| **Description** | Return a random UUIDv7 similar to this: `81964ebe-00b1-7e1d-b0f9-43c29b6fb8f5`. |\n| **Example** | `uuidv7()` |\n| **Result** | various |\n\n#### `uuid_extract_timestamp(uuidv7)`\n\n| **Description** | Extracts `TIMESTAMP WITH TIME ZONE` from a UUIDv7 value. |\n| **Example** | `uuid_extract_timestamp(uuidv7())` |\n| **Result** | `2025-04-19 15:51:20.07+00` |", "position": 37, "token_count": 186, "has_code": false, "section_hierarchy": ["`uuid_extract_timestamp(uuidv7)`"], "metadata": {"chunk_id": "sql-functions-utility-037", "document_id": "sql-functions-utility", "position": 37, "token_count": 186, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`uuid_extract_timestamp(uuidv7)`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#uuidextracttimestampuuidv7"}}
{"chunk_id": "sql-functions-utility-038", "document_id": "sql-functions-utility", "content": "#### `uuid_extract_version(uuid)`\n\n| **Description** | Extracts UUID version (`4` or `7`). |\n| **Example** | `uuid_extract_version(uuidv7())` |\n| **Result** | `7` |\n\n#### `version()`\n\n| **Description** | Return the currently active version of DuckDB in this format. |\n| **Example** | `version()` |\n| **Result** | various |", "position": 38, "token_count": 126, "has_code": false, "section_hierarchy": ["`version()`"], "metadata": {"chunk_id": "sql-functions-utility-038", "document_id": "sql-functions-utility", "position": 38, "token_count": 126, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`version()`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#version"}}
{"chunk_id": "sql-functions-utility-039", "document_id": "sql-functions-utility", "content": "## Utility Table Functions\n\nA [table function]({% link docs/stable/sql/query_syntax/from.md %}#table-functions) is used in place of a table in a `FROM` clause.\n\n| Name | Description |\n|:--|:-------|\n| [`glob(search_path)`](#globsearch_path) | Return filenames found at the location indicated by the *search_path* in a single column named `file`. The *search_path* may contain [glob pattern matching syntax]({% link docs/stable/sql/functions/pattern_matching.md %}). |\n| [`repeat_row(varargs, num_rows)`](#repeat_rowvarargs-num_rows) | Returns a table with `num_rows` rows, each containing the fields defined in `varargs`. |", "position": 39, "token_count": 216, "has_code": false, "section_hierarchy": ["Utility Table Functions"], "metadata": {"chunk_id": "sql-functions-utility-039", "document_id": "sql-functions-utility", "position": 39, "token_count": 216, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Utility Table Functions"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#utility-table-functions"}}
{"chunk_id": "sql-functions-utility-040", "document_id": "sql-functions-utility", "content": "#### `glob(search_path)`\n\n| **Description** | Return filenames found at the location indicated by the *search_path* in a single column named `file`. The *search_path* may contain [glob pattern matching syntax]({% link docs/stable/sql/functions/pattern_matching.md %}). |\n| **Example** | `glob('*')` |\n| **Result** | (table of filenames) |\n\n#### `repeat_row(varargs, num_rows)`\n\n| **Description** | Returns a table with `num_rows` rows, each containing the fields defined in `varargs`. |\n| **Example** | `repeat_row(1, 2, 'foo', num_rows = 3)` |\n| **Result** | 3 rows of `1, 2, 'foo'` |", "position": 40, "token_count": 220, "has_code": false, "section_hierarchy": ["`repeat_row(varargs, num_rows)`"], "metadata": {"chunk_id": "sql-functions-utility-040", "document_id": "sql-functions-utility", "position": 40, "token_count": 220, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`repeat_row(varargs, num_rows)`"], "file_path": "sql/functions/utility.md", "url": "/sql/functions/utility", "title": "Utility Functions", "category": null, "tags": [], "section_url": "/sql/functions/utility#repeatrowvarargs-numrows"}}

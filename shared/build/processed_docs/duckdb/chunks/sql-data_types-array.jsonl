{"chunk_id": "sql-data_types-array-000", "document_id": "sql-data_types-array", "content": "An `ARRAY` column stores fixed-sized arrays. All fields in the column must have the same length and the same underlying type. Arrays are typically used to store arrays of numbers, but can contain any uniform data type, including `ARRAY`, [`LIST`]({% link docs/stable/sql/data_types/list.md %}) and [`STRUCT`]({% link docs/stable/sql/data_types/struct.md %}) types.\n\nArrays can be used to store vectors such as [word embeddings](https://en.wikipedia.org/wiki/Word_embedding) or image embeddings.\n\nTo store variable-length lists, use the [`LIST` type]({% link docs/stable/sql/data_types/list.md %}). See the [data types overview]({% link docs/stable/sql/data_types/overview.md %}) for a comparison between nested data types.", "position": 0, "token_count": 228, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-data_types-array-000", "document_id": "sql-data_types-array", "position": 0, "token_count": 228, "has_code": false, "overlap_with_previous": false, "section_hierarchy": [], "file_path": "sql/data_types/array.md", "url": "/sql/data_types/array", "title": "Array Type", "category": null, "tags": [], "section_url": "/sql/data_types/array"}}
{"chunk_id": "sql-data_types-array-001", "document_id": "sql-data_types-array", "content": "> The `ARRAY` type in PostgreSQL allows variable-length fields. DuckDB's `ARRAY` type is fixed-length.", "position": 1, "token_count": 33, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-data_types-array-001", "document_id": "sql-data_types-array", "position": 1, "token_count": 33, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/data_types/array.md", "url": "/sql/data_types/array", "title": "Array Type", "category": null, "tags": [], "section_url": "/sql/data_types/array"}}
{"chunk_id": "sql-data_types-array-002", "document_id": "sql-data_types-array", "content": "## Creating Arrays\n\nArrays can be created using the [`array_value(expr, ...)` function]({% link docs/stable/sql/functions/array.md %}#array_valueindex).\n\nConstruct with the `array_value` function:\n\n```sql\nSELECT array_value(1, 2, 3);\n```\n\nYou can always implicitly cast an array to a list (and use list functions, like `list_extract`, `[i]`):\n\n```sql\nSELECT array_value(1, 2, 3)[2];\n```\n\nYou can cast from a list to an array (the dimensions have to match):\n\n```sql\nSELECT [3, 2, 1]::INTEGER[3];\n```\n\nArrays can be nested:\n\n```sql\nSELECT array_value(array_value(1, 2), array_value(3, 4), array_value(5, 6));", "position": 2, "token_count": 218, "has_code": true, "section_hierarchy": ["Creating Arrays"], "metadata": {"chunk_id": "sql-data_types-array-002", "document_id": "sql-data_types-array", "position": 2, "token_count": 218, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Creating Arrays"], "file_path": "sql/data_types/array.md", "url": "/sql/data_types/array", "title": "Array Type", "category": null, "tags": [], "section_url": "/sql/data_types/array#creating-arrays"}}
{"chunk_id": "sql-data_types-array-003", "document_id": "sql-data_types-array", "content": "```\n\nArrays can be nested:\n\n```sql\nSELECT array_value(array_value(1, 2), array_value(3, 4), array_value(5, 6));\n```\n\nArrays can store structs:\n\n```sql\nSELECT array_value({'a': 1, 'b': 2}, {'a': 3, 'b': 4});\n```", "position": 3, "token_count": 99, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-data_types-array-003", "document_id": "sql-data_types-array", "position": 3, "token_count": 99, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/data_types/array.md", "url": "/sql/data_types/array", "title": "Array Type", "category": null, "tags": [], "section_url": "/sql/data_types/array"}}
{"chunk_id": "sql-data_types-array-004", "document_id": "sql-data_types-array", "content": "## Defining an Array Field\n\nArrays can be created using the `⟨TYPE_NAME⟩[⟨LENGTH⟩]`{:.language-sql .highlight} syntax. For example, to create an array field for 3 integers, run:\n\n```sql\nCREATE TABLE array_table (id INTEGER, arr INTEGER[3]);\nINSERT INTO array_table VALUES (10, [1, 2, 3]), (20, [4, 5, 6]);\n```", "position": 4, "token_count": 105, "has_code": true, "section_hierarchy": ["Defining an Array Field"], "metadata": {"chunk_id": "sql-data_types-array-004", "document_id": "sql-data_types-array", "position": 4, "token_count": 105, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Defining an Array Field"], "file_path": "sql/data_types/array.md", "url": "/sql/data_types/array", "title": "Array Type", "category": null, "tags": [], "section_url": "/sql/data_types/array#defining-an-array-field"}}
{"chunk_id": "sql-data_types-array-005", "document_id": "sql-data_types-array", "content": "## Retrieving Values from Arrays\n\nRetrieving one or more values from an array can be accomplished using brackets and slicing notation, or through [list functions]({% link docs/stable/sql/functions/list.md %}#list-functions) like `list_extract` and `array_extract`. Using the example in [Defining an Array Field](#defining-an-array-field).\n\nThe following queries for extracting the second element of an array are equivalent:\n\n```sql\nSELECT id, arr[1] AS element FROM array_table;\nSELECT id, list_extract(arr, 1) AS element FROM array_table;\nSELECT id, array_extract(arr, 1) AS element FROM array_table;\n```\n\n| id | element |\n|---:|--------:|\n| 10 | 1 |\n| 20 | 4 |\n\nUsing the slicing notation returns a `LIST`:\n\n```sql\nSELECT id, arr[1:2] AS elements FROM array_table;", "position": 5, "token_count": 230, "has_code": true, "section_hierarchy": ["Retrieving Values from Arrays"], "metadata": {"chunk_id": "sql-data_types-array-005", "document_id": "sql-data_types-array", "position": 5, "token_count": 230, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Retrieving Values from Arrays"], "file_path": "sql/data_types/array.md", "url": "/sql/data_types/array", "title": "Array Type", "category": null, "tags": [], "section_url": "/sql/data_types/array#retrieving-values-from-arrays"}}
{"chunk_id": "sql-data_types-array-006", "document_id": "sql-data_types-array", "content": "```\n\n| id | elements |\n|---:|----------|\n| 10 | [1, 2] |\n| 20 | [4, 5] |", "position": 6, "token_count": 45, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-data_types-array-006", "document_id": "sql-data_types-array", "position": 6, "token_count": 45, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/data_types/array.md", "url": "/sql/data_types/array", "title": "Array Type", "category": null, "tags": [], "section_url": "/sql/data_types/array"}}
{"chunk_id": "sql-data_types-array-007", "document_id": "sql-data_types-array", "content": "## Functions\n\nAll [`LIST` functions]({% link docs/stable/sql/functions/list.md %}) work with the `ARRAY` type. Additionally, several `ARRAY`-native functions are also supported.\nSee the [`ARRAY` functions]({% link docs/stable/sql/functions/array.md %}#array-native-functions).", "position": 7, "token_count": 86, "has_code": false, "section_hierarchy": ["Functions"], "metadata": {"chunk_id": "sql-data_types-array-007", "document_id": "sql-data_types-array", "position": 7, "token_count": 86, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Functions"], "file_path": "sql/data_types/array.md", "url": "/sql/data_types/array", "title": "Array Type", "category": null, "tags": [], "section_url": "/sql/data_types/array#functions"}}
{"chunk_id": "sql-data_types-array-008", "document_id": "sql-data_types-array", "content": "## Examples\n\nCreate sample data:\n\n```sql\nCREATE TABLE x (i INTEGER, v FLOAT[3]);\nCREATE TABLE y (i INTEGER, v FLOAT[3]);\nINSERT INTO x VALUES (1, array_value(1.0::FLOAT, 2.0::FLOAT, 3.0::FLOAT));\nINSERT INTO y VALUES (1, array_value(2.0::FLOAT, 3.0::FLOAT, 4.0::FLOAT));\n```\n\nCompute cross product:\n\n```sql\nSELECT array_cross_product(x.v, y.v)\nFROM x, y\nWHERE x.i = y.i;\n```\n\nCompute cosine similarity:\n\n```sql\nSELECT array_cosine_similarity(x.v, y.v)\nFROM x, y\nWHERE x.i = y.i;\n```\n\n## Ordering\n\nThe ordering of `ARRAY` instances is defined using a lexicographical order. `NULL` values compare greater than all other values and are considered equal to each other.", "position": 8, "token_count": 232, "has_code": true, "section_hierarchy": ["Ordering"], "metadata": {"chunk_id": "sql-data_types-array-008", "document_id": "sql-data_types-array", "position": 8, "token_count": 232, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Ordering"], "file_path": "sql/data_types/array.md", "url": "/sql/data_types/array", "title": "Array Type", "category": null, "tags": [], "section_url": "/sql/data_types/array#ordering"}}
{"chunk_id": "sql-data_types-array-009", "document_id": "sql-data_types-array", "content": "## Ordering\n\nThe ordering of `ARRAY` instances is defined using a lexicographical order. `NULL` values compare greater than all other values and are considered equal to each other.\n\n## See Also\n\nFor more functions, see [List Functions]({% link docs/stable/sql/functions/list.md %}).", "position": 9, "token_count": 73, "has_code": false, "section_hierarchy": ["See Also"], "metadata": {"chunk_id": "sql-data_types-array-009", "document_id": "sql-data_types-array", "position": 9, "token_count": 73, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["See Also"], "file_path": "sql/data_types/array.md", "url": "/sql/data_types/array", "title": "Array Type", "category": null, "tags": [], "section_url": "/sql/data_types/array#see-also"}}

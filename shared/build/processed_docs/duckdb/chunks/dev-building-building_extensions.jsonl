{"chunk_id": "dev-building-building_extensions-000", "document_id": "dev-building-building_extensions", "content": "[Extensions]({% link docs/stable/extensions/overview.md %}) can be built from source and installed from the resulting local binary.\n\n## Building Extensions\n\nTo build using extension flags, set the `CORE_EXTENSIONS` flag to the list of extensions that you want to be build. For example:\n\n```bash\nCORE_EXTENSIONS='autocomplete;httpfs;icu;json;tpch' GEN=ninja make\n```\n\nThis option also accepts out-of-tree extensions such as [`delta`]({% link docs/stable/core_extensions/delta.md %}):\n\n```bash\nCORE_EXTENSIONS='autocomplete;httpfs;icu;json;tpch;delta' GEN=ninja make\n```\n\nIn most cases, extension will be directly linked in the resulting DuckDB executable.", "position": 0, "token_count": 193, "has_code": true, "section_hierarchy": ["Building Extensions"], "metadata": {"chunk_id": "dev-building-building_extensions-000", "document_id": "dev-building-building_extensions", "position": 0, "token_count": 193, "has_code": true, "overlap_with_previous": false, "section_hierarchy": ["Building Extensions"], "file_path": "dev/building/building_extensions.md", "url": "/dev/building/building_extensions", "title": "Building Extensions", "category": null, "tags": [], "section_url": "/dev/building/building_extensions#building-extensions"}}
{"chunk_id": "dev-building-building_extensions-001", "document_id": "dev-building-building_extensions", "content": "## Special Extension Flags\n\n### `BUILD_JEMALLOC`\n\nWhen this flag is set, the [`jemalloc` extension]({% link docs/stable/core_extensions/jemalloc.md %}) is built.\n\n### `BUILD_TPCE`\n\nWhen this flag is set, the [TPCE](https://www.tpc.org/tpce/) library is built. Unlike TPC-H and TPC-DS this is not a proper extension and it's not distributed as such. Enabling this allows TPC-E enabled queries through our test suite.", "position": 1, "token_count": 139, "has_code": false, "section_hierarchy": ["`BUILD_TPCE`"], "metadata": {"chunk_id": "dev-building-building_extensions-001", "document_id": "dev-building-building_extensions", "position": 1, "token_count": 139, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`BUILD_TPCE`"], "file_path": "dev/building/building_extensions.md", "url": "/dev/building/building_extensions", "title": "Building Extensions", "category": null, "tags": [], "section_url": "/dev/building/building_extensions#buildtpce"}}
{"chunk_id": "dev-building-building_extensions-002", "document_id": "dev-building-building_extensions", "content": "## Debug Flags\n\n### `CRASH_ON_ASSERT`\n\n`D_ASSERT(condition)` is used all throughout the code, these will throw an InternalException in debug builds.\nWith this flag enabled, when the assertion triggers it will instead directly cause a crash.\n\n### `DISABLE_STRING_INLINE`\n\nIn our execution format `string_t` has the feature to “inline” strings that are under a certain length (12 bytes), this means they don't require a separate allocation.\nWhen this flag is set, we disable this and don't inline small strings.\n\n### `DISABLE_MEMORY_SAFETY`\n\nOur data structures that are used extensively throughout the non-performance-critical code have extra checks to ensure memory safety, these checks include:\n\n* Making sure `nullptr` is never dereferenced.\n* Making sure index out of bounds accesses don't trigger a crash.\n\nWith this flag enabled we remove these checks, this is mostly done to check that the performance hit of these checks is negligible.", "position": 2, "token_count": 227, "has_code": false, "section_hierarchy": ["`DISABLE_MEMORY_SAFETY`"], "metadata": {"chunk_id": "dev-building-building_extensions-002", "document_id": "dev-building-building_extensions", "position": 2, "token_count": 227, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`DISABLE_MEMORY_SAFETY`"], "file_path": "dev/building/building_extensions.md", "url": "/dev/building/building_extensions", "title": "Building Extensions", "category": null, "tags": [], "section_url": "/dev/building/building_extensions#disablememorysafety"}}
{"chunk_id": "dev-building-building_extensions-003", "document_id": "dev-building-building_extensions", "content": "### `DESTROY_UNPINNED_BLOCKS`\n\nWhen previously pinned blocks in the BufferManager are unpinned, with this flag enabled we destroy them instantly to make sure that there aren't situations where this memory is still being used, despite not being pinned.\n\n### `DEBUG_STACKTRACE`\n\nWhen a crash or assertion hit occurs in a test, print a stack trace.\nThis is useful when debugging a crash that is hard to pinpoint with a debugger attached.", "position": 3, "token_count": 108, "has_code": false, "section_hierarchy": ["`DEBUG_STACKTRACE`"], "metadata": {"chunk_id": "dev-building-building_extensions-003", "document_id": "dev-building-building_extensions", "position": 3, "token_count": 108, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`DEBUG_STACKTRACE`"], "file_path": "dev/building/building_extensions.md", "url": "/dev/building/building_extensions", "title": "Building Extensions", "category": null, "tags": [], "section_url": "/dev/building/building_extensions#debugstacktrace"}}
{"chunk_id": "dev-building-building_extensions-004", "document_id": "dev-building-building_extensions", "content": "## Using a CMake Configuration File\n\nTo build using a CMake configuration file, create an extension configuration file named `extension_config.cmake` with e.g., the following content:\n\n```cmake\nduckdb_extension_load(autocomplete)\nduckdb_extension_load(fts)\nduckdb_extension_load(inet)\nduckdb_extension_load(icu)\nduckdb_extension_load(json)\nduckdb_extension_load(parquet)\n```\n\nBuild DuckDB as follows:\n\n```bash\nGEN=ninja EXTENSION_CONFIGS=\"extension_config.cmake\" make\n```\n\nThen, to install the extensions in one go, run:\n\n```bash", "position": 4, "token_count": 164, "has_code": true, "section_hierarchy": ["Using a CMake Configuration File"], "metadata": {"chunk_id": "dev-building-building_extensions-004", "document_id": "dev-building-building_extensions", "position": 4, "token_count": 164, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Using a CMake Configuration File"], "file_path": "dev/building/building_extensions.md", "url": "/dev/building/building_extensions", "title": "Building Extensions", "category": null, "tags": [], "section_url": "/dev/building/building_extensions#using-a-cmake-configuration-file"}}
{"chunk_id": "dev-building-building_extensions-005", "document_id": "dev-building-building_extensions", "content": "# for release builds\ncd build/release/extension/\n# for debug builds\ncd build/debug/extension/\n# install extensions\nfor EXTENSION in *; do\n ../duckdb -c \"INSTALL '${EXTENSION}/${EXTENSION}.duckdb_extension';\"\ndone\n```", "position": 5, "token_count": 68, "has_code": true, "section_hierarchy": ["install extensions"], "metadata": {"chunk_id": "dev-building-building_extensions-005", "document_id": "dev-building-building_extensions", "position": 5, "token_count": 68, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["install extensions"], "file_path": "dev/building/building_extensions.md", "url": "/dev/building/building_extensions", "title": "Building Extensions", "category": null, "tags": [], "section_url": "/dev/building/building_extensions#install-extensions"}}

{"chunk_id": "dev-sqllogictest-debugging-000", "document_id": "dev-sqllogictest-debugging", "content": "The purpose of the tests is to figure out when things break. Inevitably changes made to the system will cause one of the tests to fail, and when that happens the test needs to be debugged.\n\nFirst, it is always recommended to run in debug mode. This can be done by compiling the system using the command `make debug`. Second, it is recommended to only run the test that breaks. This can be done by passing the filename of the breaking test to the test suite as a command line parameter (e.g., `build/debug/test/unittest test/sql/projection/test_simple_projection.test`). For more options on running a subset of the tests see the [Triggering which tests to run](#triggering-which-tests-to-run) section.", "position": 0, "token_count": 176, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "dev-sqllogictest-debugging-000", "document_id": "dev-sqllogictest-debugging", "position": 0, "token_count": 176, "has_code": false, "overlap_with_previous": false, "section_hierarchy": [], "file_path": "dev/sqllogictest/debugging.md", "url": "/dev/sqllogictest/debugging", "title": "Debugging", "category": null, "tags": [], "section_url": "/dev/sqllogictest/debugging"}}
{"chunk_id": "dev-sqllogictest-debugging-001", "document_id": "dev-sqllogictest-debugging", "content": "After that, a debugger can be attached to the program and the test can be debugged. In the sqllogictests it is normally difficult to break on a specific query, however, we have expanded the test suite so that a function called `query_break` is called with the line number `line` as parameter for every query that is run. This allows you to put a conditional breakpoint on a specific query. For example, if we want to break on line number 43 of the test file we can create the following break point:\n\n```text\ngdb: break query_break if line==43\nlldb: break s -n query_break -c line==43", "position": 1, "token_count": 147, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "dev-sqllogictest-debugging-001", "document_id": "dev-sqllogictest-debugging", "position": 1, "token_count": 147, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "dev/sqllogictest/debugging.md", "url": "/dev/sqllogictest/debugging", "title": "Debugging", "category": null, "tags": [], "section_url": "/dev/sqllogictest/debugging"}}
{"chunk_id": "dev-sqllogictest-debugging-002", "document_id": "dev-sqllogictest-debugging", "content": "```\n\nYou can also skip certain queries from executing by placing `mode skip` in the file, followed by an optional `mode unskip`. Any queries between the two statements will not be executed.", "position": 2, "token_count": 47, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "dev-sqllogictest-debugging-002", "document_id": "dev-sqllogictest-debugging", "position": 2, "token_count": 47, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "dev/sqllogictest/debugging.md", "url": "/dev/sqllogictest/debugging", "title": "Debugging", "category": null, "tags": [], "section_url": "/dev/sqllogictest/debugging"}}
{"chunk_id": "dev-sqllogictest-debugging-003", "document_id": "dev-sqllogictest-debugging", "content": "## Triggering Which Tests to Run\n\nWhen running the unittest program, by default all the fast tests are run. A specific test can be run by adding the name of the test as an argument. For the sqllogictests, this is the relative path to the test file.\nTo run only a single test:\n\n```batch\nbuild/debug/test/unittest test/sql/projection/test_simple_projection.test\n```\n\nAll tests in a given directory can be executed by providing the directory as a parameter with square brackets.\nTo run all tests in the “projection” directory:\n\n```batch\nbuild/debug/test/unittest \"[projection]\"\n```\n\nAll tests, including the slow tests, can be run by running the tests with an asterisk.\nTo run all tests, including the slow tests:\n\n```batch\nbuild/debug/test/unittest \"*\"", "position": 3, "token_count": 197, "has_code": true, "section_hierarchy": ["Triggering Which Tests to Run"], "metadata": {"chunk_id": "dev-sqllogictest-debugging-003", "document_id": "dev-sqllogictest-debugging", "position": 3, "token_count": 197, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Triggering Which Tests to Run"], "file_path": "dev/sqllogictest/debugging.md", "url": "/dev/sqllogictest/debugging", "title": "Debugging", "category": null, "tags": [], "section_url": "/dev/sqllogictest/debugging#triggering-which-tests-to-run"}}
{"chunk_id": "dev-sqllogictest-debugging-004", "document_id": "dev-sqllogictest-debugging", "content": "```\n\nWe can run a subset of the tests using the `--start-offset` and `--end-offset` parameters.\nTo run the tests 200..250:\n\n```batch\nbuild/debug/test/unittest --start-offset=200 --end-offset=250\n```\n\nThese are also available in percentages. To run tests 10% - 20%:\n\n```batch\nbuild/debug/test/unittest --start-offset-percentage=10 --end-offset-percentage=20\n```\n\nThe set of tests to run can also be loaded from a file containing one test name per line, and loaded using the `-f` command.\n\n```batch\ncat test.list\n```\n\n```text\ntest/sql/join/full_outer/test_full_outer_join_issue_4252.test\ntest/sql/join/full_outer/full_outer_join_cache.test\ntest/sql/join/full_outer/test_full_outer_join.test", "position": 4, "token_count": 231, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "dev-sqllogictest-debugging-004", "document_id": "dev-sqllogictest-debugging", "position": 4, "token_count": 231, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "dev/sqllogictest/debugging.md", "url": "/dev/sqllogictest/debugging", "title": "Debugging", "category": null, "tags": [], "section_url": "/dev/sqllogictest/debugging"}}
{"chunk_id": "dev-sqllogictest-debugging-005", "document_id": "dev-sqllogictest-debugging", "content": "```\n\nTo run only the tests labeled in the file:\n\n```batch\nbuild/debug/test/unittest -f test.list\n```", "position": 5, "token_count": 37, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "dev-sqllogictest-debugging-005", "document_id": "dev-sqllogictest-debugging", "position": 5, "token_count": 37, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "dev/sqllogictest/debugging.md", "url": "/dev/sqllogictest/debugging", "title": "Debugging", "category": null, "tags": [], "section_url": "/dev/sqllogictest/debugging"}}

{"chunk_id": "core_extensions-postgres-000", "document_id": "core_extensions-postgres", "content": "The `postgres` extension allows DuckDB to directly read and write data from a running PostgreSQL database instance. The data can be queried directly from the underlying PostgreSQL database. Data can be loaded from PostgreSQL tables into DuckDB tables, or vice versa. See the [official announcement]({% post_url 2022-09-30-postgres-scanner %}) for implementation details and background.\n\n## Installing and Loading\n\nThe `postgres` extension will be transparently [autoloaded]({% link docs/stable/extensions/overview.md %}#autoloading-extensions) on first use from the official extension repository.\nIf you would like to install and load it manually, run:\n\n```sql\nINSTALL postgres;\nLOAD postgres;\n```", "position": 0, "token_count": 181, "has_code": true, "section_hierarchy": ["Installing and Loading"], "metadata": {"chunk_id": "core_extensions-postgres-000", "document_id": "core_extensions-postgres", "position": 0, "token_count": 181, "has_code": true, "overlap_with_previous": false, "section_hierarchy": ["Installing and Loading"], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres#installing-and-loading"}}
{"chunk_id": "core_extensions-postgres-001", "document_id": "core_extensions-postgres", "content": "## Connecting\n\nTo make a PostgreSQL database accessible to DuckDB, use the `ATTACH` command with the `postgres` or `postgres_scanner` type.\n\nTo connect to the `public` schema of the PostgreSQL instance running on localhost in read-write mode, run:\n\n```sql\nATTACH '' AS postgres_db (TYPE postgres);\n```\n\nTo connect to the PostgreSQL instance with the given parameters in read-only mode, run:\n\n```sql\nATTACH 'dbname=postgres user=postgres host=127.0.0.1' AS db (TYPE postgres, READ_ONLY);\n```\n\nBy default, all schemas are attached. When working with large instances, it can be useful to only attach a specific schema. This can be accomplished using the `SCHEMA` command.\n\n```sql\nATTACH 'dbname=postgres user=postgres host=127.0.0.1' AS db (TYPE postgres, SCHEMA 'public');\n```", "position": 1, "token_count": 245, "has_code": true, "section_hierarchy": ["Connecting"], "metadata": {"chunk_id": "core_extensions-postgres-001", "document_id": "core_extensions-postgres", "position": 1, "token_count": 245, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Connecting"], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres#connecting"}}
{"chunk_id": "core_extensions-postgres-002", "document_id": "core_extensions-postgres", "content": "### Configuration\n\nThe `ATTACH` command takes as input either a [`libpq` connection string](https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNSTRING)\nor a [PostgreSQL URI](https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNSTRING-URIS).\n\nBelow are some example connection strings and commonly used parameters. A full list of available parameters can be found in the [PostgreSQL documentation](https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-PARAMKEYWORDS).\n\n```text\ndbname=postgresscanner\nhost=localhost port=5432 dbname=mydb connect_timeout=10", "position": 2, "token_count": 219, "has_code": true, "section_hierarchy": ["Configuration"], "metadata": {"chunk_id": "core_extensions-postgres-002", "document_id": "core_extensions-postgres", "position": 2, "token_count": 219, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Configuration"], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres#configuration"}}
{"chunk_id": "core_extensions-postgres-003", "document_id": "core_extensions-postgres", "content": "```\n\n| Name | Description | Default |\n| ---------- | ------------------------------------ | -------------- |\n| `dbname` | Database name | [user] |\n| `host` | Name of host to connect to | `localhost` |\n| `hostaddr` | Host IP address | `localhost` |\n| `passfile` | Name of file passwords are stored in | `~/.pgpass` |\n| `password` | PostgreSQL password | (empty) |\n| `port` | Port number | `5432` |\n| `user` | PostgreSQL user name | _current user_ |\n\nAn example URI is `postgresql://username@hostname/dbname`.", "position": 3, "token_count": 219, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-postgres-003", "document_id": "core_extensions-postgres", "position": 3, "token_count": 219, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres"}}
{"chunk_id": "core_extensions-postgres-004", "document_id": "core_extensions-postgres", "content": "### Configuring via Secrets\n\nPostgreSQL connection information can also be specified with [secrets](/docs/configuration/secrets_manager). The following syntax can be used to create a secret.\n\n```sql\nCREATE SECRET (\n TYPE postgres,\n HOST '127.0.0.1',\n PORT 5432,\n DATABASE postgres,\n USER 'postgres',\n PASSWORD ''\n);\n```\n\nThe information from the secret will be used when `ATTACH` is called. We can leave the PostgreSQL connection string empty to use all of the information stored in the secret.\n\n```sql\nATTACH '' AS postgres_db (TYPE postgres);\n```\n\nWe can use the PostgreSQL connection string to override individual options. For example, to connect to a different database while still using the same credentials, we can override only the database name in the following manner.\n\n```sql\nATTACH 'dbname=my_other_db' AS postgres_db (TYPE postgres);", "position": 4, "token_count": 231, "has_code": true, "section_hierarchy": ["Configuring via Secrets"], "metadata": {"chunk_id": "core_extensions-postgres-004", "document_id": "core_extensions-postgres", "position": 4, "token_count": 231, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Configuring via Secrets"], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres#configuring-via-secrets"}}
{"chunk_id": "core_extensions-postgres-005", "document_id": "core_extensions-postgres", "content": "```\n\nBy default, created secrets are temporary. Secrets can be persisted using the [`CREATE PERSISTENT SECRET` command]({% link docs/stable/configuration/secrets_manager.md %}#persistent-secrets). Persistent secrets can be used across sessions.", "position": 5, "token_count": 59, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-postgres-005", "document_id": "core_extensions-postgres", "position": 5, "token_count": 59, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres"}}
{"chunk_id": "core_extensions-postgres-006", "document_id": "core_extensions-postgres", "content": "#### Managing Multiple Secrets\n\nNamed secrets can be used to manage connections to multiple PostgreSQL database instances. Secrets can be given a name upon creation.\n\n```sql\nCREATE SECRET postgres_secret_one (\n TYPE postgres,\n HOST '127.0.0.1',\n PORT 5432,\n DATABASE postgres,\n USER 'postgres',\n PASSWORD ''\n);\n```\n\nThe secret can then be explicitly referenced using the `SECRET` parameter in the `ATTACH`.\n\n```sql\nATTACH '' AS postgres_db_one (TYPE postgres, SECRET postgres_secret_one);\n```\n\n> Warning Avoid including credentials directly in the connection string. If a connection error occurs, the full connection string (including your credentials) may be printed to the terminal output. For better security, store credentials using DuckDB-managed secrets.", "position": 6, "token_count": 190, "has_code": true, "section_hierarchy": ["Managing Multiple Secrets"], "metadata": {"chunk_id": "core_extensions-postgres-006", "document_id": "core_extensions-postgres", "position": 6, "token_count": 190, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Managing Multiple Secrets"], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres#managing-multiple-secrets"}}
{"chunk_id": "core_extensions-postgres-007", "document_id": "core_extensions-postgres", "content": "### Configuring via Environment Variables\n\nPostgreSQL connection information can also be specified with [environment variables](https://www.postgresql.org/docs/current/libpq-envars.html).\nThis can be useful in a production environment where the connection information is managed externally\nand passed in to the environment.\n\n```bash\nexport PGPASSWORD=\"secret\"\nexport PGHOST=localhost\nexport PGUSER=owner\nexport PGDATABASE=mydatabase\n```\n\nThen, to connect, start the `duckdb` process and run:\n\n```sql\nATTACH '' AS p (TYPE postgres);\n```", "position": 7, "token_count": 154, "has_code": true, "section_hierarchy": ["Configuring via Environment Variables"], "metadata": {"chunk_id": "core_extensions-postgres-007", "document_id": "core_extensions-postgres", "position": 7, "token_count": 154, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Configuring via Environment Variables"], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres#configuring-via-environment-variables"}}
{"chunk_id": "core_extensions-postgres-008", "document_id": "core_extensions-postgres", "content": "## Usage\n\nThe tables in the PostgreSQL database can be read as if they were normal DuckDB tables, but the underlying data is read directly from PostgreSQL at query time.\n\n```sql\nSHOW ALL TABLES;\n```\n\n| name |\n| ----- |\n| uuids |\n\n```sql\nSELECT * FROM uuids;", "position": 8, "token_count": 81, "has_code": true, "section_hierarchy": ["Usage"], "metadata": {"chunk_id": "core_extensions-postgres-008", "document_id": "core_extensions-postgres", "position": 8, "token_count": 81, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Usage"], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres#usage"}}
{"chunk_id": "core_extensions-postgres-009", "document_id": "core_extensions-postgres", "content": "```\n\n| name |\n| ----- |\n| uuids |\n\n```sql\nSELECT * FROM uuids;\n```\n\n| u |\n| ------------------------------------ |\n| 6d3d2541-710b-4bde-b3af-4711738636bf |\n| NULL |\n| 00000000-0000-0000-0000-000000000001 |\n| ffffffff-ffff-ffff-ffff-ffffffffffff |\n\nIt might be desirable to create a copy of the PostgreSQL databases in DuckDB to prevent the system from re-reading the tables from PostgreSQL continuously, particularly for large tables.\n\nData can be copied over from PostgreSQL to DuckDB using standard SQL, for example:\n\n```sql\nCREATE TABLE duckdb_table AS FROM postgres_db.postgres_tbl;\n```", "position": 9, "token_count": 239, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-postgres-009", "document_id": "core_extensions-postgres", "position": 9, "token_count": 239, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres"}}
{"chunk_id": "core_extensions-postgres-010", "document_id": "core_extensions-postgres", "content": "## Writing Data to PostgreSQL\n\nIn addition to reading data from PostgreSQL, the extension allows you to create tables, ingest data into PostgreSQL and make other modifications to a PostgreSQL database using standard SQL queries.\n\nThis allows you to use DuckDB to, for example, export data that is stored in a PostgreSQL database to Parquet, or read data from a Parquet file into PostgreSQL.\n\nBelow is a brief example of how to create a new table in PostgreSQL and load data into it.\n\n```sql\nATTACH 'dbname=postgresscanner' AS postgres_db (TYPE postgres);\nCREATE TABLE postgres_db.tbl (id INTEGER, name VARCHAR);\nINSERT INTO postgres_db.tbl VALUES (42, 'DuckDB');", "position": 10, "token_count": 195, "has_code": true, "section_hierarchy": ["Writing Data to PostgreSQL"], "metadata": {"chunk_id": "core_extensions-postgres-010", "document_id": "core_extensions-postgres", "position": 10, "token_count": 195, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Writing Data to PostgreSQL"], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres#writing-data-to-postgresql"}}
{"chunk_id": "core_extensions-postgres-011", "document_id": "core_extensions-postgres", "content": "```\n\nMany operations on PostgreSQL tables are supported. All these operations directly modify the PostgreSQL database, and the result of subsequent operations can then be read using PostgreSQL.\nNote that if modifications are not desired, `ATTACH` can be run with the `READ_ONLY` property which prevents making modifications to the underlying database. For example:\n\n```sql\nATTACH 'dbname=postgresscanner' AS postgres_db (TYPE postgres, READ_ONLY);\n```\n\nBelow is a list of supported operations.", "position": 11, "token_count": 124, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-postgres-011", "document_id": "core_extensions-postgres", "position": 11, "token_count": 124, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres"}}
{"chunk_id": "core_extensions-postgres-012", "document_id": "core_extensions-postgres", "content": "### `CREATE TABLE`\n\n```sql\nCREATE TABLE postgres_db.tbl (id INTEGER, name VARCHAR);\n```\n\n### `INSERT INTO`\n\n```sql\nINSERT INTO postgres_db.tbl VALUES (42, 'DuckDB');\n```\n\n### `SELECT`\n\n```sql\nSELECT * FROM postgres_db.tbl;\n```\n\n| id | name |\n| ---: | ------ |\n| 42 | DuckDB |", "position": 12, "token_count": 119, "has_code": true, "section_hierarchy": ["`SELECT`"], "metadata": {"chunk_id": "core_extensions-postgres-012", "document_id": "core_extensions-postgres", "position": 12, "token_count": 119, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["`SELECT`"], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres#select"}}
{"chunk_id": "core_extensions-postgres-013", "document_id": "core_extensions-postgres", "content": "### `COPY`\n\nYou can copy tables back and forth between PostgreSQL and DuckDB:\n\n```sql\nCOPY postgres_db.tbl TO 'data.parquet';\nCOPY postgres_db.tbl FROM 'data.parquet';\n```\n\nThese copies use [PostgreSQL binary wire encoding](https://www.postgresql.org/docs/current/sql-copy.html).\nDuckDB can also write data using this encoding to a file which you can then load into PostgreSQL using a client of your choosing if you would like to do your own connection management:\n\n```sql\nCOPY 'data.parquet' TO 'pg.bin' WITH (FORMAT postgres_binary);\n```\n\nThe file produced will be the equivalent of copying the file to PostgreSQL using DuckDB and then dumping it from PostgreSQL using `psql` or another client:\n\nDuckDB:\n\n```sql\nCOPY postgres_db.tbl FROM 'data.parquet';", "position": 13, "token_count": 240, "has_code": true, "section_hierarchy": ["`COPY`"], "metadata": {"chunk_id": "core_extensions-postgres-013", "document_id": "core_extensions-postgres", "position": 13, "token_count": 240, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["`COPY`"], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres#copy"}}
{"chunk_id": "core_extensions-postgres-014", "document_id": "core_extensions-postgres", "content": "```\n\nPostgreSQL:\n\n```sql\n\\copy tbl TO 'data.bin' WITH (FORMAT BINARY);\n```\n\nYou may also create a full copy of the database using the [`COPY FROM DATABASE` statement]({% link docs/stable/sql/statements/copy.md %}#copy-from-database--to):\n\n```sql\nCOPY FROM DATABASE postgres_db TO my_duckdb_db;\n```", "position": 14, "token_count": 106, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-postgres-014", "document_id": "core_extensions-postgres", "position": 14, "token_count": 106, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres"}}
{"chunk_id": "core_extensions-postgres-015", "document_id": "core_extensions-postgres", "content": "### `UPDATE`\n\n```sql\nUPDATE postgres_db.tbl\nSET name = 'Woohoo'\nWHERE id = 42;\n```\n\n### `DELETE`\n\n```sql\nDELETE FROM postgres_db.tbl\nWHERE id = 42;\n```\n\n### `ALTER TABLE`\n\n```sql\nALTER TABLE postgres_db.tbl\nADD COLUMN k INTEGER;\n```\n\n### `DROP TABLE`\n\n```sql\nDROP TABLE postgres_db.tbl;\n```\n\n### `CREATE VIEW`\n\n```sql\nCREATE VIEW postgres_db.v1 AS SELECT 42;\n```", "position": 15, "token_count": 149, "has_code": true, "section_hierarchy": ["`CREATE VIEW`"], "metadata": {"chunk_id": "core_extensions-postgres-015", "document_id": "core_extensions-postgres", "position": 15, "token_count": 149, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["`CREATE VIEW`"], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres#create-view"}}
{"chunk_id": "core_extensions-postgres-016", "document_id": "core_extensions-postgres", "content": "### `CREATE VIEW`\n\n```sql\nCREATE VIEW postgres_db.v1 AS SELECT 42;\n```\n\n### `CREATE SCHEMA` / `DROP SCHEMA`\n\n```sql\nCREATE SCHEMA postgres_db.s1;\nCREATE TABLE postgres_db.s1.integers (i INTEGER);\nINSERT INTO postgres_db.s1.integers VALUES (42);\nSELECT * FROM postgres_db.s1.integers;\n```\n\n| i |\n| ---: |\n| 42 |\n\n```sql\nDROP SCHEMA postgres_db.s1;\n```", "position": 16, "token_count": 142, "has_code": true, "section_hierarchy": ["`CREATE SCHEMA` / `DROP SCHEMA`"], "metadata": {"chunk_id": "core_extensions-postgres-016", "document_id": "core_extensions-postgres", "position": 16, "token_count": 142, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["`CREATE SCHEMA` / `DROP SCHEMA`"], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres#create-schema--drop-schema"}}
{"chunk_id": "core_extensions-postgres-017", "document_id": "core_extensions-postgres", "content": "## `DETACH`\n\n```sql\nDETACH postgres_db;\n```\n\n### Transactions\n\n```sql\nCREATE TABLE postgres_db.tmp (i INTEGER);\nBEGIN;\nINSERT INTO postgres_db.tmp VALUES (42);\nSELECT * FROM postgres_db.tmp;\n```\n\nThis returns:\n\n| i |\n| ---: |\n| 42 |\n\n```sql\nROLLBACK;\nSELECT * FROM postgres_db.tmp;\n```\n\nThis returns an empty table.", "position": 17, "token_count": 121, "has_code": true, "section_hierarchy": ["Transactions"], "metadata": {"chunk_id": "core_extensions-postgres-017", "document_id": "core_extensions-postgres", "position": 17, "token_count": 121, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Transactions"], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres#transactions"}}
{"chunk_id": "core_extensions-postgres-018", "document_id": "core_extensions-postgres", "content": "## Running SQL Queries in PostgreSQL", "position": 18, "token_count": 14, "has_code": false, "section_hierarchy": ["Running SQL Queries in PostgreSQL"], "metadata": {"chunk_id": "core_extensions-postgres-018", "document_id": "core_extensions-postgres", "position": 18, "token_count": 14, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Running SQL Queries in PostgreSQL"], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres#running-sql-queries-in-postgresql"}}
{"chunk_id": "core_extensions-postgres-019", "document_id": "core_extensions-postgres", "content": "### The `postgres_query` Table Function\n\nThe `postgres_query` table function allows you to run arbitrary read queries within an attached database. `postgres_query` takes the name of the attached PostgreSQL database to execute the query in, as well as the SQL query to execute. The result of the query is returned. Single-quote strings are escaped by repeating the single quote twice.\n\n```sql\npostgres_query(attached_database::VARCHAR, query::VARCHAR)\n```\n\nFor example:\n\n```sql\nATTACH 'dbname=postgresscanner' AS postgres_db (TYPE postgres);\nSELECT * FROM postgres_query('postgres_db', 'SELECT * FROM cars LIMIT 3');\n```\n\n| brand | model | color |\n| ------------ | ---------- | ----- |\n| Ferrari | Testarossa | red |\n| Aston Martin | DB2 | blue |\n| Bentley | Mulsanne | gray |", "position": 19, "token_count": 248, "has_code": true, "section_hierarchy": ["The `postgres_query` Table Function"], "metadata": {"chunk_id": "core_extensions-postgres-019", "document_id": "core_extensions-postgres", "position": 19, "token_count": 248, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["The `postgres_query` Table Function"], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres#the-postgresquery-table-function"}}
{"chunk_id": "core_extensions-postgres-020", "document_id": "core_extensions-postgres", "content": "### The `postgres_execute` Function\n\nThe `postgres_execute` function allows running arbitrary queries within PostgreSQL, including statements that update the schema and content of the database.\n\n```sql\nATTACH 'dbname=postgresscanner' AS postgres_db (TYPE postgres);\nCALL postgres_execute('postgres_db', 'CREATE TABLE my_table (i INTEGER)');\n```", "position": 20, "token_count": 107, "has_code": true, "section_hierarchy": ["The `postgres_execute` Function"], "metadata": {"chunk_id": "core_extensions-postgres-020", "document_id": "core_extensions-postgres", "position": 20, "token_count": 107, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["The `postgres_execute` Function"], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres#the-postgresexecute-function"}}
{"chunk_id": "core_extensions-postgres-021", "document_id": "core_extensions-postgres", "content": "## Settings\n\nThe extension exposes the following configuration parameters.", "position": 21, "token_count": 14, "has_code": false, "section_hierarchy": ["Settings"], "metadata": {"chunk_id": "core_extensions-postgres-021", "document_id": "core_extensions-postgres", "position": 21, "token_count": 14, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Settings"], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres#settings"}}
{"chunk_id": "core_extensions-postgres-022", "document_id": "core_extensions-postgres", "content": "| Name | Description | Default |\n| --------------------------------- | ---------------------------------------------------------------------------- | ------- |\n| `pg_array_as_varchar` | Read PostgreSQL arrays as varchar - enables reading mixed dimensional arrays | `false` |\n| `pg_connection_cache` | Whether or not to use the connection cache | `true` |\n| `pg_connection_limit` | The maximum amount of concurrent PostgreSQL connections | `64` |", "position": 22, "token_count": 211, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-postgres-022", "document_id": "core_extensions-postgres", "position": 22, "token_count": 211, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres"}}
{"chunk_id": "core_extensions-postgres-023", "document_id": "core_extensions-postgres", "content": "| `pg_connection_limit` | The maximum amount of concurrent PostgreSQL connections | `64` |\n| `pg_debug_show_queries` | DEBUG SETTING: print all queries sent to PostgreSQL to stdout | `false` |\n| `pg_experimental_filter_pushdown` | Whether or not to use filter pushdown (currently experimental) | `true` |\n| `pg_pages_per_task` | The amount of pages per task | `1000` |\n| `pg_use_binary_copy` | Whether or not to use BINARY copy to read data | `true` |\n| `pg_null_byte_replacement` | When writing NULL bytes to Postgres, replace them with the given character | `NULL` |\n| `pg_use_ctid_scan` | Whether or not to parallelize scanning using table ctids | `true` |", "position": 23, "token_count": 202, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-postgres-023", "document_id": "core_extensions-postgres", "position": 23, "token_count": 202, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres"}}
{"chunk_id": "core_extensions-postgres-024", "document_id": "core_extensions-postgres", "content": "## Schema Cache\n\nTo avoid having to continuously fetch schema data from PostgreSQL, DuckDB keeps schema information – such as the names of tables, their columns, etc. – cached. If changes are made to the schema through a different connection to the PostgreSQL instance, such as new columns being added to a table, the cached schema information might be outdated. In this case, the function `pg_clear_cache` can be executed to clear the internal caches.\n\n```sql\nCALL pg_clear_cache();\n```\n\n> Deprecated The old `postgres_attach` function is deprecated. It is recommended to switch over to the new `ATTACH` syntax.", "position": 24, "token_count": 159, "has_code": true, "section_hierarchy": ["Schema Cache"], "metadata": {"chunk_id": "core_extensions-postgres-024", "document_id": "core_extensions-postgres", "position": 24, "token_count": 159, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Schema Cache"], "file_path": "core_extensions/postgres.md", "url": "/core_extensions/postgres", "title": "PostgreSQL Extension", "category": null, "tags": [], "section_url": "/core_extensions/postgres#schema-cache"}}

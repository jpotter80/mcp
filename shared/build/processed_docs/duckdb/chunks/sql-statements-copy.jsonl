{"chunk_id": "sql-statements-copy-000", "document_id": "sql-statements-copy", "content": "## Examples\n\nRead a CSV file into the `lineitem` table, using auto-detected CSV options:\n\n```sql\nCOPY lineitem FROM 'lineitem.csv';\n```\n\nRead a CSV file into the `lineitem` table, using manually specified CSV options:\n\n```sql\nCOPY lineitem FROM 'lineitem.csv' (DELIMITER '|');\n```\n\nRead a Parquet file into the `lineitem` table:\n\n```sql\nCOPY lineitem FROM 'lineitem.pq' (FORMAT parquet);\n```\n\nRead a JSON file into the `lineitem` table, using auto-detected options:\n\n```sql\nCOPY lineitem FROM 'lineitem.json' (FORMAT json, AUTO_DETECT true);\n```\n\nRead a CSV file into the `lineitem` table, using double quotes:\n\n```sql\nCOPY lineitem FROM \"lineitem.csv\";", "position": 0, "token_count": 225, "has_code": true, "section_hierarchy": ["Examples"], "metadata": {"chunk_id": "sql-statements-copy-000", "document_id": "sql-statements-copy", "position": 0, "token_count": 225, "has_code": true, "overlap_with_previous": false, "section_hierarchy": ["Examples"], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy#examples"}}
{"chunk_id": "sql-statements-copy-001", "document_id": "sql-statements-copy", "content": "```\n\nRead a CSV file into the `lineitem` table, using double quotes:\n\n```sql\nCOPY lineitem FROM \"lineitem.csv\";\n```\n\nRead a CSV file into the `lineitem` table, omitting quotes:\n\n```sql\nCOPY lineitem FROM lineitem.csv;\n```\n\nWrite a table to a CSV file:\n\n```sql\nCOPY lineitem TO 'lineitem.csv' (FORMAT csv, DELIMITER '|', HEADER);\n```\n\nWrite a table to a CSV file, using double quotes:\n\n```sql\nCOPY lineitem TO \"lineitem.csv\";\n```\n\nWrite a table to a CSV file, omitting quotes:\n\n```sql\nCOPY lineitem TO lineitem.csv;", "position": 1, "token_count": 190, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-001", "document_id": "sql-statements-copy", "position": 1, "token_count": 190, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-002", "document_id": "sql-statements-copy", "content": "```\n\nWrite a table to a CSV file, omitting quotes:\n\n```sql\nCOPY lineitem TO lineitem.csv;\n```\n\nWrite the result of a query to a Parquet file:\n\n```sql\nCOPY (SELECT l_orderkey, l_partkey FROM lineitem) TO 'lineitem.parquet' (COMPRESSION zstd);\n```\n\nCopy the entire content of database `db1` to database `db2`:\n\n```sql\nCOPY FROM DATABASE db1 TO db2;\n```\n\nCopy only the schema (catalog elements) but not any data:\n\n```sql\nCOPY FROM DATABASE db1 TO db2 (SCHEMA);\n```", "position": 2, "token_count": 157, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-002", "document_id": "sql-statements-copy", "position": 2, "token_count": 157, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-003", "document_id": "sql-statements-copy", "content": "## Overview\n\n`COPY` moves data between DuckDB and external files. `COPY ... FROM` imports data into DuckDB from an external file. `COPY ... TO` writes data from DuckDB to an external file. The `COPY` command can be used for `CSV`, `PARQUET` and `JSON` files.", "position": 3, "token_count": 76, "has_code": false, "section_hierarchy": ["Overview"], "metadata": {"chunk_id": "sql-statements-copy-003", "document_id": "sql-statements-copy", "position": 3, "token_count": 76, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Overview"], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy#overview"}}
{"chunk_id": "sql-statements-copy-004", "document_id": "sql-statements-copy", "content": "## `COPY ... FROM`\n\n`COPY ... FROM` imports data from an external file into an existing table. The data is appended to whatever data is in the table already. The amount of columns inside the file must match the amount of columns in the table `tbl`, and the contents of the columns must be convertible to the column types of the table. In case this is not possible, an error will be thrown.\n\nIf a list of columns is specified, `COPY` will only copy the data in the specified columns from the file. If there are any columns in the table that are not in the column list, `COPY ... FROM` will insert the default values for those columns\n\nCopy the contents of a comma-separated file `test.csv` without a header into the table `test`:\n\n```sql\nCOPY test FROM 'test.csv';\n```\n\nCopy the contents of a comma-separated file with a header into the `category` table:\n\n```sql\nCOPY category FROM 'categories.csv' (HEADER);", "position": 4, "token_count": 229, "has_code": true, "section_hierarchy": ["`COPY ... FROM`"], "metadata": {"chunk_id": "sql-statements-copy-004", "document_id": "sql-statements-copy", "position": 4, "token_count": 229, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["`COPY ... FROM`"], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy#copy--from"}}
{"chunk_id": "sql-statements-copy-005", "document_id": "sql-statements-copy", "content": "```\n\nCopy the contents of a comma-separated file with a header into the `category` table:\n\n```sql\nCOPY category FROM 'categories.csv' (HEADER);\n```\n\nCopy the contents of `lineitem.tbl` into the `lineitem` table, where the contents are delimited by a pipe character (`|`):\n\n```sql\nCOPY lineitem FROM 'lineitem.tbl' (DELIMITER '|');\n```\n\nCopy the contents of `lineitem.tbl` into the `lineitem` table, where the delimiter, quote character, and presence of a header are automatically detected:\n\n```sql\nCOPY lineitem FROM 'lineitem.tbl' (AUTO_DETECT true);\n```\n\nRead the contents of a comma-separated file `names.csv` into the `name` column of the `category` table. Any other columns of this table are filled with their default value:\n\n```sql\nCOPY category(name) FROM 'names.csv';", "position": 5, "token_count": 237, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-005", "document_id": "sql-statements-copy", "position": 5, "token_count": 237, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-006", "document_id": "sql-statements-copy", "content": "```\n\nRead the contents of a Parquet file `lineitem.parquet` into the `lineitem` table:\n\n```sql\nCOPY lineitem FROM 'lineitem.parquet' (FORMAT parquet);\n```\n\nRead the contents of a newline-delimited JSON file `lineitem.ndjson` into the `lineitem` table:\n\n```sql\nCOPY lineitem FROM 'lineitem.ndjson' (FORMAT json);\n```\n\nRead the contents of a JSON file `lineitem.json` into the `lineitem` table:\n\n```sql\nCOPY lineitem FROM 'lineitem.json' (FORMAT json, ARRAY true);", "position": 6, "token_count": 168, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-006", "document_id": "sql-statements-copy", "position": 6, "token_count": 168, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-007", "document_id": "sql-statements-copy", "content": "```\n\nAn expression may be used as the source of a `COPY ... FROM` command if it is placed within parentheses.\n\nRead the contents of a file whose path is stored in a variable into the `lineitem` table:\n\n```sql\n\nSET VARIABLE source_file = 'lineitem.json';\nCOPY lineitem FROM (getvariable('source_file'));\n```\n\nRead the contents of a file provided as parameter of a prepared statement into the `lineitem` table:\n\n```sql\nPREPARE v1 AS COPY lineitem FROM ($1);\nEXECUTE v1('lineitem.json');\n```", "position": 7, "token_count": 149, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-007", "document_id": "sql-statements-copy", "position": 7, "token_count": 149, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-008", "document_id": "sql-statements-copy", "content": "### Syntax\n\n> To ensure compatibility with PostgreSQL, DuckDB accepts `COPY ... FROM` statements that do not fully comply with the railroad diagram shown here. For example, the following is a valid statement:\n>\n> ```sql\n> COPY tbl FROM 'tbl.csv' WITH DELIMITER '|' CSV HEADER;\n> ```", "position": 8, "token_count": 83, "has_code": true, "section_hierarchy": ["Syntax"], "metadata": {"chunk_id": "sql-statements-copy-008", "document_id": "sql-statements-copy", "position": 8, "token_count": 83, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Syntax"], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy#syntax"}}
{"chunk_id": "sql-statements-copy-009", "document_id": "sql-statements-copy", "content": "## `COPY ... TO`\n\n`COPY ... TO` exports data from DuckDB to an external CSV, Parquet, JSON or BLOB file. It has mostly the same set of options as `COPY ... FROM`, however, in the case of `COPY ... TO` the options specify how the file should be written to disk. Any file created by `COPY ... TO` can be copied back into the database by using `COPY ... FROM` with a similar set of options.\n\nThe `COPY ... TO` function can be called specifying either a table name, or a query. When a table name is specified, the contents of the entire table will be written into the resulting file. When a query is specified, the query is executed and the result of the query is written to the resulting file.\n\nCopy the contents of the `lineitem` table to a CSV file with a header:\n\n```sql\nCOPY lineitem TO 'lineitem.csv';", "position": 9, "token_count": 221, "has_code": true, "section_hierarchy": ["`COPY ... TO`"], "metadata": {"chunk_id": "sql-statements-copy-009", "document_id": "sql-statements-copy", "position": 9, "token_count": 221, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["`COPY ... TO`"], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy#copy--to"}}
{"chunk_id": "sql-statements-copy-010", "document_id": "sql-statements-copy", "content": "```\n\nCopy the contents of the `lineitem` table to the file `lineitem.tbl`, where the columns are delimited by a pipe character (`|`), including a header line:\n\n```sql\nCOPY lineitem TO 'lineitem.tbl' (DELIMITER '|');\n```\n\nUse tab separators to create a TSV file without a header:\n\n```sql\nCOPY lineitem TO 'lineitem.tsv' (DELIMITER '\\t', HEADER false);\n```\n\nCopy the l_orderkey column of the `lineitem` table to the file `orderkey.tbl`:\n\n```sql\nCOPY lineitem(l_orderkey) TO 'orderkey.tbl' (DELIMITER '|');\n```\n\nCopy the result of a query to the file `query.csv`, including a header with column names:\n\n```sql\nCOPY (SELECT 42 AS a, 'hello' AS b) TO 'query.csv' (DELIMITER ',');", "position": 10, "token_count": 243, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-010", "document_id": "sql-statements-copy", "position": 10, "token_count": 243, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-011", "document_id": "sql-statements-copy", "content": "```\n\nCopy the result of a query to the Parquet file `query.parquet`:\n\n```sql\nCOPY (SELECT 42 AS a, 'hello' AS b) TO 'query.parquet' (FORMAT parquet);\n```\n\nCopy the result of a query to the newline-delimited JSON file `query.ndjson`:\n\n```sql\nCOPY (SELECT 42 AS a, 'hello' AS b) TO 'query.ndjson' (FORMAT json);\n```\n\nCopy the result of a query to the JSON file `query.json`:\n\n```sql\nCOPY (SELECT 42 AS a, 'hello' AS b) TO 'query.json' (FORMAT json, ARRAY true);\n```\n\nReturn the files and their column statistics that were written as part of the `COPY` statement:\n\n```sql\nCOPY (SELECT l_orderkey, l_comment FROM lineitem) TO 'lineitem_part.parquet' (RETURN_STATS);", "position": 11, "token_count": 227, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-011", "document_id": "sql-statements-copy", "position": 11, "token_count": 227, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-012", "document_id": "sql-statements-copy", "content": "```", "position": 12, "token_count": 5, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-012", "document_id": "sql-statements-copy", "position": 12, "token_count": 5, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-013", "document_id": "sql-statements-copy", "content": "| filename | count | file_size_bytes | footer_size_bytes | column_statistics | partition_keys |", "position": 13, "token_count": 29, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-013", "document_id": "sql-statements-copy", "position": 13, "token_count": 29, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-014", "document_id": "sql-statements-copy", "content": "|-----------------------|-------:|----------------", "position": 14, "token_count": 52, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-014", "document_id": "sql-statements-copy", "position": 14, "token_count": 52, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-015", "document_id": "sql-statements-copy", "content": "----------:|------------------:|-------------------", "position": 15, "token_count": 53, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-015", "document_id": "sql-statements-copy", "position": 15, "token_count": 53, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-016", "document_id": "sql-statements-copy", "content": "---------------------------------------------------", "position": 16, "token_count": 53, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-016", "document_id": "sql-statements-copy", "position": 16, "token_count": 53, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-017", "document_id": "sql-statements-copy", "content": "---------------------------------------------------", "position": 17, "token_count": 53, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-017", "document_id": "sql-statements-copy", "position": 17, "token_count": 53, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-018", "document_id": "sql-statements-copy", "content": "---------------------------------------------------", "position": 18, "token_count": 53, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-018", "document_id": "sql-statements-copy", "position": 18, "token_count": 53, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-019", "document_id": "sql-statements-copy", "content": "---------------------------------------------------", "position": 19, "token_count": 53, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-019", "document_id": "sql-statements-copy", "position": 19, "token_count": 53, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-020", "document_id": "sql-statements-copy", "content": "-----------|----------------|", "position": 20, "token_count": 31, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-020", "document_id": "sql-statements-copy", "position": 20, "token_count": 31, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-021", "document_id": "sql-statements-copy", "content": "| lineitem_part.parquet | 600572 | 8579141 | 1445 | {'\"l_comment\"'={column_size_bytes=7642227, max=zzle. slyly, min=' Tiresias above the blit', null_count=0}, '\"l_orderkey\"'={column_size_bytes=935457, max=600000, min=1, null_count=0}} | NULL |", "position": 21, "token_count": 111, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-021", "document_id": "sql-statements-copy", "position": 21, "token_count": 111, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-022", "document_id": "sql-statements-copy", "content": "Note: for nested columns (e.g., structs) the column statistics are defined for each part. For example, if we have a column `name STRUCT(field1 INTEGER, field2 INTEGER)` the column statistics will have stats for `name.field1` and `name.field2`.\n\nAn expression may be used as the target of a `COPY ... TO` command if it is placed within parentheses.\n\nCopy the result of a query to a file whose path is stored in a variable:\n\n```sql\nSET VARIABLE target_file = 'target_file.parquet';\nCOPY (SELECT 'hello world') TO (getvariable('target_file'));", "position": 22, "token_count": 154, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-022", "document_id": "sql-statements-copy", "position": 22, "token_count": 154, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-023", "document_id": "sql-statements-copy", "content": "```\n\nCopy to a file provided as parameter of a prepared statement:\n\n```sql\nPREPARE v1 AS COPY (SELECT 42 i) to $1;\nEXECUTE v1('file.csv');\n```\n\nExpressions may be used for options as well. Copy to a file using a format stored in a variable:\n\n```sql\nSET VARIABLE my_format = 'parquet';\nCOPY (SELECT 42 i) TO 'file' (FORMAT getvariable('my_format'));\n```", "position": 23, "token_count": 113, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-023", "document_id": "sql-statements-copy", "position": 23, "token_count": 113, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-024", "document_id": "sql-statements-copy", "content": "### `COPY ... TO` Options\n\nZero or more copy options may be provided as a part of the copy operation. The `WITH` specifier is optional, but if any options are specified, the parentheses are required. Parameter values can be passed in with or without wrapping in single quotes. Arbitrary expressions may be used for parameter values.\n\nAny option that is a Boolean can be enabled or disabled in multiple ways. You can write `true`, `ON`, or `1` to enable the option, and `false`, `OFF`, or `0` to disable it. The `BOOLEAN` value can also be omitted, e.g., by only passing `(HEADER)`, in which case `true` is assumed.\n\nWith few exceptions, the below options are applicable to all formats written with `COPY`.", "position": 24, "token_count": 179, "has_code": false, "section_hierarchy": ["`COPY ... TO` Options"], "metadata": {"chunk_id": "sql-statements-copy-024", "document_id": "sql-statements-copy", "position": 24, "token_count": 179, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`COPY ... TO` Options"], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy#copy--to-options"}}
{"chunk_id": "sql-statements-copy-025", "document_id": "sql-statements-copy", "content": "| Name | Description | Type | Default |\n|:--|:-----|:-|:-|\n| `FORMAT` | Specifies the copy function to use. The default is selected from the file extension (e.g., `.parquet` results in a Parquet file being written/read). If the file extension is unknown `CSV` is selected. Vanilla DuckDB provides `CSV`, `PARQUET` and `JSON` but additional copy functions can be added by [`extensions`]({% link docs/stable/extensions/overview.md %}). | `VARCHAR` | `auto` |\n| `USE_TMP_FILE` | Whether or not to write to a temporary file first if the original file exists (`target.csv.tmp`). This prevents overwriting an existing file with a broken file in case the writing is cancelled. | `BOOL` | `auto` |", "position": 25, "token_count": 210, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-025", "document_id": "sql-statements-copy", "position": 25, "token_count": 210, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-026", "document_id": "sql-statements-copy", "content": "| `OVERWRITE_OR_IGNORE` | Whether or not to allow overwriting files if they already exist. Only has an effect when used with `PARTITION_BY`. | `BOOL` | `false` |\n| `OVERWRITE` | When `true`, all existing files inside targeted directories will be removed (not supported on remote filesystems). Only has an effect when used with `PARTITION_BY`. | `BOOL` | `false` |\n| `APPEND` | When `true`, in the event a filename pattern is generated that already exists, the path will be regenerated to ensure no existing files are overwritten. Only has an effect when used with `PARTITION_BY`. | `BOOL` | `false` |", "position": 26, "token_count": 166, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-026", "document_id": "sql-statements-copy", "position": 26, "token_count": 166, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-027", "document_id": "sql-statements-copy", "content": "| `FILENAME_PATTERN` | Set a pattern to use for the filename, can optionally contain `{uuid}` / `{uuidv4}` or `{uuidv7}` to be filled in with a generated [UUID]({% link docs/stable/sql/data_types/numeric.md %}#universally-unique-identifiers-uuids) (v4 or v7, respectively), and `{i}`, which is replaced by an incrementing index. Only has an effect when used with `PARTITION_BY`. | `VARCHAR` | `auto` |\n| `FILE_EXTENSION` | Set the file extension that should be assigned to the generated file(s). | `VARCHAR` | `auto` |\n| `PER_THREAD_OUTPUT` | When `true`, the `COPY` command generates one file per thread, rather than one file in total. This allows for faster parallel writing. | `BOOL` | `false` |", "position": 27, "token_count": 227, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-027", "document_id": "sql-statements-copy", "position": 27, "token_count": 227, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-028", "document_id": "sql-statements-copy", "content": "| `FILE_SIZE_BYTES` | If this parameter is set, the `COPY` process creates a directory which will contain the exported files. If a file exceeds the set limit (specified as bytes such as `1000` or in human-readable format such as `1k`), the process creates a new file in the directory. This parameter works in combination with `PER_THREAD_OUTPUT`. Note that the size is used as an approximation, and files can be occasionally slightly over the limit. | `VARCHAR` or `BIGINT` | (empty) |\n| `PARTITION_BY` | The columns to partition by using a Hive partitioning scheme, see the [partitioned writes section]({% link docs/stable/data/partitioning/partitioned_writes.md %}). | `VARCHAR[]` | (empty) |", "position": 28, "token_count": 187, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-028", "document_id": "sql-statements-copy", "position": 28, "token_count": 187, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-029", "document_id": "sql-statements-copy", "content": "| `PRESERVE_ORDER` | Whether or not to [preserve order]({% link docs/stable/sql/dialect/order_preservation.md %}) during the copy operation. Defaults to the value of the `preserve_insertion_order` [configuration option]({% link docs/stable/configuration/overview.md %}). | `BOOL`| (*) |\n| `RETURN_FILES` | Whether or not to include the created filepath(s) (as a `files VARCHAR[]` column) in the query result. | `BOOL` | `false` |\n| `RETURN_STATS` | Whether or not to return the files and their column statistics that were written as part of the `COPY` statement. | `BOOL`| `false` |\n| `WRITE_PARTITION_COLUMNS` | Whether or not to write partition columns into files. Only has an effect when used with `PARTITION_BY`. | `BOOL` | `false` |", "position": 29, "token_count": 218, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-029", "document_id": "sql-statements-copy", "position": 29, "token_count": 218, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-030", "document_id": "sql-statements-copy", "content": "### Syntax\n\n> To ensure compatibility with PostgreSQL, DuckDB accepts `COPY ... TO` statements that do not fully comply with the railroad diagram shown here. For example, the following is a valid statement:\n>\n> ```sql\n> COPY (SELECT 42 AS x, 84 AS y) TO 'out.csv' WITH DELIMITER '|' CSV HEADER;\n> ```", "position": 30, "token_count": 90, "has_code": true, "section_hierarchy": ["Syntax"], "metadata": {"chunk_id": "sql-statements-copy-030", "document_id": "sql-statements-copy", "position": 30, "token_count": 90, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Syntax"], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy#syntax"}}
{"chunk_id": "sql-statements-copy-031", "document_id": "sql-statements-copy", "content": "## `COPY FROM DATABASE ... TO`\n\nThe `COPY FROM DATABASE ... TO` statement copies the entire content from one attached database to another attached database. This includes the schema, including constraints, indexes, sequences, macros, and the data itself.\n\n```sql\nATTACH 'db1.db' AS db1;\nCREATE TABLE db1.tbl AS SELECT 42 AS x, 3 AS y;\nCREATE MACRO db1.two_x_plus_y(x, y) AS 2 * x + y;\n\nATTACH 'db2.db' AS db2;\nCOPY FROM DATABASE db1 TO db2;\nSELECT db2.two_x_plus_y(x, y) AS z FROM db2.tbl;\n```\n\n| z |\n|---:|\n| 87 |\n\nTo only copy the **schema** of `db1` to `db2` but omit copying the data, add `SCHEMA` to the statement:\n\n```sql\nCOPY FROM DATABASE db1 TO db2 (SCHEMA);\n```\n\n### Syntax", "position": 31, "token_count": 235, "has_code": true, "section_hierarchy": ["Syntax"], "metadata": {"chunk_id": "sql-statements-copy-031", "document_id": "sql-statements-copy", "position": 31, "token_count": 235, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Syntax"], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy#syntax"}}
{"chunk_id": "sql-statements-copy-032", "document_id": "sql-statements-copy", "content": "## Format-Specific Options", "position": 32, "token_count": 8, "has_code": false, "section_hierarchy": ["Format-Specific Options"], "metadata": {"chunk_id": "sql-statements-copy-032", "document_id": "sql-statements-copy", "position": 32, "token_count": 8, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Format-Specific Options"], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy#format-specific-options"}}
{"chunk_id": "sql-statements-copy-033", "document_id": "sql-statements-copy", "content": "### CSV Options\n\nThe below options are applicable when writing CSV files.", "position": 33, "token_count": 19, "has_code": false, "section_hierarchy": ["CSV Options"], "metadata": {"chunk_id": "sql-statements-copy-033", "document_id": "sql-statements-copy", "position": 33, "token_count": 19, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["CSV Options"], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy#csv-options"}}
{"chunk_id": "sql-statements-copy-034", "document_id": "sql-statements-copy", "content": "| Name | Description | Type | Default |\n|:--|:-----|:-|:-|\n| `COMPRESSION` | The compression type for the file. By default this will be detected automatically from the file extension (e.g., `file.csv.gz` will use `gzip`, `file.csv.zst` will use `zstd`, and `file.csv` will use `none`). Options are `none`, `gzip`, `zstd`. | `VARCHAR` | `auto` |\n| `DATEFORMAT` | Specifies the date format to use when writing dates. See [Date Format]({% link docs/stable/sql/functions/dateformat.md %}). | `VARCHAR` | (empty) |\n| `DELIM` or `SEP` | The character that is written to separate columns within each row. | `VARCHAR` | `,` |", "position": 34, "token_count": 223, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-034", "document_id": "sql-statements-copy", "position": 34, "token_count": 223, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-035", "document_id": "sql-statements-copy", "content": "| `DELIM` or `SEP` | The character that is written to separate columns within each row. | `VARCHAR` | `,` |\n| `ESCAPE` | The character that should appear before a character that matches the `quote` value. | `VARCHAR` | `\"` |\n| `FORCE_QUOTE` | The list of columns to always add quotes to, even if not required. | `VARCHAR[]` | `[]` |\n| `HEADER` | Whether or not to write a header for the CSV file. | `BOOL` | `true` |\n| `NULLSTR` | The string that is written to represent a `NULL` value. | `VARCHAR` | (empty) |\n| `PREFIX` | Prefixes the CSV file with a specified string. This option must be used in conjunction with `SUFFIX` and requires `HEADER` to be set to `false`.| `VARCHAR` | (empty) |", "position": 35, "token_count": 213, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-035", "document_id": "sql-statements-copy", "position": 35, "token_count": 213, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-036", "document_id": "sql-statements-copy", "content": "| `SUFFIX` | Appends a specified string as a suffix to the CSV file. This option must be used in conjunction with `PREFIX` and requires `HEADER` to be set to `false`.| `VARCHAR` | (empty) |\n| `QUOTE` | The quoting character to be used when a data value is quoted. | `VARCHAR` | `\"` |\n| `TIMESTAMPFORMAT` | Specifies the date format to use when writing timestamps. See [Date Format]({% link docs/stable/sql/functions/dateformat.md %}). | `VARCHAR` | (empty) |", "position": 36, "token_count": 145, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-036", "document_id": "sql-statements-copy", "position": 36, "token_count": 145, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-037", "document_id": "sql-statements-copy", "content": "### Parquet Options\n\nThe below options are applicable when writing Parquet files.", "position": 37, "token_count": 19, "has_code": false, "section_hierarchy": ["Parquet Options"], "metadata": {"chunk_id": "sql-statements-copy-037", "document_id": "sql-statements-copy", "position": 37, "token_count": 19, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Parquet Options"], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy#parquet-options"}}
{"chunk_id": "sql-statements-copy-038", "document_id": "sql-statements-copy", "content": "| Name | Description | Type | Default |\n|:--|:-----|:-|:-|\n| `COMPRESSION` | The compression format to use (`uncompressed`, `snappy`, `gzip`, `zstd`, `brotli`, `lz4`, `lz4_raw`). | `VARCHAR` | `snappy` |\n| `COMPRESSION_LEVEL` | Compression level, set between 1 (lowest compression, fastest) and 22 (highest compression, slowest). Only supported for zstd compression. | `BIGINT` | `3` |\n| `FIELD_IDS` | The `field_id` for each column. Pass `auto` to attempt to infer automatically. | `STRUCT` | (empty) |", "position": 38, "token_count": 183, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-038", "document_id": "sql-statements-copy", "position": 38, "token_count": 183, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-039", "document_id": "sql-statements-copy", "content": "| `FIELD_IDS` | The `field_id` for each column. Pass `auto` to attempt to infer automatically. | `STRUCT` | (empty) |\n| `ROW_GROUP_SIZE_BYTES` | The target size of each row group. You can pass either a human-readable string, e.g., `2MB`, or an integer, i.e., the number of bytes. This option is only used when you have issued `SET preserve_insertion_order = false;`, otherwise, it is ignored. | `BIGINT` | `row_group_size * 1024` |\n| `ROW_GROUP_SIZE` | The target size, i.e., number of rows, of each row group. | `BIGINT` | 122880 |", "position": 39, "token_count": 177, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-039", "document_id": "sql-statements-copy", "position": 39, "token_count": 177, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-040", "document_id": "sql-statements-copy", "content": "| `ROW_GROUP_SIZE` | The target size, i.e., number of rows, of each row group. | `BIGINT` | 122880 |\n| `ROW_GROUPS_PER_FILE` | Create a new Parquet file if the current one has a specified number of row groups. If multiple threads are active, the number of row groups in a file may slightly exceed the specified number of row groups to limit the amount of locking â€“ similarly to the behaviour of `FILE_SIZE_BYTES`. However, if `per_thread_output` is set, only one thread writes to each file, and it becomes accurate again. | `BIGINT` | (empty) |\n| `PARQUET_VERSION` | The Parquet version to use (`V1`, `V2`). | `VARCHAR` | `V1` |", "position": 40, "token_count": 186, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-040", "document_id": "sql-statements-copy", "position": 40, "token_count": 186, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-041", "document_id": "sql-statements-copy", "content": "Some examples of `FIELD_IDS` are as follows.\n\nAssign `field_ids` automatically:\n\n```sql\nCOPY\n (SELECT 128 AS i)\n TO 'my.parquet'\n (FIELD_IDS 'auto');", "position": 41, "token_count": 52, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-041", "document_id": "sql-statements-copy", "position": 41, "token_count": 52, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-042", "document_id": "sql-statements-copy", "content": "```\n\nSets the `field_id` of column `i` to 42:\n\n```sql\nCOPY\n (SELECT 128 AS i)\n TO 'my.parquet'\n (FIELD_IDS {i: 42});\n```\n\nSets the `field_id` of column `i` to 42, and column `j` to 43:\n\n```sql\nCOPY\n (SELECT 128 AS i, 256 AS j)\n TO 'my.parquet'\n (FIELD_IDS {i: 42, j: 43});\n```\n\nSets the `field_id` of column `my_struct` to 43, and column `i` (nested inside `my_struct`) to 43:\n\n```sql\nCOPY\n (SELECT {i: 128} AS my_struct)\n TO 'my.parquet'\n (FIELD_IDS {my_struct: {__duckdb_field_id: 42, i: 43}});", "position": 42, "token_count": 213, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-042", "document_id": "sql-statements-copy", "position": 42, "token_count": 213, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-043", "document_id": "sql-statements-copy", "content": "```\n\nSets the `field_id` of column `my_list` to 42, and column `element` (default name of list child) to 43:\n\n```sql\nCOPY\n (SELECT [128, 256] AS my_list)\n TO 'my.parquet'\n (FIELD_IDS {my_list: {__duckdb_field_id: 42, element: 43}});\n```\n\nSets the `field_id` of column `my_map` to 42, and columns `key` and `value` (default names of map children) to 43 and 44:\n\n```sql\nCOPY\n (SELECT MAP {'key1' : 128, 'key2': 256} my_map)\n TO 'my.parquet'\n (FIELD_IDS {my_map: {__duckdb_field_id: 42, key: 43, value: 44}});\n```", "position": 43, "token_count": 201, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-043", "document_id": "sql-statements-copy", "position": 43, "token_count": 201, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-044", "document_id": "sql-statements-copy", "content": "### JSON Options\n\nThe below options are applicable when writing `JSON` files.", "position": 44, "token_count": 21, "has_code": false, "section_hierarchy": ["JSON Options"], "metadata": {"chunk_id": "sql-statements-copy-044", "document_id": "sql-statements-copy", "position": 44, "token_count": 21, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["JSON Options"], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy#json-options"}}
{"chunk_id": "sql-statements-copy-045", "document_id": "sql-statements-copy", "content": "| Name | Description | Type | Default |\n|:--|:-----|:-|:-|\n| `ARRAY` | Whether to write a JSON array. If `true`, a JSON array of records is written, if `false`, newline-delimited JSON is written | `BOOL` | `false` |\n| `COMPRESSION` | The compression type for the file. By default this will be detected automatically from the file extension (e.g., `file.json.gz` will use `gzip`, `file.json.zst` will use `zstd`, and `file.json` will use `none`). Options are `none`, `gzip`, `zstd`. | `VARCHAR` | `auto` |", "position": 45, "token_count": 187, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-045", "document_id": "sql-statements-copy", "position": 45, "token_count": 187, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-046", "document_id": "sql-statements-copy", "content": "| `DATEFORMAT` | Specifies the date format to use when writing dates. See [Date Format]({% link docs/stable/sql/functions/dateformat.md %}). | `VARCHAR` | (empty) |\n| `TIMESTAMPFORMAT` | Specifies the date format to use when writing timestamps. See [Date Format]({% link docs/stable/sql/functions/dateformat.md %}). | `VARCHAR` | (empty) |", "position": 46, "token_count": 116, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-046", "document_id": "sql-statements-copy", "position": 46, "token_count": 116, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-047", "document_id": "sql-statements-copy", "content": "Sets the value of column `hello` to `QUACK!` and outputs the results to `quack.json`:\n\n```sql\nCOPY (SELECT 'QUACK!' AS hello) TO 'quack.json';\n--RETURNS: {\"hello\":\"QUACK!\"}", "position": 47, "token_count": 68, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-047", "document_id": "sql-statements-copy", "position": 47, "token_count": 68, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-048", "document_id": "sql-statements-copy", "content": "```\n\nSets the value of column `num_list` to `[1,2,3]` and outputs the results to `numbers.json`:\n\n```sql\nCOPY (SELECT [1, 2, 3] AS num_list) TO 'numbers.json';\n--RETURNS: {\"num_list\":[1,2,3]}\n```\n\nSets the value of column `compression_type` to `gzip_explicit` and outputs the results to `compression.json.gz` with explicit compression:\n\n```sql\nCOPY (SELECT 'gzip_explicit' AS compression_type) TO 'explicit_compression.json' (FORMAT json, COMPRESSION 'GZIP');\n-- RETURNS: {\"compression_type\":\"gzip_explicit\"}", "position": 48, "token_count": 185, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-048", "document_id": "sql-statements-copy", "position": 48, "token_count": 185, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-049", "document_id": "sql-statements-copy", "content": "```\n\nSets all values of single rows to be returned as nested arrays to `array_true.json`:\n\n```sql\nCOPY (SELECT 1 AS id, 'Alice' AS name, [1, 2, 3] AS numbers\n UNION ALL\n SELECT 2, 'Bob', [4, 5, 6] AS numbers)\nTO 'array_true.json' (FORMAT json, ARRAY true);\n\n-- RETURNS:\n/*\n[\n\t{\"id\":1,\"name\":\"Alice\",\"numbers\":[1,2,3]},\n\t{\"id\":2,\"name\":\"Bob\",\"numbers\":[1,2,3]}\n]\n*/", "position": 49, "token_count": 156, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-049", "document_id": "sql-statements-copy", "position": 49, "token_count": 156, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-050", "document_id": "sql-statements-copy", "content": "```\n\nSets all values of single rows to be returned as non-nested arrays to `array_false.json`:\n\n```sql\nCOPY (SELECT 1 AS id, 'Alice' AS name, [1, 2, 3] AS numbers\n UNION ALL\n SELECT 2, 'Bob', [4, 5, 6] AS numbers)\nTO 'array_false.json' (FORMAT json, ARRAY false);\n\n-- RETURNS:\n/*\n{\"id\":1,\"name\":\"Alice\",\"numbers\":[1,2,3]}\n{\"id\":2,\"name\":\"Bob\",\"numbers\":[4,5,6]}\n*/\n```", "position": 50, "token_count": 158, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-050", "document_id": "sql-statements-copy", "position": 50, "token_count": 158, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-051", "document_id": "sql-statements-copy", "content": "### BLOB Options\n\nThe `BLOB` format option allows you to select a single column of a DuckDB table into a `.blob` file.\nThe column must be cast to the `BLOB` data type. For details on typecasting, see the\n[Casting Operations Matrix]({% link docs/preview/sql/data_types/typecasting.md %}#Casting-Operations-Matrix).\n\nThe below options are applicable when writing `BLOB` files.", "position": 51, "token_count": 112, "has_code": false, "section_hierarchy": ["BLOB Options"], "metadata": {"chunk_id": "sql-statements-copy-051", "document_id": "sql-statements-copy", "position": 51, "token_count": 112, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["BLOB Options"], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy#blob-options"}}
{"chunk_id": "sql-statements-copy-052", "document_id": "sql-statements-copy", "content": "The below options are applicable when writing `BLOB` files.\n\n| Name | Description | Type | Default |\n|:--|:-----|:-|:-|\n| `COMPRESSION` | The compression type for the file. By default this will be detected automatically from the file extension (e.g., `file.blob.gz` will use `gzip`, `file.blob.zst` will use `zstd`, and `file.blob` will use `none`). Options are `none`, `gzip`, `zstd`. | `VARCHAR` | `auto` |\n\nType casts the string value `foo` to the `BLOB` data type and outputs the results to `blob_output.blob`:\n\n```sql\nCOPY (select 'foo'::BLOB) TO 'blob_output.blob' (FORMAT BLOB);", "position": 52, "token_count": 221, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-052", "document_id": "sql-statements-copy", "position": 52, "token_count": 221, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-053", "document_id": "sql-statements-copy", "content": "```\n\nType casts the string value `foo` to the `BLOB` data type and outputs the results to `blob_output_gzip.blob.gz` with `gzip` compression:\n\n```sql\nCOPY (select 'foo'::BLOB) TO 'blob_output_gzip.blob' (FORMAT BLOB, COMPRESSION 'GZIP');\n```", "position": 53, "token_count": 102, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-copy-053", "document_id": "sql-statements-copy", "position": 53, "token_count": 102, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy"}}
{"chunk_id": "sql-statements-copy-054", "document_id": "sql-statements-copy", "content": "## Limitations\n\n`COPY` does not support copying between tables. To copy between tables, use an [`INSERT statement`]({% link docs/stable/sql/statements/insert.md %}):\n\n```sql\nINSERT INTO tbl2\n FROM tbl1;\n```", "position": 54, "token_count": 65, "has_code": true, "section_hierarchy": ["Limitations"], "metadata": {"chunk_id": "sql-statements-copy-054", "document_id": "sql-statements-copy", "position": 54, "token_count": 65, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Limitations"], "file_path": "sql/statements/copy.md", "url": "/sql/statements/copy", "title": "COPY Statement", "category": null, "tags": [], "section_url": "/sql/statements/copy#limitations"}}

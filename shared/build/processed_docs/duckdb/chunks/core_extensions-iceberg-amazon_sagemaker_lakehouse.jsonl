{"chunk_id": "core_extensions-iceberg-amazon_sagemaker_lakehouse-000", "document_id": "core_extensions-iceberg-amazon_sagemaker_lakehouse", "content": "> Support for Amazon SageMaker Lakehouse (AWS Glue) is currently experimental.\n\nThe `iceberg` extension supports reading Iceberg tables through the [Amazon SageMaker Lakehouse (a.k.a. AWS Glue)](https://aws.amazon.com/sagemaker/lakehouse/) catalog.\n\n## Requirements\n\nTo use it, install the following extensions:\n\n```sql\nINSTALL aws;\nINSTALL httpfs;\nINSTALL iceberg;\n```\n\n> If you want to switch back to using extensions from the `core` repository,\n> follow the [extension documentation]({% link docs/stable/extensions/installing_extensions.md %}#force-installing-to-upgrade-extensions).", "position": 0, "token_count": 156, "has_code": true, "section_hierarchy": ["Requirements"], "metadata": {"chunk_id": "core_extensions-iceberg-amazon_sagemaker_lakehouse-000", "document_id": "core_extensions-iceberg-amazon_sagemaker_lakehouse", "position": 0, "token_count": 156, "has_code": true, "overlap_with_previous": false, "section_hierarchy": ["Requirements"], "file_path": "core_extensions/iceberg/amazon_sagemaker_lakehouse.md", "url": "/core_extensions/iceberg/amazon_sagemaker_lakehouse", "title": "Amazon SageMaker Lakehouse (AWS Glue)", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/amazon_sagemaker_lakehouse#requirements"}}
{"chunk_id": "core_extensions-iceberg-amazon_sagemaker_lakehouse-001", "document_id": "core_extensions-iceberg-amazon_sagemaker_lakehouse", "content": "## Connecting to Amazon SageMaker Lakehouse (AWS Glue)\n\nCreate an S3 secret using the [Secrets Manager]({% link docs/stable/configuration/secrets_manager.md %}):\n\n```sql\nCREATE SECRET (\n TYPE s3,\n PROVIDER credential_chain,\n CHAIN sts,\n ASSUME_ROLE_ARN 'arn:aws:iam::⟨account_id⟩:role/⟨role⟩',\n REGION 'us-east-2'\n);\n```\n\nIn this example we use an STS token, but [other authentication methods are supported]({% link docs/stable/core_extensions/aws.md %}).\n\nThen, connect to the catalog:\n\n```sql\nATTACH '⟨account_id⟩' AS glue_catalog (\n TYPE iceberg,\n ENDPOINT 'glue.⟨REGION⟩.amazonaws.com/iceberg',\n AUTHORIZATION_TYPE 'sigv4'\n);\n```\n\nOr alternatively:\n\n```sql\nATTACH '⟨account_id⟩' AS glue_catalog (\n TYPE iceberg,\n ENDPOINT_TYPE 'glue'\n);", "position": 1, "token_count": 243, "has_code": true, "section_hierarchy": ["Connecting to Amazon SageMaker Lakehouse (AWS Glue)"], "metadata": {"chunk_id": "core_extensions-iceberg-amazon_sagemaker_lakehouse-001", "document_id": "core_extensions-iceberg-amazon_sagemaker_lakehouse", "position": 1, "token_count": 243, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Connecting to Amazon SageMaker Lakehouse (AWS Glue)"], "file_path": "core_extensions/iceberg/amazon_sagemaker_lakehouse.md", "url": "/core_extensions/iceberg/amazon_sagemaker_lakehouse", "title": "Amazon SageMaker Lakehouse (AWS Glue)", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/amazon_sagemaker_lakehouse#connecting-to-amazon-sagemaker-lakehouse-aws-glue"}}
{"chunk_id": "core_extensions-iceberg-amazon_sagemaker_lakehouse-002", "document_id": "core_extensions-iceberg-amazon_sagemaker_lakehouse", "content": "```\n\nOr alternatively:\n\n```sql\nATTACH '⟨account_id⟩' AS glue_catalog (\n TYPE iceberg,\n ENDPOINT_TYPE 'glue'\n);\n```\n\nTo check whether the attachment worked, list all tables:\n\n```sql\nSHOW ALL TABLES;\n```\n\nYou can query a table as follows:\n\n```sql\nSELECT count(*)\nFROM glue_catalog.⟨namespace_name⟩.⟨table_name⟩;\n```", "position": 2, "token_count": 101, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-iceberg-amazon_sagemaker_lakehouse-002", "document_id": "core_extensions-iceberg-amazon_sagemaker_lakehouse", "position": 2, "token_count": 101, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/iceberg/amazon_sagemaker_lakehouse.md", "url": "/core_extensions/iceberg/amazon_sagemaker_lakehouse", "title": "Amazon SageMaker Lakehouse (AWS Glue)", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/amazon_sagemaker_lakehouse"}}

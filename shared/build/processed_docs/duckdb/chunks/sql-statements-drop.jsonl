{"chunk_id": "sql-statements-drop-000", "document_id": "sql-statements-drop", "content": "The `DROP` statement removes a catalog entry added previously with the `CREATE` command.\n\n## Examples\n\nDelete the table with the name `tbl`:\n\n```sql\nDROP TABLE tbl;\n```\n\nDrop the view with the name `view1`; do not throw an error if the view does not exist:\n\n```sql\nDROP VIEW IF EXISTS view1;\n```\n\nDrop function `fn`:\n\n```sql\nDROP FUNCTION fn;\n```\n\nDrop index `idx`:\n\n```sql\nDROP INDEX idx;\n```\n\nDrop schema `sch`:\n\n```sql\nDROP SCHEMA sch;\n```\n\nDrop sequence `seq`:\n\n```sql\nDROP SEQUENCE seq;\n```\n\nDrop macro `mcr`:\n\n```sql\nDROP MACRO mcr;\n```\n\nDrop macro table `mt`:\n\n```sql\nDROP MACRO TABLE mt; -- the `TABLE` is optional since v1.4.0\n```\n\nDrop type `typ`:\n\n```sql\nDROP TYPE typ;\n```\n\n## Syntax", "position": 0, "token_count": 237, "has_code": true, "section_hierarchy": ["Syntax"], "metadata": {"chunk_id": "sql-statements-drop-000", "document_id": "sql-statements-drop", "position": 0, "token_count": 237, "has_code": true, "overlap_with_previous": false, "section_hierarchy": ["Syntax"], "file_path": "sql/statements/drop.md", "url": "/sql/statements/drop", "title": "DROP Statement", "category": null, "tags": [], "section_url": "/sql/statements/drop#syntax"}}
{"chunk_id": "sql-statements-drop-001", "document_id": "sql-statements-drop", "content": "## Dependencies of Dropped Objects\n\nDuckDB performs limited dependency tracking for some object types.\nBy default or if the `RESTRICT` clause is provided, the entry will not be dropped if there are any other objects that depend on it.\nIf the `CASCADE` clause is provided then all the objects that are dependent on the object will be dropped as well.\n\n```sql\nCREATE SCHEMA myschema;\nCREATE TABLE myschema.t1 (i INTEGER);\nDROP SCHEMA myschema;\n```\n\n```console\nDependency Error:\nCannot drop entry \"myschema\" because there are entries that depend on it.\ntable \"t1\" depends on schema \"myschema\".\nUse DROP...CASCADE to drop all dependents.\n```\n\nThe `CASCADE` modifier drops both myschema and `myschema.t1`:\n\n```sql\nCREATE SCHEMA myschema;\nCREATE TABLE myschema.t1 (i INTEGER);\nDROP SCHEMA myschema CASCADE;", "position": 1, "token_count": 214, "has_code": true, "section_hierarchy": ["Dependencies of Dropped Objects"], "metadata": {"chunk_id": "sql-statements-drop-001", "document_id": "sql-statements-drop", "position": 1, "token_count": 214, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Dependencies of Dropped Objects"], "file_path": "sql/statements/drop.md", "url": "/sql/statements/drop", "title": "DROP Statement", "category": null, "tags": [], "section_url": "/sql/statements/drop#dependencies-of-dropped-objects"}}
{"chunk_id": "sql-statements-drop-002", "document_id": "sql-statements-drop", "content": "```\n\nThe following dependencies are tracked and thus will raise an error if the user tries to drop the depending object without the `CASCADE` modifier.\n\n| Depending object type | Dependant object type |\n|--|--|\n| `SCHEMA` | `FUNCTION` |\n| `SCHEMA` | `INDEX` |\n| `SCHEMA` | `MACRO TABLE` |\n| `SCHEMA` | `MACRO` |\n| `SCHEMA` | `SCHEMA` |\n| `SCHEMA` | `SEQUENCE` |\n| `SCHEMA` | `TABLE` |\n| `SCHEMA` | `TYPE` |\n| `SCHEMA` | `VIEW` |\n| `TABLE` | `INDEX` |", "position": 2, "token_count": 152, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-drop-002", "document_id": "sql-statements-drop", "position": 2, "token_count": 152, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/drop.md", "url": "/sql/statements/drop", "title": "DROP Statement", "category": null, "tags": [], "section_url": "/sql/statements/drop"}}
{"chunk_id": "sql-statements-drop-003", "document_id": "sql-statements-drop", "content": "## Limitations\n\n### Dependencies on Views\n\nCurrently, dependencies are not tracked for views. For example, if a view is created that references a table and the table is dropped, then the view will be in an invalid state:\n\n```sql\nCREATE TABLE tbl (i INTEGER);\nCREATE VIEW view1 AS\n SELECT i FROM tbl;\nDROP TABLE tbl RESTRICT;\nSELECT * FROM view1;\n```\n\nThis returns the following error message:\n\n```console\nCatalog Error:\nTable with name tbl does not exist!\n```", "position": 3, "token_count": 115, "has_code": true, "section_hierarchy": ["Dependencies on Views"], "metadata": {"chunk_id": "sql-statements-drop-003", "document_id": "sql-statements-drop", "position": 3, "token_count": 115, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Dependencies on Views"], "file_path": "sql/statements/drop.md", "url": "/sql/statements/drop", "title": "DROP Statement", "category": null, "tags": [], "section_url": "/sql/statements/drop#dependencies-on-views"}}
{"chunk_id": "sql-statements-drop-004", "document_id": "sql-statements-drop", "content": "## Limitations on Reclaiming Disk Space\n\nRunning `DROP TABLE` should free the memory used by the table, but not always disk space.\nEven if disk space does not decrease, the free blocks will be marked as `free`.\nFor example, if we have a 2 GB file and we drop a 1 GB table, the file might still be 2 GB, but it should have 1 GB of free blocks in it.\nTo check this, use the following `PRAGMA` and check the number of `free_blocks` in the output:\n\n```sql\nPRAGMA database_size;\n```\n\nFor instruction on reclaiming space after dropping a table, refer to the [“Reclaiming space” page]({% link docs/stable/operations_manual/footprint_of_duckdb/reclaiming_space.md %}).", "position": 4, "token_count": 179, "has_code": true, "section_hierarchy": ["Limitations on Reclaiming Disk Space"], "metadata": {"chunk_id": "sql-statements-drop-004", "document_id": "sql-statements-drop", "position": 4, "token_count": 179, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Limitations on Reclaiming Disk Space"], "file_path": "sql/statements/drop.md", "url": "/sql/statements/drop", "title": "DROP Statement", "category": null, "tags": [], "section_url": "/sql/statements/drop#limitations-on-reclaiming-disk-space"}}

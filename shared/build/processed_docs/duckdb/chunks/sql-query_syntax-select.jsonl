{"chunk_id": "sql-query_syntax-select-000", "document_id": "sql-query_syntax-select", "content": "The `SELECT` clause specifies the list of columns that will be returned by the query. While it appears first in the clause, *logically* the expressions here are executed only at the end. The `SELECT` clause can contain arbitrary expressions that transform the output, as well as aggregates and window functions.", "position": 0, "token_count": 65, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-query_syntax-select-000", "document_id": "sql-query_syntax-select", "position": 0, "token_count": 65, "has_code": false, "overlap_with_previous": false, "section_hierarchy": [], "file_path": "sql/query_syntax/select.md", "url": "/sql/query_syntax/select", "title": "SELECT Clause", "category": null, "tags": [], "section_url": "/sql/query_syntax/select"}}
{"chunk_id": "sql-query_syntax-select-001", "document_id": "sql-query_syntax-select", "content": "## Examples\n\nSelect all columns from the table called `tbl`:\n\n```sql\nSELECT * FROM tbl;\n```\n\nPerform arithmetic on the columns in a table, and provide an alias:\n\n```sql\nSELECT col1 + col2 AS res, sqrt(col1) AS root FROM tbl;\n```\n\nUse prefix aliases:\n\n```sql\nSELECT\n res: col1 + col2,\n root: sqrt(col1)\nFROM tbl;\n```\n\nSelect all unique cities from the `addresses` table:\n\n```sql\nSELECT DISTINCT city FROM addresses;\n```\n\nReturn the total number of rows in the `addresses` table:\n\n```sql\nSELECT count(*) FROM addresses;\n```\n\nSelect all columns except the city column from the `addresses` table:\n\n```sql\nSELECT * EXCLUDE (city) FROM addresses;\n```\n\nSelect all columns from the `addresses` table, but replace `city` with `lower(city)`:\n\n```sql\nSELECT * REPLACE (lower(city) AS city) FROM addresses;", "position": 1, "token_count": 228, "has_code": true, "section_hierarchy": ["Examples"], "metadata": {"chunk_id": "sql-query_syntax-select-001", "document_id": "sql-query_syntax-select", "position": 1, "token_count": 228, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Examples"], "file_path": "sql/query_syntax/select.md", "url": "/sql/query_syntax/select", "title": "SELECT Clause", "category": null, "tags": [], "section_url": "/sql/query_syntax/select#examples"}}
{"chunk_id": "sql-query_syntax-select-002", "document_id": "sql-query_syntax-select", "content": "```\n\nSelect all columns from the `addresses` table, but replace `city` with `lower(city)`:\n\n```sql\nSELECT * REPLACE (lower(city) AS city) FROM addresses;\n```\n\nSelect all columns matching the given regular expression from the table:\n\n```sql\nSELECT COLUMNS('number\\d+') FROM addresses;\n```\n\nCompute a function on all given columns of a table:\n\n```sql\nSELECT min(COLUMNS(*)) FROM addresses;\n```\n\nTo select columns with spaces or special characters, use double quotes (`\"`):\n\n```sql\nSELECT \"Some Column Name\" FROM tbl;\n```", "position": 2, "token_count": 145, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-query_syntax-select-002", "document_id": "sql-query_syntax-select", "position": 2, "token_count": 145, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/query_syntax/select.md", "url": "/sql/query_syntax/select", "title": "SELECT Clause", "category": null, "tags": [], "section_url": "/sql/query_syntax/select"}}
{"chunk_id": "sql-query_syntax-select-003", "document_id": "sql-query_syntax-select", "content": "## Syntax", "position": 3, "token_count": 5, "has_code": false, "section_hierarchy": ["Syntax"], "metadata": {"chunk_id": "sql-query_syntax-select-003", "document_id": "sql-query_syntax-select", "position": 3, "token_count": 5, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Syntax"], "file_path": "sql/query_syntax/select.md", "url": "/sql/query_syntax/select", "title": "SELECT Clause", "category": null, "tags": [], "section_url": "/sql/query_syntax/select#syntax"}}
{"chunk_id": "sql-query_syntax-select-004", "document_id": "sql-query_syntax-select", "content": "## `SELECT` List\n\nThe `SELECT` clause contains a list of expressions that specify the result of a query. The select list can refer to any columns in the `FROM` clause, and combine them using expressions. As the output of a SQL query is a table – every expression in the `SELECT` clause also has a name. The expressions can be explicitly named using the `AS` clause (e.g., `expr AS name`). If a name is not provided by the user the expressions are named automatically by the system.\n\n> Column names are case-insensitive. See the [Rules for Case Sensitivity]({% link docs/stable/sql/dialect/keywords_and_identifiers.md %}#rules-for-case-sensitivity) for more details.", "position": 4, "token_count": 171, "has_code": false, "section_hierarchy": ["`SELECT` List"], "metadata": {"chunk_id": "sql-query_syntax-select-004", "document_id": "sql-query_syntax-select", "position": 4, "token_count": 171, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`SELECT` List"], "file_path": "sql/query_syntax/select.md", "url": "/sql/query_syntax/select", "title": "SELECT Clause", "category": null, "tags": [], "section_url": "/sql/query_syntax/select#select-list"}}
{"chunk_id": "sql-query_syntax-select-005", "document_id": "sql-query_syntax-select", "content": "### Star Expressions\n\nSelect all columns from the table called `tbl`:\n\n```sql\nSELECT *\nFROM tbl;\n```\n\nSelect all columns matching the given regular expression from the table:\n\n```sql\nSELECT COLUMNS('number\\d+')\nFROM addresses;\n```\n\nThe [star expression]({% link docs/stable/sql/expressions/star.md %}) is a special expression that expands to *multiple expressions* based on the contents of the `FROM` clause. In the simplest case, `*` expands to **all** expressions in the `FROM` clause. Columns can also be selected using regular expressions or lambda functions. See the [star expression page]({% link docs/stable/sql/expressions/star.md %}) for more details.", "position": 5, "token_count": 175, "has_code": true, "section_hierarchy": ["Star Expressions"], "metadata": {"chunk_id": "sql-query_syntax-select-005", "document_id": "sql-query_syntax-select", "position": 5, "token_count": 175, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Star Expressions"], "file_path": "sql/query_syntax/select.md", "url": "/sql/query_syntax/select", "title": "SELECT Clause", "category": null, "tags": [], "section_url": "/sql/query_syntax/select#star-expressions"}}
{"chunk_id": "sql-query_syntax-select-006", "document_id": "sql-query_syntax-select", "content": "### `DISTINCT` Clause\n\nSelect all unique cities from the addresses table:\n\n```sql\nSELECT DISTINCT city\nFROM addresses;\n```\n\nThe `DISTINCT` clause can be used to return **only** the unique rows in the result – so that any duplicate rows are filtered out.\n\n> Queries starting with `SELECT DISTINCT` run deduplication, which is an expensive operation. Therefore, only use `DISTINCT` if necessary.", "position": 6, "token_count": 92, "has_code": true, "section_hierarchy": ["`DISTINCT` Clause"], "metadata": {"chunk_id": "sql-query_syntax-select-006", "document_id": "sql-query_syntax-select", "position": 6, "token_count": 92, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["`DISTINCT` Clause"], "file_path": "sql/query_syntax/select.md", "url": "/sql/query_syntax/select", "title": "SELECT Clause", "category": null, "tags": [], "section_url": "/sql/query_syntax/select#distinct-clause"}}
{"chunk_id": "sql-query_syntax-select-007", "document_id": "sql-query_syntax-select", "content": "### `DISTINCT ON` Clause\n\nSelect only the highest population city for each country:\n\n```sql\nSELECT DISTINCT ON(country) city, population\nFROM cities\nORDER BY population DESC;\n```\n\nThe `DISTINCT ON` clause returns only one row per unique value in the set of expressions as defined in the `ON` clause. If an `ORDER BY` clause is present, the row that is returned is the first row that is encountered as per the `ORDER BY` criteria. If an `ORDER BY` clause is not present, the first row that is encountered is not defined and can be any row in the table.\n\n> When querying large datasets, using `DISTINCT` on all columns can be expensive. Therefore, consider using `DISTINCT ON` on a column (or a set of columns) which guaranetees a sufficient degree of uniqueness for your results. For example, using `DISTINCT ON` on the key column(s) of a table guarantees full uniqueness.", "position": 7, "token_count": 207, "has_code": true, "section_hierarchy": ["`DISTINCT ON` Clause"], "metadata": {"chunk_id": "sql-query_syntax-select-007", "document_id": "sql-query_syntax-select", "position": 7, "token_count": 207, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["`DISTINCT ON` Clause"], "file_path": "sql/query_syntax/select.md", "url": "/sql/query_syntax/select", "title": "SELECT Clause", "category": null, "tags": [], "section_url": "/sql/query_syntax/select#distinct-on-clause"}}
{"chunk_id": "sql-query_syntax-select-008", "document_id": "sql-query_syntax-select", "content": "### Aggregates\n\nReturn the total number of rows in the addresses table:\n\n```sql\nSELECT count(*)\nFROM addresses;\n```\n\nReturn the total number of rows in the addresses table grouped by city:\n\n```sql\nSELECT city, count(*)\nFROM addresses\nGROUP BY city;\n```\n\n[Aggregate functions]({% link docs/stable/sql/functions/aggregates.md %}) are special functions that *combine* multiple rows into a single value. When aggregate functions are present in the `SELECT` clause, the query is turned into an aggregate query. In an aggregate query, **all** expressions must either be part of an aggregate function, or part of a group (as specified by the [`GROUP BY clause`]({% link docs/stable/sql/query_syntax/groupby.md %})).", "position": 8, "token_count": 187, "has_code": true, "section_hierarchy": ["Aggregates"], "metadata": {"chunk_id": "sql-query_syntax-select-008", "document_id": "sql-query_syntax-select", "position": 8, "token_count": 187, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Aggregates"], "file_path": "sql/query_syntax/select.md", "url": "/sql/query_syntax/select", "title": "SELECT Clause", "category": null, "tags": [], "section_url": "/sql/query_syntax/select#aggregates"}}
{"chunk_id": "sql-query_syntax-select-009", "document_id": "sql-query_syntax-select", "content": "### Window Functions\n\nGenerate a `row_number` column containing incremental identifiers for each row:\n\n```sql\nSELECT row_number() OVER ()\nFROM sales;\n```\n\nCompute the difference between the current amount, and the previous amount, by order of time:\n\n```sql\nSELECT amount - lag(amount) OVER (ORDER BY time)\nFROM sales;\n```\n\n[Window functions]({% link docs/stable/sql/functions/window_functions.md %}) are special functions that allow the computation of values relative to *other rows* in a result. Window functions are marked by the `OVER` clause which contains the *window specification*. The window specification defines the frame or context in which the window function is computed. See the [window functions page]({% link docs/stable/sql/functions/window_functions.md %}) for more information.", "position": 9, "token_count": 197, "has_code": true, "section_hierarchy": ["Window Functions"], "metadata": {"chunk_id": "sql-query_syntax-select-009", "document_id": "sql-query_syntax-select", "position": 9, "token_count": 197, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Window Functions"], "file_path": "sql/query_syntax/select.md", "url": "/sql/query_syntax/select", "title": "SELECT Clause", "category": null, "tags": [], "section_url": "/sql/query_syntax/select#window-functions"}}
{"chunk_id": "sql-query_syntax-select-010", "document_id": "sql-query_syntax-select", "content": "### `unnest` Function\n\nUnnest an array by one level:\n\n```sql\nSELECT unnest([1, 2, 3]);\n```\n\nUnnest a struct by one level:\n\n```sql\nSELECT unnest({'a': 42, 'b': 84});", "position": 10, "token_count": 76, "has_code": true, "section_hierarchy": ["`unnest` Function"], "metadata": {"chunk_id": "sql-query_syntax-select-010", "document_id": "sql-query_syntax-select", "position": 10, "token_count": 76, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["`unnest` Function"], "file_path": "sql/query_syntax/select.md", "url": "/sql/query_syntax/select", "title": "SELECT Clause", "category": null, "tags": [], "section_url": "/sql/query_syntax/select#unnest-function"}}
{"chunk_id": "sql-query_syntax-select-011", "document_id": "sql-query_syntax-select", "content": "```\n\nUnnest a struct by one level:\n\n```sql\nSELECT unnest({'a': 42, 'b': 84});\n```\n\nThe [`unnest`]({% link docs/stable/sql/query_syntax/unnest.md %}) function is a special function that can be used together with [arrays]({% link docs/stable/sql/data_types/array.md %}), [lists]({% link docs/stable/sql/data_types/list.md %}), or [structs]({% link docs/stable/sql/data_types/struct.md %}). The unnest function strips one level of nesting from the type. For example, `INTEGER[]` is transformed into `INTEGER`. `STRUCT(a INTEGER, b INTEGER)` is transformed into `a INTEGER, b INTEGER`. The unnest function can be used to transform nested types into regular scalar types, which makes them easier to operate on.", "position": 11, "token_count": 244, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-query_syntax-select-011", "document_id": "sql-query_syntax-select", "position": 11, "token_count": 244, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/query_syntax/select.md", "url": "/sql/query_syntax/select", "title": "SELECT Clause", "category": null, "tags": [], "section_url": "/sql/query_syntax/select"}}

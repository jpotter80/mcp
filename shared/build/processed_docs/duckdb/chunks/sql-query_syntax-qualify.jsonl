{"chunk_id": "sql-query_syntax-qualify-000", "document_id": "sql-query_syntax-qualify", "content": "The `QUALIFY` clause is used to filter the results of [`WINDOW` functions]({% link docs/stable/sql/functions/window_functions.md %}). This filtering of results is similar to how a [`HAVING` clause]({% link docs/stable/sql/query_syntax/having.md %}) filters the results of aggregate functions applied based on the [`GROUP BY` clause]({% link docs/stable/sql/query_syntax/groupby.md %}).\n\nThe `QUALIFY` clause avoids the need for a subquery or [`WITH` clause]({% link docs/stable/sql/query_syntax/with.md %}) to perform this filtering (much like `HAVING` avoids a subquery). An example using a `WITH` clause instead of `QUALIFY` is included below the `QUALIFY` examples.", "position": 0, "token_count": 198, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-query_syntax-qualify-000", "document_id": "sql-query_syntax-qualify", "position": 0, "token_count": 198, "has_code": false, "overlap_with_previous": false, "section_hierarchy": [], "file_path": "sql/query_syntax/qualify.md", "url": "/sql/query_syntax/qualify", "title": "QUALIFY Clause", "category": null, "tags": [], "section_url": "/sql/query_syntax/qualify"}}
{"chunk_id": "sql-query_syntax-qualify-001", "document_id": "sql-query_syntax-qualify", "content": "Note that this is filtering based on [`WINDOW` functions]({% link docs/stable/sql/functions/window_functions.md %}), not necessarily based on the [`WINDOW` clause]({% link docs/stable/sql/query_syntax/window.md %}). The `WINDOW` clause is optional and can be used to simplify the creation of multiple `WINDOW` function expressions.\n\nThe position of where to specify a `QUALIFY` clause is following the [`WINDOW` clause]({% link docs/stable/sql/query_syntax/window.md %}) in a `SELECT` statement (`WINDOW` does not need to be specified), and before the [`ORDER BY`]({% link docs/stable/sql/query_syntax/orderby.md %}).", "position": 1, "token_count": 185, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-query_syntax-qualify-001", "document_id": "sql-query_syntax-qualify", "position": 1, "token_count": 185, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/query_syntax/qualify.md", "url": "/sql/query_syntax/qualify", "title": "QUALIFY Clause", "category": null, "tags": [], "section_url": "/sql/query_syntax/qualify"}}
{"chunk_id": "sql-query_syntax-qualify-002", "document_id": "sql-query_syntax-qualify", "content": "## Examples\n\nEach of the following examples produce the same output, located below.\n\nFilter based on a window function defined in the `QUALIFY` clause:\n\n```sql\nSELECT\n schema_name,\n function_name,\n -- In this example the function_rank column in the select clause is for reference\n row_number() OVER (PARTITION BY schema_name ORDER BY function_name) AS function_rank\nFROM duckdb_functions()\nQUALIFY\n row_number() OVER (PARTITION BY schema_name ORDER BY function_name)", "position": 2, "token_count": 113, "has_code": true, "section_hierarchy": ["Examples"], "metadata": {"chunk_id": "sql-query_syntax-qualify-002", "document_id": "sql-query_syntax-qualify", "position": 2, "token_count": 113, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Examples"], "file_path": "sql/query_syntax/qualify.md", "url": "/sql/query_syntax/qualify", "title": "QUALIFY Clause", "category": null, "tags": [], "section_url": "/sql/query_syntax/qualify#examples"}}

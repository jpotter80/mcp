{"chunk_id": "guides-network_cloud_storage-fastly_object_storage_import-000", "document_id": "guides-network_cloud_storage-fastly_object_storage_import", "content": "## Prerequisites\n\nFor Fastly Object Storage, the [S3 Compatibility API](https://docs.fastly.com/products/object-storage) allows you to use DuckDB's S3 support to read and write from Fastly buckets.\n\nThis requires the [`httpfs` extension]({% link docs/stable/core_extensions/httpfs/overview.md %}), which can be installed using the `INSTALL` SQL command. This only needs to be run once.", "position": 0, "token_count": 114, "has_code": false, "section_hierarchy": ["Prerequisites"], "metadata": {"chunk_id": "guides-network_cloud_storage-fastly_object_storage_import-000", "document_id": "guides-network_cloud_storage-fastly_object_storage_import", "position": 0, "token_count": 114, "has_code": false, "overlap_with_previous": false, "section_hierarchy": ["Prerequisites"], "file_path": "guides/network_cloud_storage/fastly_object_storage_import.md", "url": "/guides/network_cloud_storage/fastly_object_storage_import", "title": "Fastly Object Storage Import", "category": null, "tags": [], "section_url": "/guides/network_cloud_storage/fastly_object_storage_import#prerequisites"}}
{"chunk_id": "guides-network_cloud_storage-fastly_object_storage_import-001", "document_id": "guides-network_cloud_storage-fastly_object_storage_import", "content": "## Credentials and Configuration\n\nYou will need to [generate an S3 auth token](https://docs.fastly.com/en/guides/working-with-object-storage#creating-an-object-storage-access-key) and create an `S3` secret in DuckDB:\n\n```sql\nCREATE SECRET my_secret (\n TYPE s3,\n KEY_ID '⟨AKIAIOSFODNN7EXAMPLE⟩',\n SECRET '⟨wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY⟩',\n\tURL_STYLE 'path',\n REGION '⟨us-east⟩',\n ENDPOINT '⟨us-east⟩.object.fastlystorage.app' -- see note below\n);", "position": 1, "token_count": 171, "has_code": true, "section_hierarchy": ["Credentials and Configuration"], "metadata": {"chunk_id": "guides-network_cloud_storage-fastly_object_storage_import-001", "document_id": "guides-network_cloud_storage-fastly_object_storage_import", "position": 1, "token_count": 171, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Credentials and Configuration"], "file_path": "guides/network_cloud_storage/fastly_object_storage_import.md", "url": "/guides/network_cloud_storage/fastly_object_storage_import", "title": "Fastly Object Storage Import", "category": null, "tags": [], "section_url": "/guides/network_cloud_storage/fastly_object_storage_import#credentials-and-configuration"}}
{"chunk_id": "guides-network_cloud_storage-fastly_object_storage_import-002", "document_id": "guides-network_cloud_storage-fastly_object_storage_import", "content": "```\n\n* The `ENDPOINT` needs to point to the [Fastly endpoint for the region](https://docs.fastly.com/en/guides/working-with-object-storage#working-with-the-s3-compatible-api) you want to use (e.g `eu-central.object.fastlystorage.app`).\n* `REGION` must use the same region mentioned in `ENDPOINT`.\n* `URL_STYLE` needs to use `path`.", "position": 2, "token_count": 117, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "guides-network_cloud_storage-fastly_object_storage_import-002", "document_id": "guides-network_cloud_storage-fastly_object_storage_import", "position": 2, "token_count": 117, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/network_cloud_storage/fastly_object_storage_import.md", "url": "/guides/network_cloud_storage/fastly_object_storage_import", "title": "Fastly Object Storage Import", "category": null, "tags": [], "section_url": "/guides/network_cloud_storage/fastly_object_storage_import"}}
{"chunk_id": "guides-network_cloud_storage-fastly_object_storage_import-003", "document_id": "guides-network_cloud_storage-fastly_object_storage_import", "content": "## Querying\n\nAfter setting up the Fastly Object Storage credentials, you can query the data there using DuckDB's built-in methods, such as `read_csv` or `read_parquet`:\n\n```sql\nSELECT * FROM 's3://⟨fastly-bucket-name⟩/(file).csv';\nSELECT * FROM read_parquet('s3://⟨fastly-bucket-name⟩/⟨file⟩.parquet');\n```", "position": 3, "token_count": 113, "has_code": true, "section_hierarchy": ["Querying"], "metadata": {"chunk_id": "guides-network_cloud_storage-fastly_object_storage_import-003", "document_id": "guides-network_cloud_storage-fastly_object_storage_import", "position": 3, "token_count": 113, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Querying"], "file_path": "guides/network_cloud_storage/fastly_object_storage_import.md", "url": "/guides/network_cloud_storage/fastly_object_storage_import", "title": "Fastly Object Storage Import", "category": null, "tags": [], "section_url": "/guides/network_cloud_storage/fastly_object_storage_import#querying"}}

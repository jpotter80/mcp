{"chunk_id": "guides-performance-join_operations-000", "document_id": "guides-performance-join_operations", "content": "## How to Force a Join Order\n\nDuckDB has a cost-based query optimizer, which uses statistics in the base tables (stored in a DuckDB database or Parquet files) to estimate the cardinality of operations.\n\n### Turn off the Join Order Optimizer\n\nTo turn off the join order optimizer, set the following [`PRAGMA`s]({% link docs/stable/configuration/pragmas.md %}):\n\n```sql\nSET disabled_optimizers = 'join_order,build_side_probe_side';\n```\n\nThis disables both the join order optimizer and left/right swapping for joins.\nThis way, DuckDB builds a left-deep join tree following the order of `JOIN` clauses.\n\n```sql\nSELECT ...\nFROM ...\nJOIN ... -- this join is performed first\nJOIN ...; -- this join is performed second\n```\n\nOnce the query in question has been executed, turn back the optimizers with the following command:\n\n```sql\nSET disabled_optimizers = '';\n```", "position": 0, "token_count": 245, "has_code": true, "section_hierarchy": ["Turn off the Join Order Optimizer"], "metadata": {"chunk_id": "guides-performance-join_operations-000", "document_id": "guides-performance-join_operations", "position": 0, "token_count": 245, "has_code": true, "overlap_with_previous": false, "section_hierarchy": ["Turn off the Join Order Optimizer"], "file_path": "guides/performance/join_operations.md", "url": "/guides/performance/join_operations", "title": "Join Operations", "category": null, "tags": [], "section_url": "/guides/performance/join_operations#turn-off-the-join-order-optimizer"}}
{"chunk_id": "guides-performance-join_operations-001", "document_id": "guides-performance-join_operations", "content": "### Create Temporary Tables\n\nTo force a particular join order, you can break up the query into multiple queries with each creating a temporary tables:\n\n```sql\nCREATE OR REPLACE TEMPORARY TABLE t1 AS\n ...;\n\n-- join on the result of the first query, t1\nCREATE OR REPLACE TEMPORARY TABLE t2 AS\n SELECT * FROM t1 ...;\n\n-- compute the final result using t2\nSELECT * FROM t1 ...\n```\n\nTo clean up, drop the interim tables:\n\n```sql\nDROP TABLE IF EXISTS t1;\nDROP TABLE IF EXISTS t2;\n```", "position": 1, "token_count": 128, "has_code": true, "section_hierarchy": ["Create Temporary Tables"], "metadata": {"chunk_id": "guides-performance-join_operations-001", "document_id": "guides-performance-join_operations", "position": 1, "token_count": 128, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Create Temporary Tables"], "file_path": "guides/performance/join_operations.md", "url": "/guides/performance/join_operations", "title": "Join Operations", "category": null, "tags": [], "section_url": "/guides/performance/join_operations#create-temporary-tables"}}

{"chunk_id": "sql-data_types-map-000", "document_id": "sql-data_types-map", "content": "`MAP`s are similar to `STRUCT`s in that they are an ordered list of key-value pairs. However, `MAP`s do not need to have the same keys present for each row, and thus are suitable for use cases where the schema is unknown beforehand or varies per row.\n\n`MAP`s must have a single type for all keys, and a single type for all values. Keys and values can be any type, and the type of the keys does not need to match the type of the values (e.g., a `MAP` of `VARCHAR` to `INT` is valid). `MAP`s may not have duplicate keys. `MAP`s return `NULL` if a key is not found rather than throwing an error as structs do.\n\nIn contrast, `STRUCT`s must have string keys, but each value may have a different type. See the [data types overview]({% link docs/stable/sql/data_types/overview.md %}) for a comparison between nested data types.\n\nTo construct a `MAP`, use the bracket syntax preceded by the `MAP` keyword.", "position": 0, "token_count": 250, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-data_types-map-000", "document_id": "sql-data_types-map", "position": 0, "token_count": 250, "has_code": false, "overlap_with_previous": false, "section_hierarchy": [], "file_path": "sql/data_types/map.md", "url": "/sql/data_types/map", "title": "Map Type", "category": null, "tags": [], "section_url": "/sql/data_types/map"}}
{"chunk_id": "sql-data_types-map-001", "document_id": "sql-data_types-map", "content": "## Creating Maps\n\nA map with `VARCHAR` keys and `INTEGER` values. This returns `{key1=10, key2=20, key3=30}`:\n\n```sql\nSELECT MAP {'key1': 10, 'key2': 20, 'key3': 30};\n```\n\nAlternatively use the `map_from_entries` function. This returns `{key1=10, key2=20, key3=30}`:\n\n```sql\nSELECT map_from_entries([('key1', 10), ('key2', 20), ('key3', 30)]);\n```\n\nA map can be also created using two lists: keys and values. This returns `{key1=10, key2=20, key3=30}`:\n\n```sql\nSELECT MAP(['key1', 'key2', 'key3'], [10, 20, 30]);", "position": 1, "token_count": 219, "has_code": true, "section_hierarchy": ["Creating Maps"], "metadata": {"chunk_id": "sql-data_types-map-001", "document_id": "sql-data_types-map", "position": 1, "token_count": 219, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Creating Maps"], "file_path": "sql/data_types/map.md", "url": "/sql/data_types/map", "title": "Map Type", "category": null, "tags": [], "section_url": "/sql/data_types/map#creating-maps"}}
{"chunk_id": "sql-data_types-map-002", "document_id": "sql-data_types-map", "content": "```\n\nA map can also use `INTEGER` keys and `NUMERIC` values. This returns `{1=42.001, 5=-32.100}`:\n\n```sql\nSELECT MAP {1: 42.001, 5: -32.1};\n```\n\nKeys and/or values can also be nested types. This returns `{[a, b]=[1.1, 2.2], [c, d]=[3.3, 4.4]}`:\n\n```sql\nSELECT MAP {['a', 'b']: [1.1, 2.2], ['c', 'd']: [3.3, 4.4]};\n```\n\nCreate a table with a map column that has `INTEGER` keys and `DOUBLE` values:\n\n```sql\nCREATE TABLE tbl (col MAP(INTEGER, DOUBLE));\n```", "position": 2, "token_count": 205, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-data_types-map-002", "document_id": "sql-data_types-map", "position": 2, "token_count": 205, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/data_types/map.md", "url": "/sql/data_types/map", "title": "Map Type", "category": null, "tags": [], "section_url": "/sql/data_types/map"}}
{"chunk_id": "sql-data_types-map-003", "document_id": "sql-data_types-map", "content": "## Retrieving from Maps\n\n`MAP` values can be retrieved using the `map_extract_value` function or bracket notation:\n\n```sql\nSELECT MAP {'key1': 5, 'key2': 43}['key1'];\n```\n\n```text\n5\n```\n\nIf the key has the wrong type, an error is thrown. If it has the correct type but is merely not contained in the map, a `NULL` value is returned:\n\n```sql\nSELECT MAP {'key1': 5, 'key2': 43}['key3'];\n```\n\n```text\nNULL\n```\n\nThe `map_extract` function (and its synonym `element_at`) can be used to retrieve a value wrapped in a list; it returns an empty list if the key is not contained in the map:\n\n```sql\nSELECT map_extract(MAP {'key1': 5, 'key2': 43}, 'key1');\n```\n\n```text\n[5]", "position": 3, "token_count": 230, "has_code": true, "section_hierarchy": ["Retrieving from Maps"], "metadata": {"chunk_id": "sql-data_types-map-003", "document_id": "sql-data_types-map", "position": 3, "token_count": 230, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Retrieving from Maps"], "file_path": "sql/data_types/map.md", "url": "/sql/data_types/map", "title": "Map Type", "category": null, "tags": [], "section_url": "/sql/data_types/map#retrieving-from-maps"}}
{"chunk_id": "sql-data_types-map-004", "document_id": "sql-data_types-map", "content": "```\n\n```text\n[5]\n```\n\n```sql\nSELECT MAP {'key1': 5, 'key2': 43}['key3'];\n```\n\n```text\n[]\n```", "position": 4, "token_count": 55, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-data_types-map-004", "document_id": "sql-data_types-map", "position": 4, "token_count": 55, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/data_types/map.md", "url": "/sql/data_types/map", "title": "Map Type", "category": null, "tags": [], "section_url": "/sql/data_types/map"}}
{"chunk_id": "sql-data_types-map-005", "document_id": "sql-data_types-map", "content": "## Comparison Operators\n\nNested types can be compared using all the [comparison operators]({% link docs/stable/sql/expressions/comparison_operators.md %}).\nThese comparisons can be used in [logical expressions]({% link docs/stable/sql/expressions/logical_operators.md %})\nfor both `WHERE` and `HAVING` clauses, as well as for creating [Boolean values]({% link docs/stable/sql/data_types/boolean.md %}).\n\nThe ordering is defined positionally in the same way that words can be ordered in a dictionary.\n`NULL` values compare greater than all other values and are considered equal to each other.\n\nAt the top level, `NULL` nested values obey standard SQL `NULL` comparison rules:\ncomparing a `NULL` nested value to a non-`NULL` nested value produces a `NULL` result.\nComparing nested value _members_, however, uses the internal nested value rules for `NULL`s,\nand a `NULL` nested value member will compare above a non-`NULL` nested value member.", "position": 5, "token_count": 244, "has_code": false, "section_hierarchy": ["Comparison Operators"], "metadata": {"chunk_id": "sql-data_types-map-005", "document_id": "sql-data_types-map", "position": 5, "token_count": 244, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Comparison Operators"], "file_path": "sql/data_types/map.md", "url": "/sql/data_types/map", "title": "Map Type", "category": null, "tags": [], "section_url": "/sql/data_types/map#comparison-operators"}}
{"chunk_id": "sql-data_types-map-006", "document_id": "sql-data_types-map", "content": "## Functions\n\nSee [Map Functions]({% link docs/stable/sql/functions/map.md %}).", "position": 6, "token_count": 30, "has_code": false, "section_hierarchy": ["Functions"], "metadata": {"chunk_id": "sql-data_types-map-006", "document_id": "sql-data_types-map", "position": 6, "token_count": 30, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Functions"], "file_path": "sql/data_types/map.md", "url": "/sql/data_types/map", "title": "Map Type", "category": null, "tags": [], "section_url": "/sql/data_types/map#functions"}}

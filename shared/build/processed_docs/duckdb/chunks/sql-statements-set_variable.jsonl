{"chunk_id": "sql-statements-set_variable-000", "document_id": "sql-statements-set_variable", "content": "DuckDB supports the definition of SQL-level variables using the `SET VARIABLE` and `RESET VARIABLE` statements.\n\n## Variable Scopes\n\nDuckDB supports two levels of variable scopes:\n\n| Scope | Description |\n|---|---|\n| `SESSION` | Variables with a `SESSION` scope are local to you and only affect the current session. |\n| `GLOBAL` | Variables with a `GLOBAL` scope are specific [configuration option variables](https://duckdb.org/docs/stable/configuration/overview.html#global-configuration-options) that affect the entire DuckDB instance and all sessions. For example, see [Set a Global Variable]({% link docs/stable/sql/statements/set.md%}#set-a-global-variable). |", "position": 0, "token_count": 174, "has_code": false, "section_hierarchy": ["Variable Scopes"], "metadata": {"chunk_id": "sql-statements-set_variable-000", "document_id": "sql-statements-set_variable", "position": 0, "token_count": 174, "has_code": false, "overlap_with_previous": false, "section_hierarchy": ["Variable Scopes"], "file_path": "sql/statements/set_variable.md", "url": "/sql/statements/set_variable", "title": "SET VARIABLE and RESET VARIABLE Statements", "category": null, "tags": [], "section_url": "/sql/statements/set_variable#variable-scopes"}}
{"chunk_id": "sql-statements-set_variable-001", "document_id": "sql-statements-set_variable", "content": "## `SET VARIABLE`\n\nThe `SET VARIABLE` statement assigns a value to a variable, which can be accessed using the `getvariable` call:\n\n```sql\nSET VARIABLE my_var = 30;\nSELECT 20 + getvariable('my_var') AS total;\n```\n\n| total |\n|------:|\n| 50 |\n\nIf `SET VARIABLE` is invoked on an existing variable, it will overwrite its value:\n\n```sql\nSET VARIABLE my_var = 30;\nSET VARIABLE my_var = 100;\nSELECT 20 + getvariable('my_var') AS total;\n```\n\n| total |\n|------:|\n| 120 |\n\nVariables can have different types:\n\n```sql\nSET VARIABLE my_date = DATE '2018-07-13';\nSET VARIABLE my_string = 'Hello world';\nSET VARIABLE my_map = MAP {'k1': 10, 'k2': 20};", "position": 1, "token_count": 212, "has_code": true, "section_hierarchy": ["`SET VARIABLE`"], "metadata": {"chunk_id": "sql-statements-set_variable-001", "document_id": "sql-statements-set_variable", "position": 1, "token_count": 212, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["`SET VARIABLE`"], "file_path": "sql/statements/set_variable.md", "url": "/sql/statements/set_variable", "title": "SET VARIABLE and RESET VARIABLE Statements", "category": null, "tags": [], "section_url": "/sql/statements/set_variable#set-variable"}}
{"chunk_id": "sql-statements-set_variable-002", "document_id": "sql-statements-set_variable", "content": "```\n\nVariables can also be assigned to results of queries:\n\n```sql\n-- write some CSV files\nCOPY (SELECT 42 AS a) TO 'test1.csv';\nCOPY (SELECT 84 AS a) TO 'test2.csv';\n\n-- add a list of CSV files to a table\nCREATE TABLE csv_files (file VARCHAR);\nINSERT INTO csv_files VALUES ('test1.csv'), ('test2.csv');\n\n-- initialize a variable with the list of csv files\nSET VARIABLE list_of_files = (SELECT list(file) FROM csv_files);\n\n-- read the CSV files\nSELECT * FROM read_csv(getvariable('list_of_files'), filename := True);", "position": 2, "token_count": 180, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-set_variable-002", "document_id": "sql-statements-set_variable", "position": 2, "token_count": 180, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/set_variable.md", "url": "/sql/statements/set_variable", "title": "SET VARIABLE and RESET VARIABLE Statements", "category": null, "tags": [], "section_url": "/sql/statements/set_variable"}}
{"chunk_id": "sql-statements-set_variable-003", "document_id": "sql-statements-set_variable", "content": "```\n\n| a | filename |\n|-----:|------------:|\n| 42 | test.csv |\n| 84 | test2.csv |\n\nIf a variable is not set, the `getvariable` function returns `NULL`:\n\n```sql\nSELECT getvariable('undefined_var') AS result;\n```\n\n| result |\n|--------|\n| NULL |\n\nThe `getvariable` function can also be used in a [`COLUMNS` expression]({% link docs/stable/sql/expressions/star.md %}#columns-expression):\n\n```sql\nSET VARIABLE column_to_exclude = 'col1';\nCREATE TABLE tbl AS SELECT 12 AS col0, 34 AS col1, 56 AS col2;\nSELECT COLUMNS(c -> c != getvariable('column_to_exclude')) FROM tbl;\n```\n\n| col0 | col2 |\n|-----:|-----:|\n| 12 | 56 |", "position": 3, "token_count": 244, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-statements-set_variable-003", "document_id": "sql-statements-set_variable", "position": 3, "token_count": 244, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/statements/set_variable.md", "url": "/sql/statements/set_variable", "title": "SET VARIABLE and RESET VARIABLE Statements", "category": null, "tags": [], "section_url": "/sql/statements/set_variable"}}
{"chunk_id": "sql-statements-set_variable-004", "document_id": "sql-statements-set_variable", "content": "### Syntax", "position": 4, "token_count": 6, "has_code": false, "section_hierarchy": ["Syntax"], "metadata": {"chunk_id": "sql-statements-set_variable-004", "document_id": "sql-statements-set_variable", "position": 4, "token_count": 6, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Syntax"], "file_path": "sql/statements/set_variable.md", "url": "/sql/statements/set_variable", "title": "SET VARIABLE and RESET VARIABLE Statements", "category": null, "tags": [], "section_url": "/sql/statements/set_variable#syntax"}}
{"chunk_id": "sql-statements-set_variable-005", "document_id": "sql-statements-set_variable", "content": "## `RESET VARIABLE`\n\nThe `RESET VARIABLE` statement unsets a variable.\n\n```sql\nSET VARIABLE my_var = 30;\nRESET VARIABLE my_var;\nSELECT getvariable('my_var') AS my_var;\n```\n\n| my_var |\n|--------|\n| NULL |\n\n### Syntax", "position": 5, "token_count": 79, "has_code": true, "section_hierarchy": ["Syntax"], "metadata": {"chunk_id": "sql-statements-set_variable-005", "document_id": "sql-statements-set_variable", "position": 5, "token_count": 79, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Syntax"], "file_path": "sql/statements/set_variable.md", "url": "/sql/statements/set_variable", "title": "SET VARIABLE and RESET VARIABLE Statements", "category": null, "tags": [], "section_url": "/sql/statements/set_variable#syntax"}}

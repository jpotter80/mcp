{"chunk_id": "guides-network_cloud_storage-s3_iceberg_import-000", "document_id": "guides-network_cloud_storage-s3_iceberg_import", "content": "## Prerequisites\n\nTo load an Iceberg file from S3, both the [`httpfs`]({% link docs/stable/core_extensions/httpfs/overview.md %}) and [`iceberg`]({% link docs/stable/core_extensions/iceberg/overview.md %}) extensions are required. They can be installed using the `INSTALL` SQL command. The extensions only need to be installed once.\n\n```sql\nINSTALL httpfs;\nINSTALL iceberg;\n```\n\nTo load the extensions for usage, use the `LOAD` command:\n\n```sql\nLOAD httpfs;\nLOAD iceberg;\n```", "position": 0, "token_count": 146, "has_code": true, "section_hierarchy": ["Prerequisites"], "metadata": {"chunk_id": "guides-network_cloud_storage-s3_iceberg_import-000", "document_id": "guides-network_cloud_storage-s3_iceberg_import", "position": 0, "token_count": 146, "has_code": true, "overlap_with_previous": false, "section_hierarchy": ["Prerequisites"], "file_path": "guides/network_cloud_storage/s3_iceberg_import.md", "url": "/guides/network_cloud_storage/s3_iceberg_import", "title": "S3 Iceberg Import", "category": null, "tags": [], "section_url": "/guides/network_cloud_storage/s3_iceberg_import#prerequisites"}}
{"chunk_id": "guides-network_cloud_storage-s3_iceberg_import-001", "document_id": "guides-network_cloud_storage-s3_iceberg_import", "content": "## Credentials\n\nAfter loading the extensions, set up the credentials and S3 region to read data. You may either use an access key and secret, or a token.\n\n```sql\nCREATE SECRET (\n TYPE s3,\n KEY_ID '⟨AKIAIOSFODNN7EXAMPLE⟩',\n SECRET '⟨wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY⟩',\n REGION '⟨us-east-1⟩'\n);\n```\n\nAlternatively, use the [`aws` extension]({% link docs/stable/core_extensions/aws.md %}) to retrieve the credentials automatically:\n\n```sql\nCREATE SECRET (\n TYPE s3,\n PROVIDER credential_chain\n);\n```", "position": 1, "token_count": 167, "has_code": true, "section_hierarchy": ["Credentials"], "metadata": {"chunk_id": "guides-network_cloud_storage-s3_iceberg_import-001", "document_id": "guides-network_cloud_storage-s3_iceberg_import", "position": 1, "token_count": 167, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Credentials"], "file_path": "guides/network_cloud_storage/s3_iceberg_import.md", "url": "/guides/network_cloud_storage/s3_iceberg_import", "title": "S3 Iceberg Import", "category": null, "tags": [], "section_url": "/guides/network_cloud_storage/s3_iceberg_import#credentials"}}
{"chunk_id": "guides-network_cloud_storage-s3_iceberg_import-002", "document_id": "guides-network_cloud_storage-s3_iceberg_import", "content": "## Loading Iceberg Tables from S3\n\nAfter the extensions are set up and the S3 credentials are correctly configured, Iceberg table can be read from S3 using the following command:\n\n```sql\nSELECT *\nFROM iceberg_scan('s3://⟨bucket⟩/⟨iceberg_table_folder⟩/metadata/⟨id⟩.metadata.json');\n```\n\nNote that you need to link directly to the manifest file. Otherwise you'll get an error like this:\n\n```console\nIO Error:\nCannot open file \"s3://bucket/iceberg_table_folder/metadata/version-hint.text\": No such file or directory\n```", "position": 2, "token_count": 151, "has_code": true, "section_hierarchy": ["Loading Iceberg Tables from S3"], "metadata": {"chunk_id": "guides-network_cloud_storage-s3_iceberg_import-002", "document_id": "guides-network_cloud_storage-s3_iceberg_import", "position": 2, "token_count": 151, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Loading Iceberg Tables from S3"], "file_path": "guides/network_cloud_storage/s3_iceberg_import.md", "url": "/guides/network_cloud_storage/s3_iceberg_import", "title": "S3 Iceberg Import", "category": null, "tags": [], "section_url": "/guides/network_cloud_storage/s3_iceberg_import#loading-iceberg-tables-from-s3"}}

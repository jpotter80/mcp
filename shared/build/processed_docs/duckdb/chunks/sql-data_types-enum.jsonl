{"chunk_id": "sql-data_types-enum-000", "document_id": "sql-data_types-enum", "content": "| Name | Description |\n|:--|:-----|\n| `ENUM` | Dictionary representing all possible string values of a column |\n\nThe enum type represents a dictionary data structure with all possible unique values of a column. For example, a column storing the days of the week can be an enum holding all possible days. Enums are particularly interesting for string columns with low cardinality (i.e., fewer distinct values). This is because the column only stores a numerical reference to the string in the enum dictionary, resulting in immense savings in disk storage and faster query performance.", "position": 0, "token_count": 128, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-data_types-enum-000", "document_id": "sql-data_types-enum", "position": 0, "token_count": 128, "has_code": false, "overlap_with_previous": false, "section_hierarchy": [], "file_path": "sql/data_types/enum.md", "url": "/sql/data_types/enum", "title": "Enum Data Type", "category": null, "tags": [], "section_url": "/sql/data_types/enum"}}
{"chunk_id": "sql-data_types-enum-001", "document_id": "sql-data_types-enum", "content": "## Creating Enums\n\nYou can create enum using hardcoded values:\n\n```sql\nCREATE TYPE mood AS ENUM ('sad', 'ok', 'happy');\n-- This statement will fail since enums cannot hold NULL values:\n-- CREATE TYPE mood AS ENUM ('sad', NULL);\n-- This statement will fail since enum values must be unique:\n-- CREATE TYPE mood AS ENUM ('sad', 'sad');\n```\n\nYou can create enums in a specific schema:\n\n```sql\nCREATE SCHEMA my_schema;\nCREATE TYPE my_schema.mood AS ENUM ('sad', 'ok', 'happy');\n```\n\nAnonymous enums can be created on the fly during [casting]({% link docs/preview/sql/expressions/cast.md %}):\n\n```sql\nSELECT 'clubs'::ENUM ('spades', 'hearts', 'diamonds', 'clubs');", "position": 1, "token_count": 222, "has_code": true, "section_hierarchy": ["Creating Enums"], "metadata": {"chunk_id": "sql-data_types-enum-001", "document_id": "sql-data_types-enum", "position": 1, "token_count": 222, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Creating Enums"], "file_path": "sql/data_types/enum.md", "url": "/sql/data_types/enum", "title": "Enum Data Type", "category": null, "tags": [], "section_url": "/sql/data_types/enum#creating-enums"}}
{"chunk_id": "sql-data_types-enum-002", "document_id": "sql-data_types-enum", "content": "```\n\nYou can also create an enum using a `SELECT` statement that returns a single column of `VARCHAR`s.\nThe set of values from the select statement will be deduplicated automatically,\nand `NULL` values will be ignored:\n\n```sql\nCREATE TYPE region AS ENUM (SELECT region FROM sales_data);\n```\n\nIf you are importing data from a file, you can create an enum for a `VARCHAR` column before importing:\n\n```sql\nCREATE TYPE region AS ENUM (SELECT region FROM 'sales_data.csv');\nCREATE TABLE sales_data (amount INTEGER, region region);\nCOPY sales_data FROM 'sales_data.csv';\n```", "position": 2, "token_count": 160, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-data_types-enum-002", "document_id": "sql-data_types-enum", "position": 2, "token_count": 160, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/data_types/enum.md", "url": "/sql/data_types/enum", "title": "Enum Data Type", "category": null, "tags": [], "section_url": "/sql/data_types/enum"}}
{"chunk_id": "sql-data_types-enum-003", "document_id": "sql-data_types-enum", "content": "## Using Enums\n\nEnum values are case-sensitive, so 'maltese' and 'Maltese' are considered different values:\n\n```sql\nCREATE TYPE breed AS ENUM ('maltese', 'Maltese');\n-- Will return false\nSELECT 'maltese'::breed = 'Maltese'::breed;\n-- Will error\nSELECT 'MALTESE'::breed;\n```\n\nAfter an enum has been created, it can be used anywhere a standard built-in type is used.\nFor example, we can create a table with a column that references the enum.\n\n```sql\nCREATE TABLE person (\n name TEXT,\n current_mood mood\n);\nINSERT INTO person VALUES\n ('Pedro', 'happy'),\n ('Mark', NULL),\n ('Pagliacci', 'sad'),\n ('Mr. Mackey', 'ok');\n```\n\nThe following query will fail since the mood type does not have `quackity-quack` value.\n\n```sql\nINSERT INTO person VALUES ('Hannes', 'quackity-quack');\n```", "position": 3, "token_count": 238, "has_code": true, "section_hierarchy": ["Using Enums"], "metadata": {"chunk_id": "sql-data_types-enum-003", "document_id": "sql-data_types-enum", "position": 3, "token_count": 238, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Using Enums"], "file_path": "sql/data_types/enum.md", "url": "/sql/data_types/enum", "title": "Enum Data Type", "category": null, "tags": [], "section_url": "/sql/data_types/enum#using-enums"}}
{"chunk_id": "sql-data_types-enum-004", "document_id": "sql-data_types-enum", "content": "## Enums vs. Strings\n\nDuckDB enums are automatically cast to `VARCHAR` types whenever necessary.\nThis characteristic allows for comparisons between different enums, or an enum and a `VARCHAR` column.\n\nIt also allows for an enum to be used in any `VARCHAR` function. For example:\n\n```sql\nSELECT current_mood, regexp_matches(current_mood, '.*a.*') AS contains_a FROM person;\n```\n\n| current_mood | contains_a |\n|:-------------|:-----------|\n| happy | true |\n| NULL | NULL |\n| sad | true |\n| ok | false |\n\nWhen comparing two different enum types, DuckDB will cast both to strings and perform a string comparison:\n\n```sql\nCREATE TYPE new_mood AS ENUM ('happy', 'anxious');\nSELECT * FROM person\nWHERE current_mood = 'happy'::new_mood;\n-- Equivalent to `WHERE current_mood::VARCHAR = 'happy'::VARCHAR`", "position": 4, "token_count": 251, "has_code": true, "section_hierarchy": ["Enums vs. Strings"], "metadata": {"chunk_id": "sql-data_types-enum-004", "document_id": "sql-data_types-enum", "position": 4, "token_count": 251, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Enums vs. Strings"], "file_path": "sql/data_types/enum.md", "url": "/sql/data_types/enum", "title": "Enum Data Type", "category": null, "tags": [], "section_url": "/sql/data_types/enum#enums-vs-strings"}}
{"chunk_id": "sql-data_types-enum-005", "document_id": "sql-data_types-enum", "content": "```\n\n| name | current_mood |\n|:----------|:-------------|\n| Pedro | happy |\n\nWhen comparing an enum to a `VARCHAR`, DuckDB will cast the enum to `VARCHAR` and perform a string comparison:\n\n```sql\nSELECT * FROM person\nWHERE current_mood = name;\n-- Equivalent to `WHERE current_mood::VARCHAR = name`\n-- No rows returned\n```\n\nWhen comparing against a constant string, DuckDB will perform an optimization\nand `try_cast(⟨constant string⟩, enum_type)`{:.language-sql .highlight} so that physically\nwe are doing an integer comparison instead of a string comparison\n(but logically it is still a string comparison):\n\n```sql\nSELECT * FROM person\nWHERE current_mood = 'sad';\n-- Equivalent to `WHERE current_mood::VARCHAR = 'sad'`", "position": 5, "token_count": 218, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-data_types-enum-005", "document_id": "sql-data_types-enum", "position": 5, "token_count": 218, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/data_types/enum.md", "url": "/sql/data_types/enum", "title": "Enum Data Type", "category": null, "tags": [], "section_url": "/sql/data_types/enum"}}
{"chunk_id": "sql-data_types-enum-006", "document_id": "sql-data_types-enum", "content": "```\n\n| name | current_mood |\n|:----------|:-------------|\n| Pagliacci | sad |\n\n> Warning This means that comparing against a random (non-equivalent) string always results in `false` (and does not error):\n\n```sql\nSELECT * FROM person\nWHERE current_mood = 'bogus';\n-- Equivalent to `WHERE current_mood::VARCHAR = 'bogus'`\n-- No rows returned\n```\n\nIf you want to enforce type-safety, cast to the enum explicitly:\n\n```sql\nSELECT * FROM person\nWHERE current_mood = 'bogus'::mood;\n-- Conversion Error: Could not convert string 'bogus' to UINT8\n```", "position": 6, "token_count": 178, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-data_types-enum-006", "document_id": "sql-data_types-enum", "position": 6, "token_count": 178, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/data_types/enum.md", "url": "/sql/data_types/enum", "title": "Enum Data Type", "category": null, "tags": [], "section_url": "/sql/data_types/enum"}}
{"chunk_id": "sql-data_types-enum-007", "document_id": "sql-data_types-enum", "content": "## Ordering of Enums\n\nEnum values are ordered according to their order in the enum's definition. For example:\n\n```sql\nCREATE TYPE priority AS ENUM ('low', 'medium', 'high');\nSELECT 'low'::priority Warning If you compare an enum to a non-enum (e.g., a `VARCHAR` or a different enum type),\nthe enum will first be cast to a string (as described in the previous section),\nand the comparison will be done lexicographically as with strings:\n\n```sql\nCREATE TABLE tasks (name TEXT, priority_level priority);\nINSERT INTO tasks VALUES ('a', 'low'), ('b', 'medium'), ('c', 'high');\n-- WARNING!\n-- Equivalent to `WHERE priority_level::VARCHAR >= 'medium'`\nSELECT * FROM tasks\nWHERE priority_level >= 'medium';\n-- Misses the 'high' priority task!", "position": 7, "token_count": 224, "has_code": true, "section_hierarchy": ["Ordering of Enums"], "metadata": {"chunk_id": "sql-data_types-enum-007", "document_id": "sql-data_types-enum", "position": 7, "token_count": 224, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Ordering of Enums"], "file_path": "sql/data_types/enum.md", "url": "/sql/data_types/enum", "title": "Enum Data Type", "category": null, "tags": [], "section_url": "/sql/data_types/enum#ordering-of-enums"}}
{"chunk_id": "sql-data_types-enum-008", "document_id": "sql-data_types-enum", "content": "```\n\n| name | priority_level |\n|:-----|:----------------|\n| b | medium |\n\nSo, if you want to e.g. \"get all priorities at or above `medium`\" then explicitly cast to the enum type:\n\n```sql\nSELECT * FROM tasks\nWHERE priority_level >= 'medium'::priority;\n```\n\n| name | priority_level |\n|:-----|:----------------|\n| b | medium |\n| c | high |", "position": 8, "token_count": 140, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-data_types-enum-008", "document_id": "sql-data_types-enum", "position": 8, "token_count": 140, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/data_types/enum.md", "url": "/sql/data_types/enum", "title": "Enum Data Type", "category": null, "tags": [], "section_url": "/sql/data_types/enum"}}
{"chunk_id": "sql-data_types-enum-009", "document_id": "sql-data_types-enum", "content": "## Functions\n\nSee [Enum Functions]({% link docs/preview/sql/functions/enum.md %}).\n\nFor example, show the available values in the `moods` enum using the `enum_range` function:\n\n```sql\nSELECT enum_range(NULL::moods) AS my_enum_range;\n```\n\n| my_enum_range |\n|--------------------|\n| `[sad, ok, happy]` |\n\n## Enum Removal\n\nEnum types are stored in the catalog, and a catalog dependency is added to each table that uses them. It is possible to drop an enum from the catalog using the following command:\n\n```sql\nDROP TYPE ⟨enum_name⟩;\n```\n\nCurrently, it is possible to drop enums that are used in tables without affecting the tables.\n\n> Warning This behavior of the enum removal feature is subject to change. In future releases, it is expected that any dependent columns must be removed before dropping the enum, or the enum must be dropped with the additional `CASCADE` parameter.", "position": 9, "token_count": 251, "has_code": true, "section_hierarchy": ["Enum Removal"], "metadata": {"chunk_id": "sql-data_types-enum-009", "document_id": "sql-data_types-enum", "position": 9, "token_count": 251, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Enum Removal"], "file_path": "sql/data_types/enum.md", "url": "/sql/data_types/enum", "title": "Enum Data Type", "category": null, "tags": [], "section_url": "/sql/data_types/enum#enum-removal"}}

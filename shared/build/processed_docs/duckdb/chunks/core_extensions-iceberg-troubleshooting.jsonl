{"chunk_id": "core_extensions-iceberg-troubleshooting-000", "document_id": "core_extensions-iceberg-troubleshooting", "content": "## Limitations\n\n* Reading tables with deletes is not yet supported.\n\n## Curl Request Fails\n\n### Problem\n\nWhen trying to attach to an Iceberg REST Catalog endpoint, DuckDB returns the following error:\n\n```console\nIO Error:\nCurl Request to '/v1/oauth/tokens' failed with error: 'URL using bad/illegal format or missing URL'\n```\n\n### Solution\n\nMake sure that you have the latest Iceberg extension installed:\n\n```batch\nduckdb\n```\n\n```plsql\nFORCE INSTALL iceberg FROM core_nightly;\n```\n\nExit DuckDB and start a new session:\n\n```batch\nduckdb\n```\n\n```plsql\nLOAD iceberg;\n```", "position": 0, "token_count": 164, "has_code": true, "section_hierarchy": ["Solution"], "metadata": {"chunk_id": "core_extensions-iceberg-troubleshooting-000", "document_id": "core_extensions-iceberg-troubleshooting", "position": 0, "token_count": 164, "has_code": true, "overlap_with_previous": false, "section_hierarchy": ["Solution"], "file_path": "core_extensions/iceberg/troubleshooting.md", "url": "/core_extensions/iceberg/troubleshooting", "title": "Troubleshooting", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/troubleshooting#solution"}}
{"chunk_id": "core_extensions-iceberg-troubleshooting-001", "document_id": "core_extensions-iceberg-troubleshooting", "content": "## HTTP Error 403\n\n### Problem\n\nWhen trying to list the tables in a remote-attached catalog, DuckDB returns the following error:\n\n```sql\nSHOW ALL TABLES;\n```\n\n```console\nFailed to query https://s3tables.us-east-2.amazonaws.com/iceberg/v1/arn:aws:s3tables:... http error 403 thrown.\nMessage: {\"message\":\"The security token included in the request is invalid.\"}\n```\n\n### Solution\n\nUse the `duckdb_secrets()` function to check whether DuckDB loaded the required credentials:\n\n```sql\n.mode line\nFROM duckdb_secrets();\n```\n\nIf you do not see your credentials, set them manually using the following secret:\n\n```sql\nCREATE SECRET (\n TYPE s3,\n KEY_ID '⟨AKIAIOSFODNN7EXAMPLE⟩',\n SECRET '⟨wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY⟩',\n REGION '⟨us-east-1⟩'\n);\n```", "position": 1, "token_count": 249, "has_code": true, "section_hierarchy": ["Solution"], "metadata": {"chunk_id": "core_extensions-iceberg-troubleshooting-001", "document_id": "core_extensions-iceberg-troubleshooting", "position": 1, "token_count": 249, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Solution"], "file_path": "core_extensions/iceberg/troubleshooting.md", "url": "/core_extensions/iceberg/troubleshooting", "title": "Troubleshooting", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/troubleshooting#solution"}}

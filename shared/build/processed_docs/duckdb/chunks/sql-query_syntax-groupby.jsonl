{"chunk_id": "sql-query_syntax-groupby-000", "document_id": "sql-query_syntax-groupby", "content": "The `GROUP BY` clause specifies which grouping columns should be used to perform any aggregations in the `SELECT` clause.\nIf the `GROUP BY` clause is specified, the query is always an aggregate query, even if no aggregations are present in the `SELECT` clause.\n\nWhen a `GROUP BY` clause is specified, all tuples that have matching data in the grouping columns (i.e., all tuples that belong to the same group) will be combined.\nThe values of the grouping columns themselves are unchanged, and any other columns can be combined using an [aggregate function]({% link docs/stable/sql/functions/aggregates.md %}) (such as `count`, `sum`, `avg`, etc).", "position": 0, "token_count": 162, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-query_syntax-groupby-000", "document_id": "sql-query_syntax-groupby", "position": 0, "token_count": 162, "has_code": false, "overlap_with_previous": false, "section_hierarchy": [], "file_path": "sql/query_syntax/groupby.md", "url": "/sql/query_syntax/groupby", "title": "GROUP BY Clause", "category": null, "tags": [], "section_url": "/sql/query_syntax/groupby"}}
{"chunk_id": "sql-query_syntax-groupby-001", "document_id": "sql-query_syntax-groupby", "content": "## `GROUP BY ALL`\n\nUse `GROUP BY ALL` to `GROUP BY` all columns in the `SELECT` statement that are not wrapped in aggregate functions.\nThis simplifies the syntax by allowing the columns list to be maintained in a single location, and prevents bugs by keeping the `SELECT` granularity aligned to the `GROUP BY` granularity (e.g., it prevents duplication).\nSee examples below and additional examples in the [“Friendlier SQL with DuckDB” blog post]({% post_url 2022-05-04-friendlier-sql %}#group-by-all).\n\n## Multiple Dimensions\n\nNormally, the `GROUP BY` clause groups along a single dimension.\nUsing the [`GROUPING SETS`, `CUBE` or `ROLLUP` clauses]({% link docs/stable/sql/query_syntax/grouping_sets.md %}) it is possible to group along multiple dimensions.\nSee the [`GROUPING SETS`]({% link docs/stable/sql/query_syntax/grouping_sets.md %}) page for more information.", "position": 1, "token_count": 241, "has_code": false, "section_hierarchy": ["Multiple Dimensions"], "metadata": {"chunk_id": "sql-query_syntax-groupby-001", "document_id": "sql-query_syntax-groupby", "position": 1, "token_count": 241, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Multiple Dimensions"], "file_path": "sql/query_syntax/groupby.md", "url": "/sql/query_syntax/groupby", "title": "GROUP BY Clause", "category": null, "tags": [], "section_url": "/sql/query_syntax/groupby#multiple-dimensions"}}
{"chunk_id": "sql-query_syntax-groupby-002", "document_id": "sql-query_syntax-groupby", "content": "## Examples\n\nCount the number of entries in the `addresses` table that belong to each different city:\n\n```sql\nSELECT city, count(*)\nFROM addresses\nGROUP BY city;\n```\n\nCompute the average income per city per street_name:\n\n```sql\nSELECT city, street_name, avg(income)\nFROM addresses\nGROUP BY city, street_name;\n```\n\n### `GROUP BY ALL` Examples\n\nGroup by city and street_name to remove any duplicate values:\n\n```sql\nSELECT city, street_name\nFROM addresses\nGROUP BY ALL;\n```\n\nCompute the average income per city per street_name. Since income is wrapped in an aggregate function, do not include it in the `GROUP BY`:\n\n```sql\nSELECT city, street_name, avg(income)\nFROM addresses\nGROUP BY ALL;\n-- GROUP BY city, street_name:\n```\n\n## Syntax", "position": 2, "token_count": 193, "has_code": true, "section_hierarchy": ["Syntax"], "metadata": {"chunk_id": "sql-query_syntax-groupby-002", "document_id": "sql-query_syntax-groupby", "position": 2, "token_count": 193, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Syntax"], "file_path": "sql/query_syntax/groupby.md", "url": "/sql/query_syntax/groupby", "title": "GROUP BY Clause", "category": null, "tags": [], "section_url": "/sql/query_syntax/groupby#syntax"}}

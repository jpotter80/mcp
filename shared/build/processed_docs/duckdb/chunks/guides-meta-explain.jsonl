{"chunk_id": "guides-meta-explain-000", "document_id": "guides-meta-explain", "content": "```sql\nEXPLAIN SELECT * FROM tbl;\n```\n\nThe `EXPLAIN` statement displays the physical plan, i.e., the query plan that will get executed,\nand is enabled by prepending the query with `EXPLAIN`.\nThe physical plan is a tree of operators that are executed in a specific order to produce the result of the query.\nTo generate an efficient physical plan, the query optimizer transforms the existing physical plan into a better physical plan.\n\nTo demonstrate, see the below example:\n\n```sql\nCREATE TABLE students (name VARCHAR, sid INTEGER);\nCREATE TABLE exams (eid INTEGER, subject VARCHAR, sid INTEGER);\nINSERT INTO students VALUES ('Mark', 1), ('Joe', 2), ('Matthew', 3);\nINSERT INTO exams VALUES (10, 'Physics', 1), (20, 'Chemistry', 2), (30, 'Literature', 3);\n\nEXPLAIN ANALYZE\n SELECT name\n FROM students\n JOIN exams USING (sid)\n WHERE name LIKE 'Ma%';", "position": 0, "token_count": 222, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "guides-meta-explain-000", "document_id": "guides-meta-explain", "position": 0, "token_count": 222, "has_code": true, "overlap_with_previous": false, "section_hierarchy": [], "file_path": "guides/meta/explain.md", "url": "/guides/meta/explain", "title": "EXPLAIN: Inspect Query Plans", "category": null, "tags": [], "section_url": "/guides/meta/explain"}}
{"chunk_id": "guides-meta-explain-001", "document_id": "guides-meta-explain", "content": "```", "position": 1, "token_count": 5, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "guides-meta-explain-001", "document_id": "guides-meta-explain", "position": 1, "token_count": 5, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/meta/explain.md", "url": "/guides/meta/explain", "title": "EXPLAIN: Inspect Query Plans", "category": null, "tags": [], "section_url": "/guides/meta/explain"}}
{"chunk_id": "guides-meta-explain-002", "document_id": "guides-meta-explain", "content": "```text\n┌─────────────────────────────┐\n│┌───────────────────────────┐│\n││ Physical Plan ││\n│└───────────────────────────┘│\n└─────────────────────────────┘\n┌───────────────────────────┐\n│ PROJECTION │\n│ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ │\n│ name │\n└─────────────┬─────────────┘\n┌─────────────┴─────────────┐\n│ HASH_JOIN │\n│ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ │\n│ INNER │\n│ sid = sid ├──────────────┐\n│ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ │ │\n│ EC: 1 │ │\n└─────────────┬─────────────┘ │\n┌─────────────┴─────────────┐┌─────────────┴─────────────┐\n│ SEQ_SCAN ││ FILTER │\n│ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ││ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ │\n│ exams ││ prefix(name, 'Ma') │", "position": 2, "token_count": 135, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "guides-meta-explain-002", "document_id": "guides-meta-explain", "position": 2, "token_count": 135, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/meta/explain.md", "url": "/guides/meta/explain", "title": "EXPLAIN: Inspect Query Plans", "category": null, "tags": [], "section_url": "/guides/meta/explain"}}
{"chunk_id": "guides-meta-explain-003", "document_id": "guides-meta-explain", "content": "│ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ││ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ │\n│ exams ││ prefix(name, 'Ma') │\n│ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ││ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ │\n│ sid ││ EC: 1 │\n│ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ││ │\n│ EC: 3 ││ │\n└───────────────────────────┘└─────────────┬─────────────┘\n ┌─────────────┴─────────────┐\n │ SEQ_SCAN │\n │ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ │\n │ students │\n │ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ │\n │ sid │\n │ name │\n │ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ │\n │ Filters: name>=Ma AND name│\n │ <Mb AND name IS NOT NULL │\n │ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ │", "position": 3, "token_count": 185, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "guides-meta-explain-003", "document_id": "guides-meta-explain", "position": 3, "token_count": 185, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/meta/explain.md", "url": "/guides/meta/explain", "title": "EXPLAIN: Inspect Query Plans", "category": null, "tags": [], "section_url": "/guides/meta/explain"}}
{"chunk_id": "guides-meta-explain-004", "document_id": "guides-meta-explain", "content": "│ Filters: name>=Ma AND name│\n │ <Mb AND name IS NOT NULL │\n │ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ │\n │ EC: 1 │\n └───────────────────────────┘", "position": 4, "token_count": 40, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "guides-meta-explain-004", "document_id": "guides-meta-explain", "position": 4, "token_count": 40, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/meta/explain.md", "url": "/guides/meta/explain", "title": "EXPLAIN: Inspect Query Plans", "category": null, "tags": [], "section_url": "/guides/meta/explain"}}
{"chunk_id": "guides-meta-explain-005", "document_id": "guides-meta-explain", "content": "```\n\nNote that the query is not actually executed – therefore, we can only see the estimated cardinality (`EC`) for each operator, which is calculated by using the statistics of the base tables and applying heuristics for each operator.", "position": 5, "token_count": 54, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "guides-meta-explain-005", "document_id": "guides-meta-explain", "position": 5, "token_count": 54, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/meta/explain.md", "url": "/guides/meta/explain", "title": "EXPLAIN: Inspect Query Plans", "category": null, "tags": [], "section_url": "/guides/meta/explain"}}
{"chunk_id": "guides-meta-explain-006", "document_id": "guides-meta-explain", "content": "## Additional Explain Settings\n\nThe `EXPLAIN` statement supports additional settings that can be used to control the output. The following settings are available:\n\nThe default setting. Only shows the physical plan.\n\n```sql\nPRAGMA explain_output = 'physical_only';\n```\n\nShows only the optimized plan.\n\n```sql\nPRAGMA explain_output = 'optimized_only';\n```\n\nShows both the physical and optimized plans.\n\n```sql\nPRAGMA explain_output = 'all';\n```\n\n## See Also\n\nFor more information, see the [”Profiling” page]({% link docs/stable/dev/profiling.md %}).", "position": 6, "token_count": 154, "has_code": true, "section_hierarchy": ["See Also"], "metadata": {"chunk_id": "guides-meta-explain-006", "document_id": "guides-meta-explain", "position": 6, "token_count": 154, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["See Also"], "file_path": "guides/meta/explain.md", "url": "/guides/meta/explain", "title": "EXPLAIN: Inspect Query Plans", "category": null, "tags": [], "section_url": "/guides/meta/explain#see-also"}}

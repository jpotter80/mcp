{"chunk_id": "core_extensions-iceberg-overview-000", "document_id": "core_extensions-iceberg-overview", "content": "The `iceberg` extension implements support for the [Apache Iceberg open table format](https://iceberg.apache.org/).\nIn this page we will go over the basic usage of the extension without the need to attach to an Iceberg catalog. For full support – including write support – see [how to attach Iceberg REST catalogs]({% link docs/stable/core_extensions/iceberg/iceberg_rest_catalogs.md %}).\n\n## Installing and Loading\n\nTo install the `iceberg` extension, run:\n\n```sql\nINSTALL iceberg;\n```\n\nNote that the `iceberg` extension is not autoloadable.\nTherefore, you need to load it before using it:\n\n```sql\nLOAD iceberg;\n```\n\n## Updating the Extension\n\nThe `iceberg` extension often receives updates between DuckDB releases.\nTo make sure that you have the latest version, [update your extensions]({% link docs/stable/sql/statements/update_extensions.md %}):\n\n```sql\nUPDATE EXTENSIONS;\n```", "position": 0, "token_count": 236, "has_code": true, "section_hierarchy": ["Updating the Extension"], "metadata": {"chunk_id": "core_extensions-iceberg-overview-000", "document_id": "core_extensions-iceberg-overview", "position": 0, "token_count": 236, "has_code": true, "overlap_with_previous": false, "section_hierarchy": ["Updating the Extension"], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview#updating-the-extension"}}
{"chunk_id": "core_extensions-iceberg-overview-001", "document_id": "core_extensions-iceberg-overview", "content": "## Usage\n\nTo test the examples, download the [`iceberg_data.zip`]({% link data/iceberg_data.zip %}) file and unzip it.", "position": 1, "token_count": 44, "has_code": false, "section_hierarchy": ["Usage"], "metadata": {"chunk_id": "core_extensions-iceberg-overview-001", "document_id": "core_extensions-iceberg-overview", "position": 1, "token_count": 44, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Usage"], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview#usage"}}
{"chunk_id": "core_extensions-iceberg-overview-002", "document_id": "core_extensions-iceberg-overview", "content": "### Common Parameters", "position": 2, "token_count": 7, "has_code": false, "section_hierarchy": ["Common Parameters"], "metadata": {"chunk_id": "core_extensions-iceberg-overview-002", "document_id": "core_extensions-iceberg-overview", "position": 2, "token_count": 7, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Common Parameters"], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview#common-parameters"}}
{"chunk_id": "core_extensions-iceberg-overview-003", "document_id": "core_extensions-iceberg-overview", "content": "| Parameter | Type | Default | Description |\n| ---------------------------- | ----------- | ------------------------------------------ | ---------------------------------------------------------- |\n| `allow_moved_paths` | `BOOLEAN` | `false` | Allows scanning Iceberg tables that are moved |\n| `metadata_compression_codec` | `VARCHAR` | `''` | Treats metadata files as when set to `'gzip'` |", "position": 3, "token_count": 218, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-iceberg-overview-003", "document_id": "core_extensions-iceberg-overview", "position": 3, "token_count": 218, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview"}}
{"chunk_id": "core_extensions-iceberg-overview-004", "document_id": "core_extensions-iceberg-overview", "content": "| `metadata_compression_codec` | `VARCHAR` | `''` | Treats metadata files as when set to `'gzip'` |\n| `snapshot_from_id` | `UBIGINT` | `NULL` | Access snapshot with a specific `id` |\n| `snapshot_from_timestamp` | `TIMESTAMP` | `NULL` | Access snapshot with a specific `timestamp` |\n| `version` | `VARCHAR` | `'?'` | Provides an explicit version string, hint file or guessing |\n| `version_name_format` | `VARCHAR` | `'v%s%s.metadata.json,%s%s.metadata.json'` | Controls how versions are converted to metadata file names |", "position": 4, "token_count": 181, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-iceberg-overview-004", "document_id": "core_extensions-iceberg-overview", "position": 4, "token_count": 181, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview"}}
{"chunk_id": "core_extensions-iceberg-overview-005", "document_id": "core_extensions-iceberg-overview", "content": "### Querying Individual Tables\n\n```sql\nSELECT count(*)\nFROM iceberg_scan('data/iceberg/lineitem_iceberg', allow_moved_paths = true);\n```\n\n| count_star() |\n|-------------:|\n| 51793 |\n\n> The `allow_moved_paths` option ensures that some path resolution is performed,\n> which allows scanning Iceberg tables that are moved.\n\nYou can also address specify the current manifest directly in the query, this may be resolved from the catalog prior to the query, in this example the manifest version is a UUID.\nTo do so, navigate to the `data/iceberg` directory and run:\n\n```sql\nSELECT count(*)\nFROM iceberg_scan('lineitem_iceberg/metadata/v1.metadata.json');", "position": 5, "token_count": 196, "has_code": true, "section_hierarchy": ["Querying Individual Tables"], "metadata": {"chunk_id": "core_extensions-iceberg-overview-005", "document_id": "core_extensions-iceberg-overview", "position": 5, "token_count": 196, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Querying Individual Tables"], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview#querying-individual-tables"}}
{"chunk_id": "core_extensions-iceberg-overview-006", "document_id": "core_extensions-iceberg-overview", "content": "```\n\n| count_star() |\n|-------------:|\n| 60175 |\n\nThe `iceberg` works together with the [`httpfs` extension]({% link docs/stable/core_extensions/httpfs/overview.md %}) or the [`azure` extension]({% link docs/stable/core_extensions/azure.md %}) to access Iceberg tables in object stores such as S3 or Azure Blob Storage.\n\n```sql\nSELECT count(*)\nFROM iceberg_scan('s3://bucketname/lineitem_iceberg/metadata/v1.metadata.json');\n```", "position": 6, "token_count": 163, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-iceberg-overview-006", "document_id": "core_extensions-iceberg-overview", "position": 6, "token_count": 163, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview"}}
{"chunk_id": "core_extensions-iceberg-overview-007", "document_id": "core_extensions-iceberg-overview", "content": "### Access Iceberg Metadata\n\nTo access Iceberg Metadata, you can use the `iceberg_metadata` function:\n\n```sql\nSELECT *\nFROM iceberg_metadata('data/iceberg/lineitem_iceberg', allow_moved_paths = true);", "position": 7, "token_count": 62, "has_code": true, "section_hierarchy": ["Access Iceberg Metadata"], "metadata": {"chunk_id": "core_extensions-iceberg-overview-007", "document_id": "core_extensions-iceberg-overview", "position": 7, "token_count": 62, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Access Iceberg Metadata"], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview#access-iceberg-metadata"}}
{"chunk_id": "core_extensions-iceberg-overview-008", "document_id": "core_extensions-iceberg-overview", "content": "```", "position": 8, "token_count": 5, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-iceberg-overview-008", "document_id": "core_extensions-iceberg-overview", "position": 8, "token_count": 5, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview"}}
{"chunk_id": "core_extensions-iceberg-overview-009", "document_id": "core_extensions-iceberg-overview", "content": "| manifest_path | manifest_sequence_number | manifest_content | status | content | file_path | file_format | record_count |", "position": 9, "token_count": 33, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-iceberg-overview-009", "document_id": "core_extensions-iceberg-overview", "position": 9, "token_count": 33, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview"}}
{"chunk_id": "core_extensions-iceberg-overview-010", "document_id": "core_extensions-iceberg-overview", "content": "|-------------------------------------------------", "position": 10, "token_count": 52, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-iceberg-overview-010", "document_id": "core_extensions-iceberg-overview", "position": 10, "token_count": 52, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview"}}
{"chunk_id": "core_extensions-iceberg-overview-011", "document_id": "core_extensions-iceberg-overview", "content": "---------------------------------|-----------------", "position": 11, "token_count": 53, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-iceberg-overview-011", "document_id": "core_extensions-iceberg-overview", "position": 11, "token_count": 53, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview"}}
{"chunk_id": "core_extensions-iceberg-overview-012", "document_id": "core_extensions-iceberg-overview", "content": "-------------------|------------------|---------|--", "position": 12, "token_count": 53, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-iceberg-overview-012", "document_id": "core_extensions-iceberg-overview", "position": 12, "token_count": 53, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview"}}
{"chunk_id": "core_extensions-iceberg-overview-013", "document_id": "core_extensions-iceberg-overview", "content": "-------|----------|--------------------------------", "position": 13, "token_count": 53, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-iceberg-overview-013", "document_id": "core_extensions-iceberg-overview", "position": 13, "token_count": 53, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview"}}
{"chunk_id": "core_extensions-iceberg-overview-014", "document_id": "core_extensions-iceberg-overview", "content": "---------------------------------------------------", "position": 14, "token_count": 53, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-iceberg-overview-014", "document_id": "core_extensions-iceberg-overview", "position": 14, "token_count": 53, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview"}}
{"chunk_id": "core_extensions-iceberg-overview-015", "document_id": "core_extensions-iceberg-overview", "content": "---------------------|-------------|--------------|", "position": 15, "token_count": 53, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-iceberg-overview-015", "document_id": "core_extensions-iceberg-overview", "position": 15, "token_count": 53, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview"}}
{"chunk_id": "core_extensions-iceberg-overview-016", "document_id": "core_extensions-iceberg-overview", "content": "| lineitem_iceberg/metadata/10eaca8a-1e1c-421e-ad6d-b232e5ee23d3-m1.avro | 2 | DATA | ADDED | EXISTING | lineitem_iceberg/data/00041-414-f3c73457-bbd6-4b92-9c15-17b241171b16-00001.parquet | PARQUET | 51793 |\n| lineitem_iceberg/metadata/10eaca8a-1e1c-421e-ad6d-b232e5ee23d3-m0.avro | 2 | DATA | DELETED | EXISTING | lineitem_iceberg/data/00000-411-0792dcfe-4e25-4ca3-8ada-175286069a47-00001.parquet | PARQUET | 60175 |", "position": 16, "token_count": 215, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-iceberg-overview-016", "document_id": "core_extensions-iceberg-overview", "position": 16, "token_count": 215, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview"}}
{"chunk_id": "core_extensions-iceberg-overview-017", "document_id": "core_extensions-iceberg-overview", "content": "### Visualizing Snapshots\n\nTo visualize the snapshots in an Iceberg table, use the `iceberg_snapshots` function:\n\n```sql\nSELECT *\nFROM iceberg_snapshots('data/iceberg/lineitem_iceberg');", "position": 17, "token_count": 64, "has_code": true, "section_hierarchy": ["Visualizing Snapshots"], "metadata": {"chunk_id": "core_extensions-iceberg-overview-017", "document_id": "core_extensions-iceberg-overview", "position": 17, "token_count": 64, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Visualizing Snapshots"], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview#visualizing-snapshots"}}
{"chunk_id": "core_extensions-iceberg-overview-018", "document_id": "core_extensions-iceberg-overview", "content": "```", "position": 18, "token_count": 5, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-iceberg-overview-018", "document_id": "core_extensions-iceberg-overview", "position": 18, "token_count": 5, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview"}}
{"chunk_id": "core_extensions-iceberg-overview-019", "document_id": "core_extensions-iceberg-overview", "content": "| sequence_number | snapshot_id | timestamp_ms | manifest_list |\n|-----------------|---------------------|-------------------------|------------------------------------------------------------------------------------------------|", "position": 19, "token_count": 186, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-iceberg-overview-019", "document_id": "core_extensions-iceberg-overview", "position": 19, "token_count": 186, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview"}}
{"chunk_id": "core_extensions-iceberg-overview-020", "document_id": "core_extensions-iceberg-overview", "content": "| 1 | 3776207205136740581 | 2023-02-15 15:07:54.504 | lineitem_iceberg/metadata/snap-3776207205136740581-1-cf3d0be5-cf70-453d-ad8f-48fdc412e608.avro |\n| 2 | 7635660646343998149 | 2023-02-15 15:08:14.73 | lineitem_iceberg/metadata/snap-7635660646343998149-1-10eaca8a-1e1c-421e-ad6d-b232e5ee23d3.avro |", "position": 20, "token_count": 174, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-iceberg-overview-020", "document_id": "core_extensions-iceberg-overview", "position": 20, "token_count": 174, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview"}}
{"chunk_id": "core_extensions-iceberg-overview-021", "document_id": "core_extensions-iceberg-overview", "content": "> `iceberg_snapshots` does not take `allow_moved_paths`, `snapshot_from_id` or `snapshot_from_timestamp` as parameters.", "position": 21, "token_count": 44, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-iceberg-overview-021", "document_id": "core_extensions-iceberg-overview", "position": 21, "token_count": 44, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview"}}
{"chunk_id": "core_extensions-iceberg-overview-022", "document_id": "core_extensions-iceberg-overview", "content": "### Selecting Metadata Versions\n\nBy default, the `iceberg` extension will look for a `version-hint.text` file to identify the proper metadata version to use. This can be overridden by explicitly supplying a version number via the `version` parameter to the functions of the `iceberg` extension:\n\n```sql\nSELECT *\nFROM iceberg_snapshots(\n 'data/iceberg/lineitem_iceberg',\n version = '1',\n);", "position": 22, "token_count": 103, "has_code": true, "section_hierarchy": ["Selecting Metadata Versions"], "metadata": {"chunk_id": "core_extensions-iceberg-overview-022", "document_id": "core_extensions-iceberg-overview", "position": 22, "token_count": 103, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Selecting Metadata Versions"], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview#selecting-metadata-versions"}}
{"chunk_id": "core_extensions-iceberg-overview-023", "document_id": "core_extensions-iceberg-overview", "content": "```\n\nBy default, `iceberg` functions will look for both `v{version}.metadata.json` and `{version}.metadata.json` files, or `v{version}.gz.metadata.json` and `{version}.gz.metadata.json` when `metadata_compression_codec = 'gzip'` is specified.\nOther compression codecs are not supported.\n\nIf any text file is provided through the `version` parameter, it is opened and treated as a version hint file:\n\n```sql\nSELECT *\nFROM iceberg_snapshots(\n 'data/iceberg/lineitem_iceberg',\n version = 'version-hint.txt',\n);\n```\n\nThe `iceberg` extension will open this file and use the **entire content** of the file as a provided version number.\nNote that the entire content of the `version-hint.txt` file will be treated as a literal version name, with no encoding, escaping or trimming. This includes any whitespace, or unsafe characters which will be explicitly passed formatted into filenames in the logic described below.", "position": 23, "token_count": 252, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-iceberg-overview-023", "document_id": "core_extensions-iceberg-overview", "position": 23, "token_count": 252, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview"}}
{"chunk_id": "core_extensions-iceberg-overview-024", "document_id": "core_extensions-iceberg-overview", "content": "### Working with Alternative Metadata Naming Conventions\n\nThe `iceberg` extension can handle different metadata naming conventions by specifying them as a comma-delimited list of format strings via the `version_name_format` parameter. Each format string must contain two `%s` parameters. The first is the location of the version number in the metadata filename and the second is the location of the filename extension specified by the `metadata_compression_codec`. The behavior described above is provided by the default value of `\"v%s%s.metadata.gz,%s%smetadata.gz`.\nIf you had an alternatively named metadata file, e.g., `rev-2.metadata.json.gz`, the table can be read via the follow statement:\n\n```sql\nSELECT *\nFROM iceberg_snapshots(\n 'data/iceberg/alternative_metadata_gz_naming',\n version = '2',\n version_name_format = 'rev-%s.metadata.json%s',\n metadata_compression_codec = 'gzip',\n);\n```", "position": 24, "token_count": 247, "has_code": true, "section_hierarchy": ["Working with Alternative Metadata Naming Conventions"], "metadata": {"chunk_id": "core_extensions-iceberg-overview-024", "document_id": "core_extensions-iceberg-overview", "position": 24, "token_count": 247, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Working with Alternative Metadata Naming Conventions"], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview#working-with-alternative-metadata-naming-conventions"}}
{"chunk_id": "core_extensions-iceberg-overview-025", "document_id": "core_extensions-iceberg-overview", "content": "### “Guessing” Metadata Versions\n\nBy default, either a table version number or a `version-hint.text` **must** be provided for the `iceberg` extension to read a table. This is typically provided by an external data catalog. In the event neither is present, the `iceberg` extension can attempt to guess the latest version by passing `?` as the `version` parameter:\n\n```sql\nSELECT count(*)\nFROM iceberg_scan(\n 'data/iceberg/lineitem_iceberg_no_hint',\n version = '?',\n allow_moved_paths = true\n);", "position": 25, "token_count": 136, "has_code": true, "section_hierarchy": ["“Guessing” Metadata Versions"], "metadata": {"chunk_id": "core_extensions-iceberg-overview-025", "document_id": "core_extensions-iceberg-overview", "position": 25, "token_count": 136, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["“Guessing” Metadata Versions"], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview#guessing-metadata-versions"}}
{"chunk_id": "core_extensions-iceberg-overview-026", "document_id": "core_extensions-iceberg-overview", "content": "```\n\nThe “latest” version is assumed to be the filename that is lexicographically largest when sorting the filenames. Collations are not considered. This behavior is not enabled by default as it may potentially violate ACID constraints. It can be enabled by setting `unsafe_enable_version_guessing` to `true`. When this is set, `iceberg` functions will attempt to guess the latest version by default before failing.\n\n```sql\nSET unsafe_enable_version_guessing = true;\nSELECT count(*)\nFROM iceberg_scan(\n 'data/iceberg/lineitem_iceberg_no_hint',\n allow_moved_paths = true\n);\n```", "position": 26, "token_count": 151, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "core_extensions-iceberg-overview-026", "document_id": "core_extensions-iceberg-overview", "position": 26, "token_count": 151, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview"}}
{"chunk_id": "core_extensions-iceberg-overview-027", "document_id": "core_extensions-iceberg-overview", "content": "## Limitations\n\n- Updates and deletes.\n- Inserts into v3 Iceberg specification tables.\n- Reads from v3 tables with v2 data types.\n- Geometry data type\n\nFor a set of unsupported operations when attaching to an Iceberg catalog, see [Unsupported Operations]({% link docs/stable/core_extensions/iceberg/iceberg_rest_catalogs.md %}#unsupported-operations).", "position": 27, "token_count": 101, "has_code": false, "section_hierarchy": ["Limitations"], "metadata": {"chunk_id": "core_extensions-iceberg-overview-027", "document_id": "core_extensions-iceberg-overview", "position": 27, "token_count": 101, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Limitations"], "file_path": "core_extensions/iceberg/overview.md", "url": "/core_extensions/iceberg/overview", "title": "Iceberg Extension", "category": null, "tags": [], "section_url": "/core_extensions/iceberg/overview#limitations"}}

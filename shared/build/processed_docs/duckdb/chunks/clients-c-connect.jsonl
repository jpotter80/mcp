{"chunk_id": "clients-c-connect-000", "document_id": "clients-c-connect", "content": "To use DuckDB, you must first initialize a `duckdb_database` handle using `duckdb_open()`. `duckdb_open()` takes as parameter the database file to read and write from. The special value `NULL` (`nullptr`) can be used to create an **in-memory database**. Note that for an in-memory database no data is persisted to disk (i.e., all data is lost when you exit the process).\n\nWith the `duckdb_database` handle, you can create one or many `duckdb_connection` using `duckdb_connect()`. While individual connections are thread-safe, they will be locked during querying. It is therefore recommended that each thread uses its own connection to allow for the best parallel performance.\n\nAll `duckdb_connection`s have to explicitly be disconnected with `duckdb_disconnect()` and the `duckdb_database` has to be explicitly closed with `duckdb_close()` to avoid memory and file handle leaking.", "position": 0, "token_count": 230, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "clients-c-connect-000", "document_id": "clients-c-connect", "position": 0, "token_count": 230, "has_code": false, "overlap_with_previous": false, "section_hierarchy": [], "file_path": "clients/c/connect.md", "url": "/clients/c/connect", "title": "Startup & Shutdown", "category": null, "tags": [], "section_url": "/clients/c/connect"}}
{"chunk_id": "clients-c-connect-001", "document_id": "clients-c-connect", "content": "## Example\n\n```c\nduckdb_database db;\nduckdb_connection con;\n\nif (duckdb_open(NULL, &db) == DuckDBError) {\n // handle error\n}\nif (duckdb_connect(db, &con) == DuckDBError) {\n // handle error\n}\n\n// run queries...\n\n// cleanup\nduckdb_disconnect(&con);\nduckdb_close(&db);\n```", "position": 1, "token_count": 105, "has_code": true, "section_hierarchy": ["Example"], "metadata": {"chunk_id": "clients-c-connect-001", "document_id": "clients-c-connect", "position": 1, "token_count": 105, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Example"], "file_path": "clients/c/connect.md", "url": "/clients/c/connect", "title": "Startup & Shutdown", "category": null, "tags": [], "section_url": "/clients/c/connect#example"}}
{"chunk_id": "clients-c-connect-002", "document_id": "clients-c-connect", "content": "## API Reference Overview", "position": 2, "token_count": 7, "has_code": false, "section_hierarchy": ["API Reference Overview"], "metadata": {"chunk_id": "clients-c-connect-002", "document_id": "clients-c-connect", "position": 2, "token_count": 7, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["API Reference Overview"], "file_path": "clients/c/connect.md", "url": "/clients/c/connect", "title": "Startup & Shutdown", "category": null, "tags": [], "section_url": "/clients/c/connect#api-reference-overview"}}
{"chunk_id": "clients-c-connect-003", "document_id": "clients-c-connect", "content": "duckdb_instance_cache duckdb_create_instance_cache();\nduckdb_state duckdb_get_or_create_from_cache(duckdb_instance_cache instance_cache, const char *path, duckdb_database *out_database, duckdb_config config, char **out_error);\nvoid duckdb_destroy_instance_cache(duckdb_instance_cache *instance_cache);\nduckdb_state duckdb_open(const char *path, duckdb_database *out_database);\nduckdb_state duckdb_open_ext(const char *path, duckdb_database *out_database, duckdb_config config, char **out_error);\nvoid duckdb_close(duckdb_database *database);\nduckdb_state duckdb_connect(duckdb_database database, duckdb_connection *out_connection);\nvoid duckdb_interrupt(duckdb_connection connection);", "position": 3, "token_count": 223, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "clients-c-connect-003", "document_id": "clients-c-connect", "position": 3, "token_count": 223, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "clients/c/connect.md", "url": "/clients/c/connect", "title": "Startup & Shutdown", "category": null, "tags": [], "section_url": "/clients/c/connect"}}
{"chunk_id": "clients-c-connect-004", "document_id": "clients-c-connect", "content": "duckdb_state duckdb_connect(duckdb_database database, duckdb_connection *out_connection);\nvoid duckdb_interrupt(duckdb_connection connection);\nduckdb_query_progress_type duckdb_query_progress(duckdb_connection connection);\nvoid duckdb_disconnect(duckdb_connection *connection);\nvoid duckdb_connection_get_client_context(duckdb_connection connection, duckdb_client_context *out_context);\nvoid duckdb_connection_get_arrow_options(duckdb_connection connection, duckdb_arrow_options *out_arrow_options);\nidx_t duckdb_client_context_get_connection_id(duckdb_client_context context);\nvoid duckdb_destroy_client_context(duckdb_client_context *context);\nvoid duckdb_destroy_arrow_options(duckdb_arrow_options *arrow_options);", "position": 4, "token_count": 208, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "clients-c-connect-004", "document_id": "clients-c-connect", "position": 4, "token_count": 208, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "clients/c/connect.md", "url": "/clients/c/connect", "title": "Startup & Shutdown", "category": null, "tags": [], "section_url": "/clients/c/connect"}}
{"chunk_id": "clients-c-connect-005", "document_id": "clients-c-connect", "content": "void duckdb_destroy_client_context(duckdb_client_context *context);\nvoid duckdb_destroy_arrow_options(duckdb_arrow_options *arrow_options);\nconst char *duckdb_library_version();\nduckdb_value duckdb_get_table_names(duckdb_connection connection, const char *query, bool qualified);", "position": 5, "token_count": 87, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "clients-c-connect-005", "document_id": "clients-c-connect", "position": 5, "token_count": 87, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "clients/c/connect.md", "url": "/clients/c/connect", "title": "Startup & Shutdown", "category": null, "tags": [], "section_url": "/clients/c/connect"}}
{"chunk_id": "clients-c-connect-006", "document_id": "clients-c-connect", "content": "#### `duckdb_create_instance_cache`\n\nCreates a new database instance cache.\nThe instance cache is necessary if a client/program (re)opens multiple databases to the same file within the same\nprocess. Must be destroyed with 'duckdb_destroy_instance_cache'.\n\n##### Return Value\n\nThe database instance cache.\n\n##### Syntax\n\nduckdb_instance_cache duckdb_create_instance_cache(\n\n);", "position": 6, "token_count": 98, "has_code": false, "section_hierarchy": ["Syntax"], "metadata": {"chunk_id": "clients-c-connect-006", "document_id": "clients-c-connect", "position": 6, "token_count": 98, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Syntax"], "file_path": "clients/c/connect.md", "url": "/clients/c/connect", "title": "Startup & Shutdown", "category": null, "tags": [], "section_url": "/clients/c/connect#syntax"}}
{"chunk_id": "clients-c-connect-007", "document_id": "clients-c-connect", "content": "#### `duckdb_get_or_create_from_cache`\n\nCreates a new database instance in the instance cache, or retrieves an existing database instance.\nMust be closed with 'duckdb_close'.\n\n##### Syntax\n\nduckdb_state duckdb_get_or_create_from_cache(\n duckdb_instance_cache instance_cache,\n const char *path,\n duckdb_database *out_database,\n duckdb_config config,\n char **out_error\n);", "position": 7, "token_count": 115, "has_code": false, "section_hierarchy": ["Syntax"], "metadata": {"chunk_id": "clients-c-connect-007", "document_id": "clients-c-connect", "position": 7, "token_count": 115, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Syntax"], "file_path": "clients/c/connect.md", "url": "/clients/c/connect", "title": "Startup & Shutdown", "category": null, "tags": [], "section_url": "/clients/c/connect#syntax"}}
{"chunk_id": "clients-c-connect-008", "document_id": "clients-c-connect", "content": "##### Parameters\n\n* `instance_cache`: The instance cache in which to create the database, or from which to take the database.\n* `path`: Path to the database file on disk. Both `nullptr` and `:memory:` open or retrieve an in-memory database.\n* `out_database`: The resulting cached database.\n* `config`: (Optional) configuration used to create the database.\n* `out_error`: If set and the function returns `DuckDBError`, this contains the error message.\nNote that the error message must be freed using `duckdb_free`.\n\n##### Return Value\n\n`DuckDBSuccess` on success or `DuckDBError` on failure.", "position": 8, "token_count": 165, "has_code": false, "section_hierarchy": ["Return Value"], "metadata": {"chunk_id": "clients-c-connect-008", "document_id": "clients-c-connect", "position": 8, "token_count": 165, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Return Value"], "file_path": "clients/c/connect.md", "url": "/clients/c/connect", "title": "Startup & Shutdown", "category": null, "tags": [], "section_url": "/clients/c/connect#return-value"}}
{"chunk_id": "clients-c-connect-009", "document_id": "clients-c-connect", "content": "#### `duckdb_destroy_instance_cache`\n\nDestroys an existing database instance cache and de-allocates its memory.\n\n##### Syntax\n\nvoid duckdb_destroy_instance_cache(\n duckdb_instance_cache *instance_cache\n);\n\n##### Parameters\n\n* `instance_cache`: The instance cache to destroy.\n\n#### `duckdb_open`\n\nCreates a new database or opens an existing database file stored at the given path.\nIf no path is given a new in-memory database is created instead.\nThe database must be closed with 'duckdb_close'.\n\n##### Syntax\n\nduckdb_state duckdb_open(\n const char *path,\n duckdb_database *out_database\n);\n\n##### Parameters\n\n* `path`: Path to the database file on disk. Both `nullptr` and `:memory:` open an in-memory database.\n* `out_database`: The result database object.\n\n##### Return Value\n\n`DuckDBSuccess` on success or `DuckDBError` on failure.", "position": 9, "token_count": 239, "has_code": false, "section_hierarchy": ["Return Value"], "metadata": {"chunk_id": "clients-c-connect-009", "document_id": "clients-c-connect", "position": 9, "token_count": 239, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Return Value"], "file_path": "clients/c/connect.md", "url": "/clients/c/connect", "title": "Startup & Shutdown", "category": null, "tags": [], "section_url": "/clients/c/connect#return-value"}}
{"chunk_id": "clients-c-connect-010", "document_id": "clients-c-connect", "content": "#### `duckdb_open_ext`\n\nExtended version of duckdb_open. Creates a new database or opens an existing database file stored at the given path.\nThe database must be closed with 'duckdb_close'.\n\n##### Syntax\n\nduckdb_state duckdb_open_ext(\n const char *path,\n duckdb_database *out_database,\n duckdb_config config,\n char **out_error\n);\n\n##### Parameters\n\n* `path`: Path to the database file on disk. Both `nullptr` and `:memory:` open an in-memory database.\n* `out_database`: The result database object.\n* `config`: (Optional) configuration used to start up the database.\n* `out_error`: If set and the function returns `DuckDBError`, this contains the error message.\nNote that the error message must be freed using `duckdb_free`.\n\n##### Return Value\n\n`DuckDBSuccess` on success or `DuckDBError` on failure.", "position": 10, "token_count": 239, "has_code": false, "section_hierarchy": ["Return Value"], "metadata": {"chunk_id": "clients-c-connect-010", "document_id": "clients-c-connect", "position": 10, "token_count": 239, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Return Value"], "file_path": "clients/c/connect.md", "url": "/clients/c/connect", "title": "Startup & Shutdown", "category": null, "tags": [], "section_url": "/clients/c/connect#return-value"}}
{"chunk_id": "clients-c-connect-011", "document_id": "clients-c-connect", "content": "#### `duckdb_close`\n\nCloses the specified database and de-allocates all memory allocated for that database.\nThis should be called after you are done with any database allocated through `duckdb_open` or `duckdb_open_ext`.\nNote that failing to call `duckdb_close` (in case of e.g., a program crash) will not cause data corruption.\nStill, it is recommended to always correctly close a database object after you are done with it.\n\n##### Syntax\n\nvoid duckdb_close(\n duckdb_database *database\n);\n\n##### Parameters\n\n* `database`: The database object to shut down.", "position": 11, "token_count": 146, "has_code": false, "section_hierarchy": ["Parameters"], "metadata": {"chunk_id": "clients-c-connect-011", "document_id": "clients-c-connect", "position": 11, "token_count": 146, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Parameters"], "file_path": "clients/c/connect.md", "url": "/clients/c/connect", "title": "Startup & Shutdown", "category": null, "tags": [], "section_url": "/clients/c/connect#parameters"}}
{"chunk_id": "clients-c-connect-012", "document_id": "clients-c-connect", "content": "#### `duckdb_connect`\n\nOpens a connection to a database. Connections are required to query the database, and store transactional state\nassociated with the connection.\nThe instantiated connection should be closed using 'duckdb_disconnect'.\n\n##### Syntax\n\nduckdb_state duckdb_connect(\n duckdb_database database,\n duckdb_connection *out_connection\n);\n\n##### Parameters\n\n* `database`: The database file to connect to.\n* `out_connection`: The result connection object.\n\n##### Return Value\n\n`DuckDBSuccess` on success or `DuckDBError` on failure.\n\n#### `duckdb_interrupt`\n\nInterrupt running query\n\n##### Syntax\n\nvoid duckdb_interrupt(\n duckdb_connection connection\n);\n\n##### Parameters\n\n* `connection`: The connection to interrupt", "position": 12, "token_count": 188, "has_code": false, "section_hierarchy": ["Parameters"], "metadata": {"chunk_id": "clients-c-connect-012", "document_id": "clients-c-connect", "position": 12, "token_count": 188, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Parameters"], "file_path": "clients/c/connect.md", "url": "/clients/c/connect", "title": "Startup & Shutdown", "category": null, "tags": [], "section_url": "/clients/c/connect#parameters"}}
{"chunk_id": "clients-c-connect-013", "document_id": "clients-c-connect", "content": "#### `duckdb_interrupt`\n\nInterrupt running query\n\n##### Syntax\n\nvoid duckdb_interrupt(\n duckdb_connection connection\n);\n\n##### Parameters\n\n* `connection`: The connection to interrupt\n\n#### `duckdb_query_progress`\n\nGet progress of the running query\n\n##### Syntax\n\nduckdb_query_progress_type duckdb_query_progress(\n duckdb_connection connection\n);\n\n##### Parameters\n\n* `connection`: The working connection\n\n##### Return Value\n\n-1 if no progress or a percentage of the progress\n\n#### `duckdb_disconnect`\n\nCloses the specified connection and de-allocates all memory allocated for that connection.\n\n##### Syntax\n\nvoid duckdb_disconnect(\n duckdb_connection *connection\n);\n\n##### Parameters\n\n* `connection`: The connection to close.", "position": 13, "token_count": 194, "has_code": false, "section_hierarchy": ["Parameters"], "metadata": {"chunk_id": "clients-c-connect-013", "document_id": "clients-c-connect", "position": 13, "token_count": 194, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Parameters"], "file_path": "clients/c/connect.md", "url": "/clients/c/connect", "title": "Startup & Shutdown", "category": null, "tags": [], "section_url": "/clients/c/connect#parameters"}}
{"chunk_id": "clients-c-connect-014", "document_id": "clients-c-connect", "content": "#### `duckdb_connection_get_client_context`\n\nRetrieves the client context of the connection.\n\n##### Syntax\n\nvoid duckdb_connection_get_client_context(\n duckdb_connection connection,\n duckdb_client_context *out_context\n);\n\n##### Parameters\n\n* `connection`: The connection.\n* `out_context`: The client context of the connection. Must be destroyed with `duckdb_destroy_client_context`.\n\n#### `duckdb_connection_get_arrow_options`\n\nRetrieves the arrow options of the connection.\n\n##### Syntax\n\nvoid duckdb_connection_get_arrow_options(\n duckdb_connection connection,\n duckdb_arrow_options *out_arrow_options\n);\n\n##### Parameters\n\n* `connection`: The connection.", "position": 14, "token_count": 183, "has_code": false, "section_hierarchy": ["Parameters"], "metadata": {"chunk_id": "clients-c-connect-014", "document_id": "clients-c-connect", "position": 14, "token_count": 183, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Parameters"], "file_path": "clients/c/connect.md", "url": "/clients/c/connect", "title": "Startup & Shutdown", "category": null, "tags": [], "section_url": "/clients/c/connect#parameters"}}
{"chunk_id": "clients-c-connect-015", "document_id": "clients-c-connect", "content": "#### `duckdb_client_context_get_connection_id`\n\nReturns the connection id of the client context.\n\n##### Syntax\n\nidx_t duckdb_client_context_get_connection_id(\n duckdb_client_context context\n);\n\n##### Parameters\n\n* `context`: The client context.\n\n##### Return Value\n\nThe connection id of the client context.\n\n#### `duckdb_destroy_client_context`\n\nDestroys the client context and deallocates its memory.\n\n##### Syntax\n\nvoid duckdb_destroy_client_context(\n duckdb_client_context *context\n);\n\n##### Parameters\n\n* `context`: The client context to destroy.\n\n#### `duckdb_destroy_arrow_options`\n\nDestroys the arrow options and deallocates its memory.\n\n##### Syntax\n\nvoid duckdb_destroy_arrow_options(\n duckdb_arrow_options *arrow_options\n);\n\n##### Parameters\n\n* `arrow_options`: The arrow options to destroy.", "position": 15, "token_count": 233, "has_code": false, "section_hierarchy": ["Parameters"], "metadata": {"chunk_id": "clients-c-connect-015", "document_id": "clients-c-connect", "position": 15, "token_count": 233, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Parameters"], "file_path": "clients/c/connect.md", "url": "/clients/c/connect", "title": "Startup & Shutdown", "category": null, "tags": [], "section_url": "/clients/c/connect#parameters"}}
{"chunk_id": "clients-c-connect-016", "document_id": "clients-c-connect", "content": "#### `duckdb_library_version`\n\nReturns the version of the linked DuckDB, with a version postfix for dev versions\n\nUsually used for developing C extensions that must return this for a compatibility check.\n\n##### Syntax\n\nconst char *duckdb_library_version(\n\n);\n\n#### `duckdb_get_table_names`\n\nGet the list of (fully qualified) table names of the query.\n\n##### Syntax\n\nduckdb_value duckdb_get_table_names(\n duckdb_connection connection,\n const char *query,\n bool qualified\n);\n\n##### Parameters\n\n* `connection`: The connection for which to get the table names.\n* `query`: The query for which to get the table names.\n* `qualified`: Returns fully qualified table names (catalog.schema.table), if set to true, else only the (not\nescaped) table names.\n\n##### Return Value\n\nA duckdb_value of type VARCHAR[] containing the (fully qualified) table names of the query. Must be destroyed\nwith duckdb_destroy_value.", "position": 16, "token_count": 242, "has_code": false, "section_hierarchy": ["Return Value"], "metadata": {"chunk_id": "clients-c-connect-016", "document_id": "clients-c-connect", "position": 16, "token_count": 242, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Return Value"], "file_path": "clients/c/connect.md", "url": "/clients/c/connect", "title": "Startup & Shutdown", "category": null, "tags": [], "section_url": "/clients/c/connect#return-value"}}

{"chunk_id": "dev-sqllogictest-persistent_testing-000", "document_id": "dev-sqllogictest-persistent_testing", "content": "By default, all tests are run in in-memory mode (unless `--force-storage` is enabled). In certain cases, we want to force the usage of a persistent database. We can initiate a persistent database using the `load` command, and trigger a reload of the database using the `restart` command.\n\n```sql\n# load the DB from disk\nload __TEST_DIR__/storage_scan.db\n\nstatement ok\nCREATE TABLE test (a INTEGER);\n\nstatement ok\nINSERT INTO test VALUES (11), (12), (13), (14), (15), (NULL)\n\n# ...\n\nrestart\n\nquery I\nSELECT * FROM test ORDER BY a\n----\nNULL\n11\n12\n13\n14\n15\n```\n\nNote that by default the tests run with `SET wal_autocheckpoint = '0KB'` â€“ meaning a checkpoint is triggered after every statement. WAL tests typically run with the following settings to disable this behavior:\n\n```sql\nstatement ok\nPRAGMA disable_checkpoint_on_shutdown\n\nstatement ok\nPRAGMA wal_autocheckpoint = '1TB'\n```", "position": 0, "token_count": 245, "has_code": true, "section_hierarchy": ["..."], "metadata": {"chunk_id": "dev-sqllogictest-persistent_testing-000", "document_id": "dev-sqllogictest-persistent_testing", "position": 0, "token_count": 245, "has_code": true, "overlap_with_previous": false, "section_hierarchy": ["..."], "file_path": "dev/sqllogictest/persistent_testing.md", "url": "/dev/sqllogictest/persistent_testing", "title": "Persistent Testing", "category": null, "tags": [], "section_url": "/dev/sqllogictest/persistent_testing#"}}

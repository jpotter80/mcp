{"chunk_id": "sql-expressions-cast-000", "document_id": "sql-expressions-cast", "content": "Casting refers to the operation of converting a value in a particular data type to the corresponding value in another data type.\nCasting can occur either implicitly or explicitly. The syntax described here performs an explicit cast. More information on casting can be found on the [typecasting page]({% link docs/stable/sql/data_types/typecasting.md %}).", "position": 0, "token_count": 82, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-expressions-cast-000", "document_id": "sql-expressions-cast", "position": 0, "token_count": 82, "has_code": false, "overlap_with_previous": false, "section_hierarchy": [], "file_path": "sql/expressions/cast.md", "url": "/sql/expressions/cast", "title": "Casting", "category": null, "tags": [], "section_url": "/sql/expressions/cast"}}
{"chunk_id": "sql-expressions-cast-001", "document_id": "sql-expressions-cast", "content": "## Explicit Casting\n\nThe standard SQL syntax for explicit casting is `CAST(expr AS TYPENAME)`, where `TYPENAME` is a name (or alias) of one of [DuckDB's data types]({% link docs/stable/sql/data_types/overview.md %}). DuckDB also supports the shorthand `expr::TYPENAME`, which is also present in PostgreSQL.\n\n```sql\nSELECT CAST(i AS VARCHAR) AS i\nFROM generate_series(1, 3) tbl(i);\n```\n\n| i |\n|---|\n| 1 |\n| 2 |\n| 3 |\n\n```sql\nSELECT i::DOUBLE AS i\nFROM generate_series(1, 3) tbl(i);\n```\n\n| i |\n|----:|\n| 1.0 |\n| 2.0 |\n| 3.0 |", "position": 1, "token_count": 201, "has_code": true, "section_hierarchy": ["Explicit Casting"], "metadata": {"chunk_id": "sql-expressions-cast-001", "document_id": "sql-expressions-cast", "position": 1, "token_count": 201, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Explicit Casting"], "file_path": "sql/expressions/cast.md", "url": "/sql/expressions/cast", "title": "Casting", "category": null, "tags": [], "section_url": "/sql/expressions/cast#explicit-casting"}}
{"chunk_id": "sql-expressions-cast-002", "document_id": "sql-expressions-cast", "content": "### Casting Rules\n\nNot all casts are possible. For example, it is not possible to convert an `INTEGER` to a `DATE`. Casts may also throw errors when the cast could not be successfully performed. For example, trying to cast the string `'hello'` to an `INTEGER` will result in an error being thrown.\n\n```sql\nSELECT CAST('hello' AS INTEGER);\n```\n\n```console\nConversion Error:\nCould not convert string 'hello' to INT32\n```\n\nThe exact behavior of the cast depends on the source and destination types. For example, when casting from `VARCHAR` to any other type, the string will be attempted to be converted.\n\n### `TRY_CAST`\n\n`TRY_CAST` can be used when the preferred behavior is not to throw an error, but instead to return a `NULL` value. `TRY_CAST` will never throw an error, and will instead return `NULL` if a cast is not possible.\n\n```sql\nSELECT TRY_CAST('hello' AS INTEGER) AS i;\n```\n\n| i |\n|------|\n| NULL |", "position": 2, "token_count": 245, "has_code": true, "section_hierarchy": ["`TRY_CAST`"], "metadata": {"chunk_id": "sql-expressions-cast-002", "document_id": "sql-expressions-cast", "position": 2, "token_count": 245, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["`TRY_CAST`"], "file_path": "sql/expressions/cast.md", "url": "/sql/expressions/cast", "title": "Casting", "category": null, "tags": [], "section_url": "/sql/expressions/cast#trycast"}}
{"chunk_id": "sql-expressions-cast-003", "document_id": "sql-expressions-cast", "content": "## `cast_to_type` Function\n\nThe `cast_to_type` function allows generating a cast from an expression to the type of another column.\nFor example:\n\n```sql\nSELECT cast_to_type('42', NULL::INTEGER) AS result;\n```\n\n```text\n┌───────┐\n│ res │\n│ int32 │\n├───────┤\n│ 42 │\n└───────┘", "position": 3, "token_count": 81, "has_code": true, "section_hierarchy": ["`cast_to_type` Function"], "metadata": {"chunk_id": "sql-expressions-cast-003", "document_id": "sql-expressions-cast", "position": 3, "token_count": 81, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["`cast_to_type` Function"], "file_path": "sql/expressions/cast.md", "url": "/sql/expressions/cast", "title": "Casting", "category": null, "tags": [], "section_url": "/sql/expressions/cast#casttotype-function"}}
{"chunk_id": "sql-expressions-cast-004", "document_id": "sql-expressions-cast", "content": "```\n\n```text\n┌───────┐\n│ res │\n│ int32 │\n├───────┤\n│ 42 │\n└───────┘\n```\n\nThis function is primarily useful in [macros]({% link docs/stable/guides/snippets/sharing_macros.md %}), as it allows you to maintain types.\nThis helps with making generic macros that operate on different types. For example, the following macro adds to a number if the input is an `INTEGER`:\n\n```sql\nCREATE TABLE tbl (i INT, s VARCHAR);\nINSERT INTO tbl VALUES (42, 'hello world');\n\nCREATE MACRO conditional_add(col, nr) AS\n CASE\n WHEN typeof(col) == 'INTEGER' THEN cast_to_type(col::INTEGER + nr, col)\n ELSE col\n END;\nSELECT conditional_add(COLUMNS(*), 100) FROM tbl;\n```\n\n```text\n┌───────┬─────────────┐\n│ i │ s │\n│ int32 │ varchar │\n├───────┼─────────────┤\n│ 142 │ hello world │\n└───────┴─────────────┘", "position": 4, "token_count": 221, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-expressions-cast-004", "document_id": "sql-expressions-cast", "position": 4, "token_count": 221, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/expressions/cast.md", "url": "/sql/expressions/cast", "title": "Casting", "category": null, "tags": [], "section_url": "/sql/expressions/cast"}}
{"chunk_id": "sql-expressions-cast-005", "document_id": "sql-expressions-cast", "content": "```\n\n```text\n┌───────┬─────────────┐\n│ i │ s │\n│ int32 │ varchar │\n├───────┼─────────────┤\n│ 142 │ hello world │\n└───────┴─────────────┘\n```\n\nNote that the `CASE` statement needs to return the same type in all code paths. We can perform the addition on any input column by adding a cast to the desired type – but we need to cast the result of the addition back to the source type to make the binding work.", "position": 5, "token_count": 91, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "sql-expressions-cast-005", "document_id": "sql-expressions-cast", "position": 5, "token_count": 91, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/expressions/cast.md", "url": "/sql/expressions/cast", "title": "Casting", "category": null, "tags": [], "section_url": "/sql/expressions/cast"}}

{"chunk_id": "sql-functions-timestamptz-000", "document_id": "sql-functions-timestamptz", "content": "This section describes functions and operators for examining and manipulating [`TIMESTAMP WITH TIME ZONE`\n(or `TIMESTAMPTZ`) values]({% link docs/stable/sql/data_types/timestamp.md %}). See also the related [`TIMESTAMP` functions]({% link docs/stable/sql/functions/timestamp.md %}).\n\nTime zone support is provided by the built-in [ICU extension]({% link docs/stable/core_extensions/icu.md %}).\n\nIn the examples below, the current time zone is presumed to be `America/Los_Angeles`\nusing the Gregorian calendar.", "position": 0, "token_count": 151, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-timestamptz-000", "document_id": "sql-functions-timestamptz", "position": 0, "token_count": 151, "has_code": false, "overlap_with_previous": false, "section_hierarchy": [], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz"}}
{"chunk_id": "sql-functions-timestamptz-001", "document_id": "sql-functions-timestamptz", "content": "## Built-In Timestamp with Time Zone Functions\n\nThe table below shows the available scalar functions for `TIMESTAMPTZ` values.\nSince these functions do not involve binning or display,\nthey are always available.", "position": 1, "token_count": 48, "has_code": false, "section_hierarchy": ["Built-In Timestamp with Time Zone Functions"], "metadata": {"chunk_id": "sql-functions-timestamptz-001", "document_id": "sql-functions-timestamptz", "position": 1, "token_count": 48, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Built-In Timestamp with Time Zone Functions"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#built-in-timestamp-with-time-zone-functions"}}
{"chunk_id": "sql-functions-timestamptz-002", "document_id": "sql-functions-timestamptz", "content": "| Name | Description |\n|:--|:-------|\n| [`current_timestamp`](#current_timestamp) | Current date and time (start of current transaction). |\n| [`get_current_timestamp()`](#get_current_timestamp) | Current date and time (start of current transaction). |\n| [`greatest(timestamptz, timestamptz)`](#greatesttimestamptz-timestamptz) | The later of two timestamps. |\n| [`isfinite(timestamptz)`](#isfinitetimestamptz) | Returns true if the timestamp with time zone is finite, false otherwise. |\n| [`isinf(timestamptz)`](#isinftimestamptz) | Returns true if the timestamp with time zone is infinite, false otherwise. |", "position": 2, "token_count": 213, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-timestamptz-002", "document_id": "sql-functions-timestamptz", "position": 2, "token_count": 213, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz"}}
{"chunk_id": "sql-functions-timestamptz-003", "document_id": "sql-functions-timestamptz", "content": "| [`isinf(timestamptz)`](#isinftimestamptz) | Returns true if the timestamp with time zone is infinite, false otherwise. |\n| [`least(timestamptz, timestamptz)`](#leasttimestamptz-timestamptz) | The earlier of two timestamps. |\n| [`now()`](#now) | Current date and time (start of current transaction). |\n| [`timetz_byte_comparable(timetz)`](#timetz_byte_comparabletimetz) | Converts a `TIME WITH TIME ZONE` to a `UBIGINT` sort key. |\n| [`to_timestamp(double)`](#to_timestampdouble) | Converts seconds since the epoch to a timestamp with time zone. |\n| [`transaction_timestamp()`](#transaction_timestamp) | Current date and time (start of current transaction). |", "position": 3, "token_count": 228, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-timestamptz-003", "document_id": "sql-functions-timestamptz", "position": 3, "token_count": 228, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz"}}
{"chunk_id": "sql-functions-timestamptz-004", "document_id": "sql-functions-timestamptz", "content": "#### `current_timestamp`\n\n| **Description** | Current date and time (start of current transaction). |\n| **Example** | `current_timestamp` |\n| **Result** | `2022-10-08 12:44:46.122-07` |\n\n#### `get_current_timestamp()`\n\n| **Description** | Current date and time (start of current transaction). |\n| **Example** | `get_current_timestamp()` |\n| **Result** | `2022-10-08 12:44:46.122-07` |", "position": 4, "token_count": 150, "has_code": false, "section_hierarchy": ["`get_current_timestamp()`"], "metadata": {"chunk_id": "sql-functions-timestamptz-004", "document_id": "sql-functions-timestamptz", "position": 4, "token_count": 150, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`get_current_timestamp()`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#getcurrenttimestamp"}}
{"chunk_id": "sql-functions-timestamptz-005", "document_id": "sql-functions-timestamptz", "content": "#### `greatest(timestamptz, timestamptz)`\n\n| **Description** | The later of two timestamps. |\n| **Example** | `greatest(TIMESTAMPTZ '1992-09-20 20:38:48', TIMESTAMPTZ '1992-03-22 01:02:03.1234')` |\n| **Result** | `1992-09-20 20:38:48-07` |\n\n#### `isfinite(timestamptz)`\n\n| **Description** | Returns true if the timestamp with time zone is finite, false otherwise. |\n| **Example** | `isfinite(TIMESTAMPTZ '1992-03-07')` |\n| **Result** | `true` |", "position": 5, "token_count": 183, "has_code": false, "section_hierarchy": ["`isfinite(timestamptz)`"], "metadata": {"chunk_id": "sql-functions-timestamptz-005", "document_id": "sql-functions-timestamptz", "position": 5, "token_count": 183, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`isfinite(timestamptz)`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#isfinitetimestamptz"}}
{"chunk_id": "sql-functions-timestamptz-006", "document_id": "sql-functions-timestamptz", "content": "#### `isinf(timestamptz)`\n\n| **Description** | Returns true if the timestamp with time zone is infinite, false otherwise. |\n| **Example** | `isinf(TIMESTAMPTZ '-infinity')` |\n| **Result** | `true` |\n\n#### `least(timestamptz, timestamptz)`\n\n| **Description** | The earlier of two timestamps. |\n| **Example** | `least(TIMESTAMPTZ '1992-09-20 20:38:48', TIMESTAMPTZ '1992-03-22 01:02:03.1234')` |\n| **Result** | `1992-03-22 01:02:03.1234-08` |", "position": 6, "token_count": 183, "has_code": false, "section_hierarchy": ["`least(timestamptz, timestamptz)`"], "metadata": {"chunk_id": "sql-functions-timestamptz-006", "document_id": "sql-functions-timestamptz", "position": 6, "token_count": 183, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`least(timestamptz, timestamptz)`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#leasttimestamptz-timestamptz"}}
{"chunk_id": "sql-functions-timestamptz-007", "document_id": "sql-functions-timestamptz", "content": "#### `now()`\n\n| **Description** | Current date and time (start of current transaction). |\n| **Example** | `now()` |\n| **Result** | `2022-10-08 12:44:46.122-07` |\n\n#### `timetz_byte_comparable(timetz)`\n\n| **Description** | Converts a `TIME WITH TIME ZONE` to a `UBIGINT` sort key. |\n| **Example** | `timetz_byte_comparable('18:18:16.21-07:00'::TIMETZ)` |\n| **Result** | `2494691656335442799` |", "position": 7, "token_count": 167, "has_code": false, "section_hierarchy": ["`timetz_byte_comparable(timetz)`"], "metadata": {"chunk_id": "sql-functions-timestamptz-007", "document_id": "sql-functions-timestamptz", "position": 7, "token_count": 167, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`timetz_byte_comparable(timetz)`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#timetzbytecomparabletimetz"}}
{"chunk_id": "sql-functions-timestamptz-008", "document_id": "sql-functions-timestamptz", "content": "#### `to_timestamp(double)`\n\n| **Description** | Converts seconds since the epoch to a timestamp with time zone. |\n| **Example** | `to_timestamp(1284352323.5)` |\n| **Result** | `2010-09-13 04:32:03.5+00` |\n\n#### `transaction_timestamp()`\n\n| **Description** | Current date and time (start of current transaction). |\n| **Example** | `transaction_timestamp()` |\n| **Result** | `2022-10-08 12:44:46.122-07` |", "position": 8, "token_count": 160, "has_code": false, "section_hierarchy": ["`transaction_timestamp()`"], "metadata": {"chunk_id": "sql-functions-timestamptz-008", "document_id": "sql-functions-timestamptz", "position": 8, "token_count": 160, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`transaction_timestamp()`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#transactiontimestamp"}}
{"chunk_id": "sql-functions-timestamptz-009", "document_id": "sql-functions-timestamptz", "content": "## Timestamp with Time Zone Strings\n\nWith no time zone extension loaded, `TIMESTAMPTZ` values will be cast to and from strings\nusing offset notation.\nThis will let you specify an instant correctly without access to time zone information.\nFor portability, `TIMESTAMPTZ` values will always be displayed using GMT offsets:\n\n```sql\nSELECT '2022-10-08 13:13:34-07'::TIMESTAMPTZ;\n```\n\n```text\n2022-10-08 20:13:34+00\n```\n\nIf a time zone extension such as ICU is loaded, then a time zone can be parsed from a string\nand cast to a representation in the local time zone:\n\n```sql\nSELECT '2022-10-08 13:13:34 Europe/Amsterdam'::TIMESTAMPTZ::VARCHAR;\n```\n\n```text\n2022-10-08 04:13:34-07 -- the offset will differ based on your local time zone\n```", "position": 9, "token_count": 224, "has_code": true, "section_hierarchy": ["Timestamp with Time Zone Strings"], "metadata": {"chunk_id": "sql-functions-timestamptz-009", "document_id": "sql-functions-timestamptz", "position": 9, "token_count": 224, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Timestamp with Time Zone Strings"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#timestamp-with-time-zone-strings"}}
{"chunk_id": "sql-functions-timestamptz-010", "document_id": "sql-functions-timestamptz", "content": "## ICU Timestamp with Time Zone Operators\n\nThe table below shows the available mathematical operators for `TIMESTAMP WITH TIME ZONE` values\nprovided by the ICU extension.\n\n| Operator | Description | Example | Result |\n|:-|:--|:----|:--|\n| `+` | addition of an `INTERVAL` | `TIMESTAMPTZ '1992-03-22 01:02:03' + INTERVAL 5 DAY` | `1992-03-27 01:02:03` |\n| `-` | subtraction of `TIMESTAMPTZ`s | `TIMESTAMPTZ '1992-03-27' - TIMESTAMPTZ '1992-03-22'` | `5 days` |\n| `-` | subtraction of an `INTERVAL` | `TIMESTAMPTZ '1992-03-27 01:02:03' - INTERVAL 5 DAY` | `1992-03-22 01:02:03` |\n\nAdding to or subtracting from [infinite values]({% link docs/stable/sql/data_types/timestamp.md %}#special-values) produces the same infinite value.", "position": 10, "token_count": 255, "has_code": false, "section_hierarchy": ["ICU Timestamp with Time Zone Operators"], "metadata": {"chunk_id": "sql-functions-timestamptz-010", "document_id": "sql-functions-timestamptz", "position": 10, "token_count": 255, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["ICU Timestamp with Time Zone Operators"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#icu-timestamp-with-time-zone-operators"}}
{"chunk_id": "sql-functions-timestamptz-011", "document_id": "sql-functions-timestamptz", "content": "## ICU Timestamp with Time Zone Functions\n\nThe table below shows the ICU provided scalar functions for `TIMESTAMP WITH TIME ZONE` values.", "position": 11, "token_count": 35, "has_code": false, "section_hierarchy": ["ICU Timestamp with Time Zone Functions"], "metadata": {"chunk_id": "sql-functions-timestamptz-011", "document_id": "sql-functions-timestamptz", "position": 11, "token_count": 35, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["ICU Timestamp with Time Zone Functions"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#icu-timestamp-with-time-zone-functions"}}
{"chunk_id": "sql-functions-timestamptz-012", "document_id": "sql-functions-timestamptz", "content": "| Name | Description |\n|:--|:-------|\n| [`age(timestamptz, timestamptz)`](#agetimestamptz-timestamptz) | Subtract arguments, resulting in the time difference between the two timestamps. |\n| [`age(timestamptz)`](#agetimestamptz) | Subtract from current_date. |\n| [`date_diff(part, starttimestamptz, endtimestamptz)`](#date_diffpart-starttimestamptz-endtimestamptz) | The number of [`part`]({% link docs/stable/sql/functions/datepart.md %}) boundaries between `starttimestamptz` and `endtimestamptz` inclusive of the larger timstamp and exclusive of the smaller timestamp. |", "position": 12, "token_count": 209, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-timestamptz-012", "document_id": "sql-functions-timestamptz", "position": 12, "token_count": 209, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz"}}
{"chunk_id": "sql-functions-timestamptz-013", "document_id": "sql-functions-timestamptz", "content": "| [`date_part([part, ...], timestamp)`](#date_partpart--timestamptz) | Get the listed [subfields]({% link docs/stable/sql/functions/datepart.md %}) as a `struct`. The list must be constant. |\n| [`date_part(part, timestamp)`](#date_partpart-timestamptz) | Get [subfield]({% link docs/stable/sql/functions/datepart.md %}) (equivalent to `extract`). |\n| [`date_sub(part, starttimestamptz, endtimestamptz)`](#date_subpart-starttimestamptz-endtimestamptz) | The signed length of the interval between `starttimestamptz` and `endtimestamptz`, truncated to whole multiples of [`part`]({% link docs/stable/sql/functions/datepart.md %}). |", "position": 13, "token_count": 246, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-timestamptz-013", "document_id": "sql-functions-timestamptz", "position": 13, "token_count": 246, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz"}}
{"chunk_id": "sql-functions-timestamptz-014", "document_id": "sql-functions-timestamptz", "content": "| [`date_trunc(part, timestamptz)`](#date_truncpart-timestamptz) | Truncate to specified [precision]({% link docs/stable/sql/functions/datepart.md %}). |\n| [`epoch_ns(timestamptz)`](#epoch_nstimestamptz) | Converts a timestamptz to nanoseconds since the epoch. |\n| [`epoch_us(timestamptz)`](#epoch_ustimestamptz) | Converts a timestamptz to microseconds since the epoch. |\n| [`extract(field FROM timestamptz)`](#extractfield-from-timestamptz) | Get [subfield]({% link docs/stable/sql/functions/datepart.md %}) from a `TIMESTAMP WITH TIME ZONE`. |", "position": 14, "token_count": 213, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-timestamptz-014", "document_id": "sql-functions-timestamptz", "position": 14, "token_count": 213, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz"}}
{"chunk_id": "sql-functions-timestamptz-015", "document_id": "sql-functions-timestamptz", "content": "| [`last_day(timestamptz)`](#last_daytimestamptz) | The last day of the month. |\n| [`make_timestamptz(bigint, bigint, bigint, bigint, bigint, double, string)`](#make_timestamptzbigint-bigint-bigint-bigint-bigint-double-string) | The `TIMESTAMP WITH TIME ZONE` for the given parts and time zone. |\n| [`make_timestamptz(bigint, bigint, bigint, bigint, bigint, double)`](#make_timestamptzbigint-bigint-bigint-bigint-bigint-double) | The `TIMESTAMP WITH TIME ZONE` for the given parts in the current time zone. |\n| [`make_timestamptz(microseconds)`](#make_timestamptzmicroseconds) | The `TIMESTAMP WITH TIME ZONE` for the given µs since the epoch. |", "position": 15, "token_count": 238, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-timestamptz-015", "document_id": "sql-functions-timestamptz", "position": 15, "token_count": 238, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz"}}
{"chunk_id": "sql-functions-timestamptz-016", "document_id": "sql-functions-timestamptz", "content": "| [`strftime(timestamptz, format)`](#strftimetimestamptz-format) | Converts a `TIMESTAMP WITH TIME ZONE` value to string according to the [format string]({% link docs/stable/sql/functions/dateformat.md %}#format-specifiers). |\n| [`strptime(text, format)`](#strptimetext-format) | Converts string to `TIMESTAMP WITH TIME ZONE` according to the [format string]({% link docs/stable/sql/functions/dateformat.md %}#format-specifiers) if `%Z` is specified. |", "position": 16, "token_count": 155, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-timestamptz-016", "document_id": "sql-functions-timestamptz", "position": 16, "token_count": 155, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz"}}
{"chunk_id": "sql-functions-timestamptz-017", "document_id": "sql-functions-timestamptz", "content": "| [`time_bucket(bucket_width, timestamptz[, offset])`](#time_bucketbucket_width-timestamptz-offset) | Truncate `timestamptz` to a grid of width `bucket_width`. The grid is anchored at `2000-01-01 00:00:00+00:00[ + offset]` when `bucket_width` is a number of months or coarser units, else `2000-01-03 00:00:00+00:00[ + offset]`. Note that `2000-01-03` is a Monday. |", "position": 17, "token_count": 139, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-timestamptz-017", "document_id": "sql-functions-timestamptz", "position": 17, "token_count": 139, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz"}}
{"chunk_id": "sql-functions-timestamptz-018", "document_id": "sql-functions-timestamptz", "content": "| [`time_bucket(bucket_width, timestamptz[, origin])`](#time_bucketbucket_width-timestamptz-origin) | Truncate `timestamptz` to a grid of width `bucket_width`. The grid is anchored at the `origin` timestamp, which defaults to `2000-01-01 00:00:00+00:00` when `bucket_width` is a number of months or coarser units, else `2000-01-03 00:00:00+00:00`. Note that `2000-01-03` is a Monday. |", "position": 18, "token_count": 143, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-timestamptz-018", "document_id": "sql-functions-timestamptz", "position": 18, "token_count": 143, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz"}}
{"chunk_id": "sql-functions-timestamptz-019", "document_id": "sql-functions-timestamptz", "content": "| [`time_bucket(bucket_width, timestamptz[, timezone])`](#time_bucketbucket_width-timestamptz-origin) | Truncate `timestamptz` to a grid of width `bucket_width`. The grid is anchored at the `origin` timestamp, which defaults to `2000-01-01 00:00:00` in the provided `timezone` when `bucket_width` is a number of months or coarser units, else `2000-01-03 00:00:00` in the provided `timezone`. The default timezone is `'UTC'`. Note that `2000-01-03` is a Monday. |", "position": 19, "token_count": 161, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-timestamptz-019", "document_id": "sql-functions-timestamptz", "position": 19, "token_count": 161, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz"}}
{"chunk_id": "sql-functions-timestamptz-020", "document_id": "sql-functions-timestamptz", "content": "#### `age(timestamptz, timestamptz)`\n\n| **Description** | Subtract arguments, resulting in the time difference between the two timestamps. |\n| **Example** | `age(TIMESTAMPTZ '2001-04-10', TIMESTAMPTZ '1992-09-20')` |\n| **Result** | `8 years 6 months 20 days` |\n\n#### `age(timestamptz)`\n\n| **Description** | Subtract from current_date. |\n| **Example** | `age(TIMESTAMP '1992-09-20')` |\n| **Result** | `29 years 1 month 27 days 12:39:00.844` |", "position": 20, "token_count": 173, "has_code": false, "section_hierarchy": ["`age(timestamptz)`"], "metadata": {"chunk_id": "sql-functions-timestamptz-020", "document_id": "sql-functions-timestamptz", "position": 20, "token_count": 173, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`age(timestamptz)`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#agetimestamptz"}}
{"chunk_id": "sql-functions-timestamptz-021", "document_id": "sql-functions-timestamptz", "content": "#### `date_diff(part, starttimestamptz, endtimestamptz)`\n\n| **Description** | The signed number of [`part`]({% link docs/stable/sql/functions/datepart.md %}) boundaries between `starttimestamptz` and `endtimestamptz`, inclusive of the larger timestamp and exclusive of the smaller timestamp. |\n| **Example** | `date_diff('hour', TIMESTAMPTZ '1992-09-30 23:59:59', TIMESTAMPTZ '1992-10-01 01:58:00')` |\n| **Result** | `2` |", "position": 21, "token_count": 163, "has_code": false, "section_hierarchy": ["`date_diff(part, starttimestamptz, endtimestamptz)`"], "metadata": {"chunk_id": "sql-functions-timestamptz-021", "document_id": "sql-functions-timestamptz", "position": 21, "token_count": 163, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`date_diff(part, starttimestamptz, endtimestamptz)`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#datediffpart-starttimestamptz-endtimestamptz"}}
{"chunk_id": "sql-functions-timestamptz-022", "document_id": "sql-functions-timestamptz", "content": "#### `date_part([part, ...], timestamptz)`\n\n| **Description** | Get the listed [subfields]({% link docs/stable/sql/functions/datepart.md %}) as a `struct`. The list must be constant. |\n| **Example** | `date_part(['year', 'month', 'day'], TIMESTAMPTZ '1992-09-20 20:38:40-07')` |\n| **Result** | `{year: 1992, month: 9, day: 20}` |\n\n#### `date_part(part, timestamptz)`\n\n| **Description** | Get [subfield]({% link docs/stable/sql/functions/datepart.md %}) (equivalent to *extract*). |\n| **Example** | `date_part('minute', TIMESTAMPTZ '1992-09-20 20:38:40')` |\n| **Result** | `38` |", "position": 22, "token_count": 250, "has_code": false, "section_hierarchy": ["`date_part(part, timestamptz)`"], "metadata": {"chunk_id": "sql-functions-timestamptz-022", "document_id": "sql-functions-timestamptz", "position": 22, "token_count": 250, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`date_part(part, timestamptz)`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#datepartpart-timestamptz"}}
{"chunk_id": "sql-functions-timestamptz-023", "document_id": "sql-functions-timestamptz", "content": "#### `date_sub(part, starttimestamptz, endtimestamptz)`\n\n| **Description** | The signed length of the interval between `starttimestamptz` and `endtimestamptz`, truncated to whole multiples of [`part`]({% link docs/stable/sql/functions/datepart.md %}). |\n| **Example** | `date_sub('hour', TIMESTAMPTZ '1992-09-30 23:59:59', TIMESTAMPTZ '1992-10-01 01:58:00')` |\n| **Result** | `1` |", "position": 23, "token_count": 153, "has_code": false, "section_hierarchy": ["`date_sub(part, starttimestamptz, endtimestamptz)`"], "metadata": {"chunk_id": "sql-functions-timestamptz-023", "document_id": "sql-functions-timestamptz", "position": 23, "token_count": 153, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`date_sub(part, starttimestamptz, endtimestamptz)`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#datesubpart-starttimestamptz-endtimestamptz"}}
{"chunk_id": "sql-functions-timestamptz-024", "document_id": "sql-functions-timestamptz", "content": "#### `date_trunc(part, timestamptz)`\n\n| **Description** | Truncate to specified [precision]({% link docs/stable/sql/functions/datepart.md %}). |\n| **Example** | `date_trunc('hour', TIMESTAMPTZ '1992-09-20 20:38:40')` |\n| **Result** | `1992-09-20 20:00:00` |\n\n#### `epoch_ns(timestamptz)`\n\n| **Description** | Converts a timestamptz to nanoseconds since the epoch. |\n| **Example** | `epoch_ns('2022-11-07 08:43:04.123456+00'::TIMESTAMPTZ);` |\n| **Result** | `1667810584123456000` |", "position": 24, "token_count": 214, "has_code": false, "section_hierarchy": ["`epoch_ns(timestamptz)`"], "metadata": {"chunk_id": "sql-functions-timestamptz-024", "document_id": "sql-functions-timestamptz", "position": 24, "token_count": 214, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`epoch_ns(timestamptz)`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#epochnstimestamptz"}}
{"chunk_id": "sql-functions-timestamptz-025", "document_id": "sql-functions-timestamptz", "content": "#### `epoch_us(timestamptz)`\n\n| **Description** | Converts a timestamptz to microseconds since the epoch. |\n| **Example** | `epoch_us('2022-11-07 08:43:04.123456+00'::TIMESTAMPTZ);` |\n| **Result** | `1667810584123456` |\n\n#### `extract(field FROM timestamptz)`\n\n| **Description** | Get [subfield]({% link docs/stable/sql/functions/datepart.md %}) from a `TIMESTAMP WITH TIME ZONE`. |\n| **Example** | `extract('hour' FROM TIMESTAMPTZ '1992-09-20 20:38:48')` |\n| **Result** | `20` |", "position": 25, "token_count": 203, "has_code": false, "section_hierarchy": ["`extract(field FROM timestamptz)`"], "metadata": {"chunk_id": "sql-functions-timestamptz-025", "document_id": "sql-functions-timestamptz", "position": 25, "token_count": 203, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`extract(field FROM timestamptz)`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#extractfield-from-timestamptz"}}
{"chunk_id": "sql-functions-timestamptz-026", "document_id": "sql-functions-timestamptz", "content": "#### `last_day(timestamptz)`\n\n| **Description** | The last day of the month. |\n| **Example** | `last_day(TIMESTAMPTZ '1992-03-22 01:02:03.1234')` |\n| **Result** | `1992-03-31` |\n\n#### `make_timestamptz(bigint, bigint, bigint, bigint, bigint, double, string)`\n\n| **Description** | The `TIMESTAMP WITH TIME ZONE` for the given parts and time zone. |\n| **Example** | `make_timestamptz(1992, 9, 20, 15, 34, 27.123456, 'CET')` |\n| **Result** | `1992-09-20 06:34:27.123456-07` |", "position": 26, "token_count": 202, "has_code": false, "section_hierarchy": ["`make_timestamptz(bigint, bigint, bigint, bigint, bigint, double, string)`"], "metadata": {"chunk_id": "sql-functions-timestamptz-026", "document_id": "sql-functions-timestamptz", "position": 26, "token_count": 202, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`make_timestamptz(bigint, bigint, bigint, bigint, bigint, double, string)`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#maketimestamptzbigint-bigint-bigint-bigint-bigint-double-string"}}
{"chunk_id": "sql-functions-timestamptz-027", "document_id": "sql-functions-timestamptz", "content": "#### `make_timestamptz(bigint, bigint, bigint, bigint, bigint, double)`\n\n| **Description** | The `TIMESTAMP WITH TIME ZONE` for the given parts in the current time zone. |\n| **Example** | `make_timestamptz(1992, 9, 20, 13, 34, 27.123456)` |\n| **Result** | `1992-09-20 13:34:27.123456-07` |\n\n#### `make_timestamptz(microseconds)`\n\n| **Description** | The `TIMESTAMP WITH TIME ZONE` for the given µs since the epoch. |\n| **Example** | `make_timestamptz(1667810584123456)` |\n| **Result** | `2022-11-07 16:43:04.123456-08` |", "position": 27, "token_count": 215, "has_code": false, "section_hierarchy": ["`make_timestamptz(microseconds)`"], "metadata": {"chunk_id": "sql-functions-timestamptz-027", "document_id": "sql-functions-timestamptz", "position": 27, "token_count": 215, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`make_timestamptz(microseconds)`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#maketimestamptzmicroseconds"}}
{"chunk_id": "sql-functions-timestamptz-028", "document_id": "sql-functions-timestamptz", "content": "#### `strftime(timestamptz, format)`\n\n| **Description** | Converts a `TIMESTAMP WITH TIME ZONE` value to string according to the [format string]({% link docs/stable/sql/functions/dateformat.md %}#format-specifiers). |\n| **Example** | `strftime(timestamptz '1992-01-01 20:38:40', '%a, %-d %B %Y - %I:%M:%S %p')` |\n| **Result** | `Wed, 1 January 1992 - 08:38:40 PM` |", "position": 28, "token_count": 151, "has_code": false, "section_hierarchy": ["`strftime(timestamptz, format)`"], "metadata": {"chunk_id": "sql-functions-timestamptz-028", "document_id": "sql-functions-timestamptz", "position": 28, "token_count": 151, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`strftime(timestamptz, format)`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#strftimetimestamptz-format"}}
{"chunk_id": "sql-functions-timestamptz-029", "document_id": "sql-functions-timestamptz", "content": "#### `strptime(text, format)`\n\n| **Description** | Converts string to `TIMESTAMP WITH TIME ZONE` according to the [format string]({% link docs/stable/sql/functions/dateformat.md %}#format-specifiers) if `%Z` is specified. |\n| **Example** | `strptime('Wed, 1 January 1992 - 08:38:40 PST', '%a, %-d %B %Y - %H:%M:%S %Z')` |\n| **Result** | `1992-01-01 08:38:40-08` |", "position": 29, "token_count": 152, "has_code": false, "section_hierarchy": ["`strptime(text, format)`"], "metadata": {"chunk_id": "sql-functions-timestamptz-029", "document_id": "sql-functions-timestamptz", "position": 29, "token_count": 152, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`strptime(text, format)`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#strptimetext-format"}}
{"chunk_id": "sql-functions-timestamptz-030", "document_id": "sql-functions-timestamptz", "content": "#### `time_bucket(bucket_width, timestamptz[, offset])`\n\n| **Description** | Truncate `timestamptz` to a grid of width `bucket_width`. The grid is anchored at `2000-01-01 00:00:00+00:00[ + offset]` when `bucket_width` is a number of months or coarser units, else `2000-01-03 00:00:00+00:00[ + offset]`. Note that `2000-01-03` is a Monday. |\n| **Example** | `time_bucket(INTERVAL '10 minutes', TIMESTAMPTZ '1992-04-20 15:26:00-07', INTERVAL '5 minutes')` |\n| **Result** | `1992-04-20 15:25:00-07` |", "position": 30, "token_count": 196, "has_code": false, "section_hierarchy": ["`time_bucket(bucket_width, timestamptz[, offset])`"], "metadata": {"chunk_id": "sql-functions-timestamptz-030", "document_id": "sql-functions-timestamptz", "position": 30, "token_count": 196, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`time_bucket(bucket_width, timestamptz[, offset])`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#timebucketbucketwidth-timestamptz-offset"}}
{"chunk_id": "sql-functions-timestamptz-031", "document_id": "sql-functions-timestamptz", "content": "#### `time_bucket(bucket_width, timestamptz[, origin])`\n\n| **Description** | Truncate `timestamptz` to a grid of width `bucket_width`. The grid is anchored at the `origin` timestamp, which defaults to `2000-01-01 00:00:00+00:00` when `bucket_width` is a number of months or coarser units, else `2000-01-03 00:00:00+00:00`. Note that `2000-01-03` is a Monday. |\n| **Example** | `time_bucket(INTERVAL '2 weeks', TIMESTAMPTZ '1992-04-20 15:26:00-07', TIMESTAMPTZ '1992-04-01 00:00:00-07')` |\n| **Result** | `1992-04-15 00:00:00-07` |", "position": 31, "token_count": 213, "has_code": false, "section_hierarchy": ["`time_bucket(bucket_width, timestamptz[, origin])`"], "metadata": {"chunk_id": "sql-functions-timestamptz-031", "document_id": "sql-functions-timestamptz", "position": 31, "token_count": 213, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`time_bucket(bucket_width, timestamptz[, origin])`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#timebucketbucketwidth-timestamptz-origin"}}
{"chunk_id": "sql-functions-timestamptz-032", "document_id": "sql-functions-timestamptz", "content": "#### `time_bucket(bucket_width, timestamptz[, timezone])`\n\n| **Description** | Truncate `timestamptz` to a grid of width `bucket_width`. The grid is anchored at the `origin` timestamp, which defaults to `2000-01-01 00:00:00` in the provided `timezone` when `bucket_width` is a number of months or coarser units, else `2000-01-03 00:00:00` in the provided `timezone`. The default timezone is `'UTC'`. Note that `2000-01-03` is a Monday. |\n| **Example** | `time_bucket(INTERVAL '2 days', TIMESTAMPTZ '1992-04-20 15:26:00-07', 'Europe/Berlin')` |\n| **Result** | `1992-04-19 15:00:00-07` (=`1992-04-20 00:00:00 Europe/Berlin`) |", "position": 32, "token_count": 236, "has_code": false, "section_hierarchy": ["`time_bucket(bucket_width, timestamptz[, timezone])`"], "metadata": {"chunk_id": "sql-functions-timestamptz-032", "document_id": "sql-functions-timestamptz", "position": 32, "token_count": 236, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`time_bucket(bucket_width, timestamptz[, timezone])`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#timebucketbucketwidth-timestamptz-timezone"}}
{"chunk_id": "sql-functions-timestamptz-033", "document_id": "sql-functions-timestamptz", "content": "There are also dedicated extraction functions to get the [subfields]({% link docs/stable/sql/functions/datepart.md %}).", "position": 33, "token_count": 37, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-timestamptz-033", "document_id": "sql-functions-timestamptz", "position": 33, "token_count": 37, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz"}}
{"chunk_id": "sql-functions-timestamptz-034", "document_id": "sql-functions-timestamptz", "content": "## ICU Timestamp Table Functions\n\nThe table below shows the available table functions for `TIMESTAMP WITH TIME ZONE` types.\n\n| Name | Description |\n|:--|:-------|\n| [`generate_series(timestamptz, timestamptz, interval)`](#generate_seriestimestamptz-timestamptz-interval) | Generate a table of timestamps in the closed range (including both the starting timestamp and the ending timestamp), stepping by the interval. |\n| [`range(timestamptz, timestamptz, interval)`](#rangetimestamptz-timestamptz-interval) | Generate a table of timestamps in the half open range (including the starting timestamp, but stopping before the ending timestamp), stepping by the interval. |\n\n> Infinite values are not allowed as table function bounds.", "position": 34, "token_count": 203, "has_code": false, "section_hierarchy": ["ICU Timestamp Table Functions"], "metadata": {"chunk_id": "sql-functions-timestamptz-034", "document_id": "sql-functions-timestamptz", "position": 34, "token_count": 203, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["ICU Timestamp Table Functions"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#icu-timestamp-table-functions"}}
{"chunk_id": "sql-functions-timestamptz-035", "document_id": "sql-functions-timestamptz", "content": "#### `generate_series(timestamptz, timestamptz, interval)`\n\n| **Description** | Generate a table of timestamps in the closed range (including both the starting timestamp and the ending timestamp), stepping by the interval. |\n| **Example** | `generate_series(TIMESTAMPTZ '2001-04-10', TIMESTAMPTZ '2001-04-11', INTERVAL 30 MINUTE)` |\n\n#### `range(timestamptz, timestamptz, interval)`\n\n| **Description** | Generate a table of timestamps in the half open range (including the starting timestamp, but stopping before the ending timestamp), stepping by the interval. |\n| **Example** | `range(TIMESTAMPTZ '2001-04-10', TIMESTAMPTZ '2001-04-11', INTERVAL 30 MINUTE)` |", "position": 35, "token_count": 209, "has_code": false, "section_hierarchy": ["`range(timestamptz, timestamptz, interval)`"], "metadata": {"chunk_id": "sql-functions-timestamptz-035", "document_id": "sql-functions-timestamptz", "position": 35, "token_count": 209, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`range(timestamptz, timestamptz, interval)`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#rangetimestamptz-timestamptz-interval"}}
{"chunk_id": "sql-functions-timestamptz-036", "document_id": "sql-functions-timestamptz", "content": "## ICU Timestamp Without Time Zone Functions\n\nThe table below shows the ICU provided scalar functions that operate on plain `TIMESTAMP` values.\nThese functions assume that the `TIMESTAMP` is a “local timestamp”.\n\nA local timestamp is effectively a way of encoding the part values from a time zone into a single value.\nThey should be used with caution because the produced values can contain gaps and ambiguities thanks to daylight savings time.\nOften the same functionality can be implemented more reliably using the `struct` variant of the `date_part` function.", "position": 36, "token_count": 129, "has_code": false, "section_hierarchy": ["ICU Timestamp Without Time Zone Functions"], "metadata": {"chunk_id": "sql-functions-timestamptz-036", "document_id": "sql-functions-timestamptz", "position": 36, "token_count": 129, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["ICU Timestamp Without Time Zone Functions"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#icu-timestamp-without-time-zone-functions"}}
{"chunk_id": "sql-functions-timestamptz-037", "document_id": "sql-functions-timestamptz", "content": "| Name | Description |\n|:--|:-------|\n| [`current_localtime()`](#current_localtime) | Returns a `TIME` whose GMT bin values correspond to local time in the current time zone. |\n| [`current_localtimestamp()`](#current_localtimestamp) | Returns a `TIMESTAMP` whose GMT bin values correspond to local date and time in the current time zone. |\n| [`localtime`](#localtime) | Synonym for the `current_localtime()` function call. |\n| [`localtimestamp`](#localtimestamp) | Synonym for the `current_localtimestamp()` function call. |", "position": 37, "token_count": 171, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-timestamptz-037", "document_id": "sql-functions-timestamptz", "position": 37, "token_count": 171, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz"}}
{"chunk_id": "sql-functions-timestamptz-038", "document_id": "sql-functions-timestamptz", "content": "| [`localtimestamp`](#localtimestamp) | Synonym for the `current_localtimestamp()` function call. |\n| [`timezone(text, timestamp)`](#timezonetext-timestamp) | Use the [date parts]({% link docs/stable/sql/functions/datepart.md %}) of the timestamp in GMT to construct a timestamp in the given time zone. Effectively, the argument is a “local” time. |\n| [`timezone(text, timestamptz)`](#timezonetext-timestamptz) | Use the [date parts]({% link docs/stable/sql/functions/datepart.md %}) of the timestamp in the given time zone to construct a timestamp. Effectively, the result is a “local” time. |", "position": 38, "token_count": 203, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-functions-timestamptz-038", "document_id": "sql-functions-timestamptz", "position": 38, "token_count": 203, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz"}}
{"chunk_id": "sql-functions-timestamptz-039", "document_id": "sql-functions-timestamptz", "content": "#### `current_localtime()`\n\n| **Description** | Returns a `TIME` whose GMT bin values correspond to local time in the current time zone. |\n| **Example** | `current_localtime()` |\n| **Result** | `08:47:56.497` |\n\n#### `current_localtimestamp()`\n\n| **Description** | Returns a `TIMESTAMP` whose GMT bin values correspond to local date and time in the current time zone. |\n| **Example** | `current_localtimestamp()` |\n| **Result** | `2022-12-17 08:47:56.497` |\n\n#### `localtime`\n\n| **Description** | Synonym for the `current_localtime()` function call. |\n| **Example** | `localtime` |\n| **Result** | `08:47:56.497` |", "position": 39, "token_count": 224, "has_code": false, "section_hierarchy": ["`localtime`"], "metadata": {"chunk_id": "sql-functions-timestamptz-039", "document_id": "sql-functions-timestamptz", "position": 39, "token_count": 224, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`localtime`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#localtime"}}
{"chunk_id": "sql-functions-timestamptz-040", "document_id": "sql-functions-timestamptz", "content": "#### `localtimestamp`\n\n| **Description** | Synonym for the `current_localtimestamp()` function call. |\n| **Example** | `localtimestamp` |\n| **Result** | `2022-12-17 08:47:56.497` |\n\n#### `timezone(text, timestamp)`\n\n| **Description** | Use the [date parts]({% link docs/stable/sql/functions/datepart.md %}) of the timestamp in GMT to construct a timestamp in the given time zone. Effectively, the argument is a “local” time. |\n| **Example** | `timezone('America/Denver', TIMESTAMP '2001-02-16 20:38:40')` |\n| **Result** | `2001-02-16 19:38:40-08` |", "position": 40, "token_count": 212, "has_code": false, "section_hierarchy": ["`timezone(text, timestamp)`"], "metadata": {"chunk_id": "sql-functions-timestamptz-040", "document_id": "sql-functions-timestamptz", "position": 40, "token_count": 212, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`timezone(text, timestamp)`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#timezonetext-timestamp"}}
{"chunk_id": "sql-functions-timestamptz-041", "document_id": "sql-functions-timestamptz", "content": "#### `timezone(text, timestamptz)`\n\n| **Description** | Use the [date parts]({% link docs/stable/sql/functions/datepart.md %}) of the timestamp in the given time zone to construct a timestamp. Effectively, the result is a “local” time. |\n| **Example** | `timezone('America/Denver', TIMESTAMPTZ '2001-02-16 20:38:40-05')` |\n| **Result** | `2001-02-16 18:38:40` |", "position": 41, "token_count": 139, "has_code": false, "section_hierarchy": ["`timezone(text, timestamptz)`"], "metadata": {"chunk_id": "sql-functions-timestamptz-041", "document_id": "sql-functions-timestamptz", "position": 41, "token_count": 139, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["`timezone(text, timestamptz)`"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#timezonetext-timestamptz"}}
{"chunk_id": "sql-functions-timestamptz-042", "document_id": "sql-functions-timestamptz", "content": "## At Time Zone\n\nThe `AT TIME ZONE` syntax is syntactic sugar for the (two argument) `timezone` function listed above:\n\n```sql\nSELECT TIMESTAMP '2001-02-16 20:38:40' AT TIME ZONE 'America/Denver' AS ts;\n```\n\n```text\n2001-02-16 19:38:40-08\n```\n\n```sql\nSELECT TIMESTAMP WITH TIME ZONE '2001-02-16 20:38:40-05' AT TIME ZONE 'America/Denver' AS ts;\n```\n\n```text\n2001-02-16 18:38:40\n```\n\nNote that numeric timezones are not allowed:\n\n```sql\nSELECT TIMESTAMP '2001-02-16 20:38:40-05' AT TIME ZONE '0200' AS ts;\n```\n\n```console\nNot implemented Error: Unknown TimeZone '0200'\n```", "position": 42, "token_count": 206, "has_code": true, "section_hierarchy": ["At Time Zone"], "metadata": {"chunk_id": "sql-functions-timestamptz-042", "document_id": "sql-functions-timestamptz", "position": 42, "token_count": 206, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["At Time Zone"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#at-time-zone"}}
{"chunk_id": "sql-functions-timestamptz-043", "document_id": "sql-functions-timestamptz", "content": "## Infinities\n\nFunctions applied to infinite dates will either return the same infinite dates\n(e.g., `greatest`) or `NULL` (e.g., `date_part`) depending on what “makes sense”.\nIn general, if the function needs to examine the parts of the infinite temporal value,\nthe result will be `NULL`.\n\n## Calendars\n\nThe ICU extension also supports [non-Gregorian calendars]({% link docs/stable/sql/data_types/timestamp.md %}#calendar-support).\nIf such a calendar is current, then the display and binning operations will use that calendar.", "position": 43, "token_count": 142, "has_code": false, "section_hierarchy": ["Calendars"], "metadata": {"chunk_id": "sql-functions-timestamptz-043", "document_id": "sql-functions-timestamptz", "position": 43, "token_count": 142, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Calendars"], "file_path": "sql/functions/timestamptz.md", "url": "/sql/functions/timestamptz", "title": "Timestamp with Time Zone Functions", "category": null, "tags": [], "section_url": "/sql/functions/timestamptz#calendars"}}

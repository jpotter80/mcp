{"chunk_id": "sql-query_syntax-prepared_statements-000", "document_id": "sql-query_syntax-prepared_statements", "content": "DuckDB supports prepared statements where parameters are substituted when the query is executed.\nThis can improve readability and is useful for preventing [SQL injections](https://en.wikipedia.org/wiki/SQL_injection).", "position": 0, "token_count": 51, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "sql-query_syntax-prepared_statements-000", "document_id": "sql-query_syntax-prepared_statements", "position": 0, "token_count": 51, "has_code": false, "overlap_with_previous": false, "section_hierarchy": [], "file_path": "sql/query_syntax/prepared_statements.md", "url": "/sql/query_syntax/prepared_statements", "title": "Prepared Statements", "category": null, "tags": [], "section_url": "/sql/query_syntax/prepared_statements"}}
{"chunk_id": "sql-query_syntax-prepared_statements-001", "document_id": "sql-query_syntax-prepared_statements", "content": "## Syntax\n\nThere are three syntaxes for denoting parameters in prepared statements:\nauto-incremented (`?`),\npositional (`$1`),\nand named (`$param`).\nNote that not all clients support all of these syntaxes, e.g., the [JDBC client]({% link docs/stable/clients/java.md %}) only supports auto-incremented parameters in prepared statements.\n\n### Example Dataset\n\nIn the following, we introduce the three different syntaxes and illustrate them with examples using the following table.\n\n```sql\nCREATE TABLE person (name VARCHAR, age BIGINT);\nINSERT INTO person VALUES ('Alice', 37), ('Ana', 35), ('Bob', 41), ('Bea', 25);\n```\n\nIn our example query, we'll look for people whose name starts with a `B` and are at least 40 years old.\nThis will return a single row ``.", "position": 1, "token_count": 220, "has_code": true, "section_hierarchy": ["Example Dataset"], "metadata": {"chunk_id": "sql-query_syntax-prepared_statements-001", "document_id": "sql-query_syntax-prepared_statements", "position": 1, "token_count": 220, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Example Dataset"], "file_path": "sql/query_syntax/prepared_statements.md", "url": "/sql/query_syntax/prepared_statements", "title": "Prepared Statements", "category": null, "tags": [], "section_url": "/sql/query_syntax/prepared_statements#example-dataset"}}
{"chunk_id": "sql-query_syntax-prepared_statements-002", "document_id": "sql-query_syntax-prepared_statements", "content": "### Auto-Incremented Parameters: `?`\n\nDuckDB support using prepared statements with auto-incremented indexing,\ni.e., the position of the parameters in the query corresponds to their position in the execution statement.\nFor example:\n\n```sql\nPREPARE query_person AS\n SELECT *\n FROM person\n WHERE starts_with(name, ?)\n AND age >= ?;\n```\n\nUsing the CLI client, the statement is executed as follows.\n\n```sql\nEXECUTE query_person('B', 40);\n```\n\n### Positional Parameters: `$1`\n\nPrepared statements can use positional parameters, where parameters are denoted with an integer (`$1`, `$2`).\nFor example:\n\n```sql\nPREPARE query_person AS\n SELECT *\n FROM person\n WHERE starts_with(name, $2)\n AND age >= $1;\n```\n\nUsing the CLI client, the statement is executed as follows.\nNote that the first parameter corresponds to `$1`, the second to `$2`, and so on.\n\n```sql\nEXECUTE query_person(40, 'B');\n```", "position": 2, "token_count": 248, "has_code": true, "section_hierarchy": ["Positional Parameters: `$1`"], "metadata": {"chunk_id": "sql-query_syntax-prepared_statements-002", "document_id": "sql-query_syntax-prepared_statements", "position": 2, "token_count": 248, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Positional Parameters: `$1`"], "file_path": "sql/query_syntax/prepared_statements.md", "url": "/sql/query_syntax/prepared_statements", "title": "Prepared Statements", "category": null, "tags": [], "section_url": "/sql/query_syntax/prepared_statements#positional-parameters-1"}}
{"chunk_id": "sql-query_syntax-prepared_statements-003", "document_id": "sql-query_syntax-prepared_statements", "content": "### Named Parameters: `$parameter`\n\nDuckDB also supports names parameters where parameters are denoted with `$parameter_name`.\nFor example:\n\n```sql\nPREPARE query_person AS\n SELECT *\n FROM person\n WHERE starts_with(name, $name_start_letter)\n AND age >= $minimum_age;\n```\n\nUsing the CLI client, the statement is executed as follows.\n\n```sql\nEXECUTE query_person(name_start_letter := 'B', minimum_age := 40);\n```", "position": 3, "token_count": 116, "has_code": true, "section_hierarchy": ["Named Parameters: `$parameter`"], "metadata": {"chunk_id": "sql-query_syntax-prepared_statements-003", "document_id": "sql-query_syntax-prepared_statements", "position": 3, "token_count": 116, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Named Parameters: `$parameter`"], "file_path": "sql/query_syntax/prepared_statements.md", "url": "/sql/query_syntax/prepared_statements", "title": "Prepared Statements", "category": null, "tags": [], "section_url": "/sql/query_syntax/prepared_statements#named-parameters-parameter"}}
{"chunk_id": "sql-query_syntax-prepared_statements-004", "document_id": "sql-query_syntax-prepared_statements", "content": "## Dropping Prepared Statements: `DEALLOCATE`\n\nTo drop a prepared statement, use the `DEALLOCATE` statement:\n\n```sql\nDEALLOCATE query_person;\n```\n\nAlternatively, use:\n\n```sql\nDEALLOCATE PREPARE query_person;\n```", "position": 4, "token_count": 61, "has_code": true, "section_hierarchy": ["Dropping Prepared Statements: `DEALLOCATE`"], "metadata": {"chunk_id": "sql-query_syntax-prepared_statements-004", "document_id": "sql-query_syntax-prepared_statements", "position": 4, "token_count": 61, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Dropping Prepared Statements: `DEALLOCATE`"], "file_path": "sql/query_syntax/prepared_statements.md", "url": "/sql/query_syntax/prepared_statements", "title": "Prepared Statements", "category": null, "tags": [], "section_url": "/sql/query_syntax/prepared_statements#dropping-prepared-statements-deallocate"}}

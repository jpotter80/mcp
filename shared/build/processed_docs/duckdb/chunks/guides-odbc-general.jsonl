{"chunk_id": "guides-odbc-general-000", "document_id": "guides-odbc-general", "content": "## What is ODBC?\n\n[ODBC](https://learn.microsoft.com/en-us/sql/odbc/microsoft-open-database-connectivity-odbc?view=sql-server-ver16) which stands for Open Database Connectivity, is a standard that allows different programs to talk to different databases including, of course, DuckDB. This makes it easier to build programs that work with many different databases, which saves time as developers don't have to write custom code to connect to each database. Instead, they can use the standardized ODBC interface, which reduces development time and costs, and programs are easier to maintain. However, ODBC can be slower than other methods of connecting to a database, such as using a native driver, as it adds an extra layer of abstraction between the application and the database. Furthermore, because DuckDB is column-based and ODBC is row-based, there can be some inefficiencies when using ODBC with DuckDB.", "position": 0, "token_count": 219, "has_code": false, "section_hierarchy": ["What is ODBC?"], "metadata": {"chunk_id": "guides-odbc-general-000", "document_id": "guides-odbc-general", "position": 0, "token_count": 219, "has_code": false, "overlap_with_previous": false, "section_hierarchy": ["What is ODBC?"], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general#what-is-odbc"}}
{"chunk_id": "guides-odbc-general-001", "document_id": "guides-odbc-general", "content": "> There are links throughout this page to the official [Microsoft ODBC documentation](https://learn.microsoft.com/en-us/sql/odbc/reference/odbc-programmer-s-reference?view=sql-server-ver16), which is a great resource for learning more about ODBC.", "position": 1, "token_count": 76, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "guides-odbc-general-001", "document_id": "guides-odbc-general", "position": 1, "token_count": 76, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general"}}
{"chunk_id": "guides-odbc-general-002", "document_id": "guides-odbc-general", "content": "## General Concepts\n\n* [Handles](#handles)\n* [Connecting](#connecting)\n* [Error Handling and Diagnostics](#error-handling-and-diagnostics)\n* [Buffers and Binding](#buffers-and-binding)", "position": 2, "token_count": 57, "has_code": false, "section_hierarchy": ["General Concepts"], "metadata": {"chunk_id": "guides-odbc-general-002", "document_id": "guides-odbc-general", "position": 2, "token_count": 57, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["General Concepts"], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general#general-concepts"}}
{"chunk_id": "guides-odbc-general-003", "document_id": "guides-odbc-general", "content": "### Handles\n\nA [handle](https://learn.microsoft.com/en-us/sql/odbc/reference/develop-app/handles?view=sql-server-ver16) is a pointer to a specific ODBC object which is used to interact with the database. There are several different types of handles, each with a different purpose, these are the environment handle, the connection handle, the statement handle, and the descriptor handle. Handles are allocated using the [`SQLAllocHandle`](https://learn.microsoft.com/en-us/sql/odbc/reference/syntax/sqlallochandle-function?view=sql-server-ver16) which takes as input the type of handle to allocate, and a pointer to the handle, the driver then creates a new handle of the specified type which it returns to the application.\n\nThe DuckDB ODBC driver has the following handle types.", "position": 3, "token_count": 211, "has_code": false, "section_hierarchy": ["Handles"], "metadata": {"chunk_id": "guides-odbc-general-003", "document_id": "guides-odbc-general", "position": 3, "token_count": 211, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Handles"], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general#handles"}}
{"chunk_id": "guides-odbc-general-004", "document_id": "guides-odbc-general", "content": "#### Environment\n\n| **Handle name** | [Environment](https://learn.microsoft.com/en-us/sql/odbc/reference/develop-app/environment-handles?view=sql-server-ver16) |\n| **Type name** | `SQL_HANDLE_ENV` |\n| **Description** | Manages the environment settings for ODBC operations, and provides a global context in which to access data. |\n| **Use case** | Initializing ODBC, managing driver behavior, resource allocation |\n| **Additional information** | Must be [allocated](https://learn.microsoft.com/en-us/sql/odbc/reference/develop-app/allocating-the-environment-handle?view=sql-server-ver16) once per application upon starting, and freed at the end. |", "position": 4, "token_count": 199, "has_code": false, "section_hierarchy": ["Environment"], "metadata": {"chunk_id": "guides-odbc-general-004", "document_id": "guides-odbc-general", "position": 4, "token_count": 199, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Environment"], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general#environment"}}
{"chunk_id": "guides-odbc-general-005", "document_id": "guides-odbc-general", "content": "#### Connection\n\n| **Handle name** | [Connection](https://learn.microsoft.com/en-us/sql/odbc/reference/develop-app/connection-handles?view=sql-server-ver16) |\n| **Type name** | `SQL_HANDLE_DBC` |\n| **Description** | Represents a connection to a data source. Used to establish, manage, and terminate connections. Defines both the driver and the data source to use within the driver. |\n| **Use case** | Establishing a connection to a database, managing the connection state |\n| **Additional information** | Multiple connection handles can be [created](https://learn.microsoft.com/en-us/sql/odbc/reference/develop-app/allocating-a-connection-handle-odbc?view=sql-server-ver16) as needed, allowing simultaneous connections to multiple data sources. *Note:* Allocating a connection handle does not establish a connection, but must be allocated first, and then used once the connection has been established. |", "position": 5, "token_count": 246, "has_code": false, "section_hierarchy": ["Connection"], "metadata": {"chunk_id": "guides-odbc-general-005", "document_id": "guides-odbc-general", "position": 5, "token_count": 246, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Connection"], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general#connection"}}
{"chunk_id": "guides-odbc-general-006", "document_id": "guides-odbc-general", "content": "#### Statement\n\n| **Handle name** | [Statement](https://learn.microsoft.com/en-us/sql/odbc/reference/develop-app/statement-handles?view=sql-server-ver16)\n| **Type name** | `SQL_HANDLE_STMT`\n| **Description** | Handles the execution of SQL statements, as well as the returned result sets.\n| **Use case** | Executing SQL queries, fetching result sets, managing statement options.\n| **Additional information** | To facilitate the execution of concurrent queries, multiple handles can be [allocated](https://learn.microsoft.com/en-us/sql/odbc/reference/develop-app/allocating-a-statement-handle-odbc?view=sql-server-ver16) per connection.", "position": 6, "token_count": 196, "has_code": false, "section_hierarchy": ["Statement"], "metadata": {"chunk_id": "guides-odbc-general-006", "document_id": "guides-odbc-general", "position": 6, "token_count": 196, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Statement"], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general#statement"}}
{"chunk_id": "guides-odbc-general-007", "document_id": "guides-odbc-general", "content": "#### Descriptor\n\n| **Handle name** | [Descriptor](https://learn.microsoft.com/en-us/sql/odbc/reference/develop-app/descriptor-handles?view=sql-server-ver16)\n| **Type name** | `SQL_HANDLE_DESC`\n| **Description** | Describes the attributes of a data structure or parameter, and allows the application to specify the structure of data to be bound/retrieved.\n| **Use case** | Describing table structures, result sets, binding columns to application buffers\n| **Additional information** | Used in situations where data structures need to be explicitly defined, for example during parameter binding or result set fetching. They are automatically allocated when a statement is allocated, but can also be allocated explicitly.", "position": 7, "token_count": 183, "has_code": false, "section_hierarchy": ["Descriptor"], "metadata": {"chunk_id": "guides-odbc-general-007", "document_id": "guides-odbc-general", "position": 7, "token_count": 183, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Descriptor"], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general#descriptor"}}
{"chunk_id": "guides-odbc-general-008", "document_id": "guides-odbc-general", "content": "### Connecting\n\nThe first step is to connect to the data source so that the application can perform database operations. First the application must allocate an environment handle, and then a connection handle. The connection handle is then used to connect to the data source. There are two functions which can be used to connect to a data source, [`SQLDriverConnect`](https://learn.microsoft.com/en-us/sql/odbc/reference/syntax/sqldriverconnect-function?view=sql-server-ver16) and [`SQLConnect`](https://learn.microsoft.com/en-us/sql/odbc/reference/syntax/sqlconnect-function?view=sql-server-ver16). The former is used to connect to a data source using a connection string, while the latter is used to connect to a data source using a DSN.", "position": 8, "token_count": 205, "has_code": false, "section_hierarchy": ["Connecting"], "metadata": {"chunk_id": "guides-odbc-general-008", "document_id": "guides-odbc-general", "position": 8, "token_count": 205, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Connecting"], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general#connecting"}}
{"chunk_id": "guides-odbc-general-009", "document_id": "guides-odbc-general", "content": "#### Connection String\n\nA [connection string](https://learn.microsoft.com/en-us/sql/odbc/reference/develop-app/connection-strings?view=sql-server-ver16) is a string which contains the information needed to connect to a data source. It is formatted as a semicolon separated list of key-value pairs, however DuckDB currently only utilizes the DSN and ignores the rest of the parameters.\n\n#### DSN\n\nA DSN (_Data Source Name_) is a string that identifies a database. It can be a file path, URL, or a database name. For example: `C:\\Users\\me\\duckdb.db` and `DuckDB` are both valid DSNs. More information on DSNs can be found on the [“Choosing a Data Source or Driver” page of the SQL Server documentation](https://learn.microsoft.com/en-us/sql/odbc/reference/develop-app/choosing-a-data-source-or-driver?view=sql-server-ver16).", "position": 9, "token_count": 245, "has_code": false, "section_hierarchy": ["DSN"], "metadata": {"chunk_id": "guides-odbc-general-009", "document_id": "guides-odbc-general", "position": 9, "token_count": 245, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["DSN"], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general#dsn"}}
{"chunk_id": "guides-odbc-general-010", "document_id": "guides-odbc-general", "content": "### Error Handling and Diagnostics\n\nAll functions in ODBC return a code which represents the success or failure of the function. This allows for easy error handling, as the application can simply check the return code of each function call to determine if it was successful. When unsuccessful, the application can then use the [`SQLGetDiagRec`](https://learn.microsoft.com/en-us/sql/odbc/reference/syntax/sqlgetdiagrec-function?view=sql-server-ver16) function to retrieve the error information. The following table defines the [return codes](https://learn.microsoft.com/en-us/sql/odbc/reference/develop-app/return-codes-odbc?view=sql-server-ver16):", "position": 10, "token_count": 179, "has_code": false, "section_hierarchy": ["Error Handling and Diagnostics"], "metadata": {"chunk_id": "guides-odbc-general-010", "document_id": "guides-odbc-general", "position": 10, "token_count": 179, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Error Handling and Diagnostics"], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general#error-handling-and-diagnostics"}}
{"chunk_id": "guides-odbc-general-011", "document_id": "guides-odbc-general", "content": "| Return code | Description |\n|-------------------------|----------------------------------------------------|\n| `SQL_SUCCESS` | The function completed successfully |\n| `SQL_SUCCESS_WITH_INFO` | The function completed successfully, but additional information is available, including a warning |\n| `SQL_ERROR` | The function failed |\n| `SQL_INVALID_HANDLE` | The handle provided was invalid, indicating a programming error, i.e., when a handle is not allocated before it is used, or is the wrong type |\n| `SQL_NO_DATA` | The function completed successfully, but no more data is available |", "position": 11, "token_count": 200, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "guides-odbc-general-011", "document_id": "guides-odbc-general", "position": 11, "token_count": 200, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general"}}
{"chunk_id": "guides-odbc-general-012", "document_id": "guides-odbc-general", "content": "| `SQL_NO_DATA` | The function completed successfully, but no more data is available |\n| `SQL_NEED_DATA` | More data is needed, such as when a parameter data is sent at execution time, or additional connection information is required |\n| `SQL_STILL_EXECUTING` | A function that was asynchronously executed is still executing |", "position": 12, "token_count": 79, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "guides-odbc-general-012", "document_id": "guides-odbc-general", "position": 12, "token_count": 79, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general"}}
{"chunk_id": "guides-odbc-general-013", "document_id": "guides-odbc-general", "content": "### Buffers and Binding\n\nA buffer is a block of memory used to store data. Buffers are used to store data retrieved from the database, or to send data to the database. Buffers are allocated by the application, and then bound to a column in a result set, or a parameter in a query, using the [`SQLBindCol`](https://learn.microsoft.com/en-us/sql/odbc/reference/syntax/sqlbindcol-function?view=sql-server-ver16) and [`SQLBindParameter`](https://learn.microsoft.com/en-us/sql/odbc/reference/syntax/sqlbindparameter-function?view=sql-server-ver16) functions. When the application fetches a row from the result set, or executes a query, the data is stored in the buffer. When the application sends a query to the database, the data in the buffer is sent to the database.", "position": 13, "token_count": 221, "has_code": false, "section_hierarchy": ["Buffers and Binding"], "metadata": {"chunk_id": "guides-odbc-general-013", "document_id": "guides-odbc-general", "position": 13, "token_count": 221, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Buffers and Binding"], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general#buffers-and-binding"}}
{"chunk_id": "guides-odbc-general-014", "document_id": "guides-odbc-general", "content": "## Setting up an Application\n\nThe following is a step-by-step guide to setting up an application that uses ODBC to connect to a database, execute a query, and fetch the results in `C++`.\n\n> To install the driver as well as anything else you will need follow these [instructions]({% link docs/stable/clients/odbc/overview.md %}).", "position": 14, "token_count": 89, "has_code": false, "section_hierarchy": ["Setting up an Application"], "metadata": {"chunk_id": "guides-odbc-general-014", "document_id": "guides-odbc-general", "position": 14, "token_count": 89, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["Setting up an Application"], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general#setting-up-an-application"}}
{"chunk_id": "guides-odbc-general-015", "document_id": "guides-odbc-general", "content": "### 1. Include the SQL Header Files\n\nThe first step is to include the SQL header files:\n\n```cpp\n#include\n#include\n```\n\nThese files contain the definitions of the ODBC functions, as well as the data types used by ODBC. In order to be able to use these header files you have to have the `unixodbc` package installed:\n\nOn macOS:\n\n```batch\nbrew install unixodbc\n```\n\nOn Ubuntu and Debian:\n\n```batch\nsudo apt-get install -y unixodbc-dev\n```\n\nOn Fedora, CentOS, and Red Hat:\n\n```batch\nsudo yum install -y unixODBC-devel\n```\n\nRemember to include the header file location in your `CFLAGS`.\n\nFor `MAKEFILE`:\n\n```make\nCFLAGS=-I/usr/local/include", "position": 15, "token_count": 195, "has_code": true, "section_hierarchy": ["1. Include the SQL Header Files"], "metadata": {"chunk_id": "guides-odbc-general-015", "document_id": "guides-odbc-general", "position": 15, "token_count": 195, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["1. Include the SQL Header Files"], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general#1-include-the-sql-header-files"}}
{"chunk_id": "guides-odbc-general-016", "document_id": "guides-odbc-general", "content": "# or\nCFLAGS=-/opt/homebrew/Cellar/unixodbc/2.3.11/include\n```\n\nFor `CMAKE`:\n\n```cmake\ninclude_directories(/usr/local/include)", "position": 16, "token_count": 55, "has_code": true, "section_hierarchy": ["or"], "metadata": {"chunk_id": "guides-odbc-general-016", "document_id": "guides-odbc-general", "position": 16, "token_count": 55, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["or"], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general#or"}}
{"chunk_id": "guides-odbc-general-017", "document_id": "guides-odbc-general", "content": "# or\ninclude_directories(/opt/homebrew/Cellar/unixodbc/2.3.11/include)\n```\n\nYou also have to link the library in your `CMAKE` or `MAKEFILE`.\nFor `CMAKE`:\n\n```cmake\ntarget_link_libraries(ODBC_application /path/to/duckdb_odbc/libduckdb_odbc.dylib)\n```\n\nFor `MAKEFILE`:\n\n```make\nLDLIBS=-L/path/to/duckdb_odbc/libduckdb_odbc.dylib\n```", "position": 17, "token_count": 149, "has_code": true, "section_hierarchy": ["or"], "metadata": {"chunk_id": "guides-odbc-general-017", "document_id": "guides-odbc-general", "position": 17, "token_count": 149, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["or"], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general#or"}}
{"chunk_id": "guides-odbc-general-018", "document_id": "guides-odbc-general", "content": "### 2. Define the ODBC Handles and Connect to the Database", "position": 18, "token_count": 18, "has_code": false, "section_hierarchy": ["2. Define the ODBC Handles and Connect to the Database"], "metadata": {"chunk_id": "guides-odbc-general-018", "document_id": "guides-odbc-general", "position": 18, "token_count": 18, "has_code": false, "overlap_with_previous": true, "section_hierarchy": ["2. Define the ODBC Handles and Connect to the Database"], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general#2-define-the-odbc-handles-and-connect-to-the-database"}}
{"chunk_id": "guides-odbc-general-019", "document_id": "guides-odbc-general", "content": "#### 2.a. Connecting with SQLConnect\n\nThen set up the ODBC handles, allocate them, and connect to the database. First the environment handle is allocated, then the environment is set to ODBC version 3, then the connection handle is allocated, and finally the connection is made to the database. The following code snippet shows how to do this:\n\n```cpp\nSQLHANDLE env;\nSQLHANDLE dbc;\n\nSQLAllocHandle(SQL_HANDLE_ENV, SQL_NULL_HANDLE, &env);\n\nSQLSetEnvAttr(env, SQL_ATTR_ODBC_VERSION, (void*)SQL_OV_ODBC3, 0);\n\nSQLAllocHandle(SQL_HANDLE_DBC, env, &dbc);", "position": 19, "token_count": 183, "has_code": true, "section_hierarchy": ["2.a. Connecting with SQLConnect"], "metadata": {"chunk_id": "guides-odbc-general-019", "document_id": "guides-odbc-general", "position": 19, "token_count": 183, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["2.a. Connecting with SQLConnect"], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general#2a-connecting-with-sqlconnect"}}
{"chunk_id": "guides-odbc-general-020", "document_id": "guides-odbc-general", "content": "SQLAllocHandle(SQL_HANDLE_DBC, env, &dbc);\n\nstd::string dsn = \"DSN=duckdbmemory\";\nSQLConnect(dbc, (SQLCHAR*)dsn.c_str(), SQL_NTS, NULL, 0, NULL, 0);\n\nstd::cout\n#include\n#include\n\nvoid check_ret(SQLRETURN ret, std::string msg) {\n if (ret != SQL_SUCCESS && ret != SQL_SUCCESS_WITH_INFO) {\n std::cout << ret << \": \" << msg << \" failed\" << std::endl;\n exit(1);\n }\n if (ret == SQL_SUCCESS_WITH_INFO) {\n std::cout << ret << \": \" << msg << \" succeeded with info\" << std::endl;\n }\n}", "position": 20, "token_count": 226, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "guides-odbc-general-020", "document_id": "guides-odbc-general", "position": 20, "token_count": 226, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general"}}
{"chunk_id": "guides-odbc-general-021", "document_id": "guides-odbc-general", "content": "int main() {\n SQLHANDLE env;\n SQLHANDLE dbc;\n SQLRETURN ret;\n\n ret = SQLAllocHandle(SQL_HANDLE_ENV, SQL_NULL_HANDLE, &env);\n check_ret(ret, \"SQLAllocHandle(env)\");\n\n ret = SQLSetEnvAttr(env, SQL_ATTR_ODBC_VERSION, (void*)SQL_OV_ODBC3, 0);\n check_ret(ret, \"SQLSetEnvAttr\");\n\n ret = SQLAllocHandle(SQL_HANDLE_DBC, env, &dbc);\n check_ret(ret, \"SQLAllocHandle(dbc)\");", "position": 21, "token_count": 175, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "guides-odbc-general-021", "document_id": "guides-odbc-general", "position": 21, "token_count": 175, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general"}}
{"chunk_id": "guides-odbc-general-022", "document_id": "guides-odbc-general", "content": "ret = SQLAllocHandle(SQL_HANDLE_DBC, env, &dbc);\n check_ret(ret, \"SQLAllocHandle(dbc)\");\n\n std::string dsn = \"DSN=duckdbmemory\";\n ret = SQLConnect(dbc, (SQLCHAR*)dsn.c_str(), SQL_NTS, NULL, 0, NULL, 0);\n check_ret(ret, \"SQLConnect\");\n\n std::cout << \"Connected!\" << std::endl;\n\n SQLHANDLE stmt;\n ret = SQLAllocHandle(SQL_HANDLE_STMT, dbc, &stmt);\n check_ret(ret, \"SQLAllocHandle(stmt)\");", "position": 22, "token_count": 195, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "guides-odbc-general-022", "document_id": "guides-odbc-general", "position": 22, "token_count": 195, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general"}}
{"chunk_id": "guides-odbc-general-023", "document_id": "guides-odbc-general", "content": "ret = SQLExecDirect(stmt, (SQLCHAR*)\"SELECT * FROM integers\", SQL_NTS);\n check_ret(ret, \"SQLExecDirect(SELECT * FROM integers)\");\n\n SQLLEN int_val;\n SQLLEN null_val;\n ret = SQLBindCol(stmt, 1, SQL_C_SLONG, &int_val, 0, &null_val);\n check_ret(ret, \"SQLBindCol\");\n\n ret = SQLFetch(stmt);\n check_ret(ret, \"SQLFetch\");\n\n std::cout << \"Value: \" << int_val << std::endl;\n\n ret = SQLFreeHandle(SQL_HANDLE_STMT, stmt);\n check_ret(ret, \"SQLFreeHandle(stmt)\");", "position": 23, "token_count": 210, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "guides-odbc-general-023", "document_id": "guides-odbc-general", "position": 23, "token_count": 210, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general"}}
{"chunk_id": "guides-odbc-general-024", "document_id": "guides-odbc-general", "content": "ret = SQLFreeHandle(SQL_HANDLE_STMT, stmt);\n check_ret(ret, \"SQLFreeHandle(stmt)\");\n\n ret = SQLDisconnect(dbc);\n check_ret(ret, \"SQLDisconnect\");\n\n ret = SQLFreeHandle(SQL_HANDLE_DBC, dbc);\n check_ret(ret, \"SQLFreeHandle(dbc)\");\n\n ret = SQLFreeHandle(SQL_HANDLE_ENV, env);\n check_ret(ret, \"SQLFreeHandle(env)\");\n}", "position": 24, "token_count": 150, "has_code": false, "section_hierarchy": [], "metadata": {"chunk_id": "guides-odbc-general-024", "document_id": "guides-odbc-general", "position": 24, "token_count": 150, "has_code": false, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general"}}
{"chunk_id": "guides-odbc-general-025", "document_id": "guides-odbc-general", "content": "```", "position": 25, "token_count": 5, "has_code": true, "section_hierarchy": [], "metadata": {"chunk_id": "guides-odbc-general-025", "document_id": "guides-odbc-general", "position": 25, "token_count": 5, "has_code": true, "overlap_with_previous": true, "section_hierarchy": [], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general"}}
{"chunk_id": "guides-odbc-general-026", "document_id": "guides-odbc-general", "content": "### Sample `CMakelists.txt` File\n\n```cmake\ncmake_minimum_required(VERSION 3.25)\nproject(ODBC_Tester_App)\n\nset(CMAKE_CXX_STANDARD 17)\ninclude_directories(/opt/homebrew/Cellar/unixodbc/2.3.11/include)\n\nadd_executable(ODBC_Tester_App main.cpp)\ntarget_link_libraries(ODBC_Tester_App /duckdb_odbc/libduckdb_odbc.dylib)\n```", "position": 26, "token_count": 138, "has_code": true, "section_hierarchy": ["Sample `CMakelists.txt` File"], "metadata": {"chunk_id": "guides-odbc-general-026", "document_id": "guides-odbc-general", "position": 26, "token_count": 138, "has_code": true, "overlap_with_previous": true, "section_hierarchy": ["Sample `CMakelists.txt` File"], "file_path": "guides/odbc/general.md", "url": "/guides/odbc/general", "title": "ODBC 101: A Duck Themed Guide to ODBC", "category": null, "tags": [], "section_url": "/guides/odbc/general#sample-cmakeliststxt-file"}}
